var dmaf=function(e){function t(e,t,i){return e&&t&&i?(k||n(e,t,i),void 0):(console.log(a()),void 0)}function n(e,t,n){N[e]=n,n.deps=t,n.name=e}function a(){return"Dinahmoe Web Audio Framework Version: "+E}function s(e){return I[e]||(r([e]),I[e]||{})}function r(e){for(var n,a=0,i=e.length;i>a;a++)if(n=e[a],!I[n]&&N[n]){if(!N[n].deps)return null;r.call(t,N[n].deps),I[n]=N[n].apply(t,o(N[n].deps))||{}}}function o(e){for(var t=[],n=0;e.length>n;n++)t.push(I[e[n]]);return t}function l(e){t.dev&&M.projectPath?p(M.projectPath+"project.xml","document",u):d(e),t.init=function(){t.log&&console.warn("dmaf has already been initialized.")}}function d(e){s("init")(e,s,N,M.descriptorsXML,M.configXML,M.assetsXML,M.logs||[])}function c(e,t){var n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.async=!0,n.onload=function(){t(),setTimeout(function(){document.body.removeChild(n)},1)},n.src=e,document.body.appendChild(n)}function p(e,t,n){var a=new XMLHttpRequest;a.onload=function(){n(this.response)},a.open("GET",e,!0),a.responseType=t,a.send()}function u(e){var t=e.querySelector("framework"),n=e.querySelector("include"),a=e.querySelector("logs");if(t=t&&t.getAttribute("path"),n=n&&n.getAttribute("scripts"),a=a&&a.getAttribute("channels"),!t)throw new TypeError("Missing framework path.");M.customScripts=n&&n.split(",")||[],M.logs=a&&a.split(","),M.frameworkPath=t,M.configPath=M.projectPath+"config.xml",M.assetsPath=M.projectPath+"assets/",M.loadPath=M.projectPath+"assets.xml",M.customScripts=M.customScripts.map(function(e){return M.assetsPath+"js/"+e}),p(t+"src/scripts.json","text",m)}function m(e){var t,n=JSON.parse(e);n=n.concat(M.customScripts),M.files.toLoad=n.length,k=!1,console.log("Loading dmaf from:",M.frameworkPath);for(var a=0;M.files.toLoad>a;a++)t=/http/.test(n[a])?n[a]:M.frameworkPath+n[a],c(t,h)}function h(){++M.files.loaded===M.files.toLoad&&p(M.frameworkPath+"src/xml/descriptors.xml","document",f)}function f(e){M.descriptorsXML=e,p(M.configPath,"document",_)}function _(e){M.configXML=e,p(M.loadPath,"document",g)}function g(e){M.assetsXML=e,d(M.assetsPath)}function y(e){var n=[],a=function(){n.push(arguments)};a.resolve=function(a){for(t[e]=a||function(){};n.length;)a.apply(t,n.shift())},t[e]=a}var v=!("undefined"==typeof window||!e.navigator||!e.document),b=v&&!(!e.webkitAudioContext&&!e.AudioContext),A="undefined"!=typeof Audio,T=e.location&&e.location.href.split("?")||[],P=/^dmaf\=/,E="4.2.13",N={},I={},x=["once","registerObject","unregisterObject","addEventListener","removeEventListener","tell"],M={files:{loaded:0,total:0},projectPath:""},k=!1;for(x.forEach(y),t.prototype=null,t.isBrowser=v,t.hasHTMLAudio=A,t.hasContext=b,t.toString=a,t.init=l,t.dev=!1,i=0;T.length>i;i++)if(P.test(T[i])){console.log("DMAF is running in development mode."),t.dev=k=!0,M.projectPath=T[i].replace(P,"");break}return"undefined"!=typeof module&&module.exports?module.exports=t:"undefined"!=typeof define&&define("dmaf",[],function(){return t}),1&&(e.dmaf=t)}(this);dmaf("settings",["DMAF"],function(e){e.Settings={assetsPath:"./dmaf__assets/",descriptors:{validActions:["loadCustomCode","loadSound","cacheHTMLAudio","loadHTMLAudio","loadMIDI","loadSampleMap","loadBin","customCode","userObject","mediaElement","mediaController","genericPlay","stepPlay","htmlPlay","soundStop","midiProcessor","makeNote","transform","macro","state","eventMapper","midiNoteMapper","timePatternPlayer","beatPatternPlayer","sampler","audioBus"],validTypes:["noteMap","stateMap","eventMap","file","map","target","sampleMapGroup","sampleMap","start","stop","add","beatEvent","band","chorus","overdrive","compressor","cabinet","filter","convolver","delay","envelopeFollower","equalizer","lfo","phaser","pingPongDelay","tremolo","wahWah"],action:{assetController:{loadCustomCode:{type:"assetController",id:"loadCustomCode",instanceId:{name:"instanceId",type:"string"},returnEvent:{name:"returnEvent",type:"string"},files:{name:"files",type:"array",valueType:"file"},"":{type:"assetController"}},type:"assetController",loadSound:{type:"assetController",id:"loadSound",instanceId:{name:"instanceId",type:"string"},returnEvent:{name:"returnEvent",type:"string"},files:{name:"files",type:"array",valueType:"file"},"":{type:"assetController"}},cacheHTMLAudio:{type:"assetController",id:"cacheHTMLAudio",instanceId:{name:"instanceId",type:"string"},returnEvent:{name:"returnEvent",type:"string"},files:{name:"files",type:"array",valueType:"file"},"":{type:"assetController"}},loadHTMLAudio:{type:"assetController",id:"loadHTMLAudio",instanceId:{name:"instanceId",type:"string"},returnEvent:{name:"returnEvent",type:"string"},files:{name:"files",type:"array",valueType:"file"},"":{type:"assetController"}},loadMIDI:{type:"assetController",id:"loadMIDI",instanceId:{name:"instanceId",type:"string"},returnEvent:{name:"returnEvent",type:"string"},files:{name:"files",type:"array",valueType:"file"},"":{type:"assetController"}},loadSampleMap:{type:"assetController",id:"loadSampleMap",instanceId:{name:"instanceId",type:"string"},returnEvent:{name:"returnEvent",type:"string"},files:{name:"files",type:"array",valueType:"file"},"":{type:"assetController"}},loadBin:{type:"assetController",id:"loadBin",instanceId:{name:"instanceId",type:"string"},returnEvent:{name:"returnEvent",type:"string"},"":{type:"assetController"}}},customCode:{customCode:{type:"customCode",id:"customCode",instanceId:{name:"instanceId",type:"string"},"":{type:"customCode"}},type:"customCode",userObject:{type:"customCode",id:"userObject",instanceId:{name:"instanceId",type:"string"},"":{type:"customCode"}}},mediaElement:{mediaElement:{type:"mediaElement",id:"mediaElement",instanceId:{name:"instanceId",type:"string"},"":{type:"mediaElement"}},type:"mediaElement"},control:{mediaController:{type:"control",id:"mediaController",instanceId:{name:"instanceId",type:"string","default":"multi"},"":{type:"control"}},type:"control"},sound:{genericPlay:{type:"sound",id:"genericPlay",delay:{name:"delay",type:"int","default":0,min:-1e6,max:1e6},instanceId:{name:"instanceId",type:"string","default":"multi"},soundFile:{name:"soundFile",type:"string","default":"multi"},multiSuffix:{name:"multiSuffix",type:"string","default":""},volume:{name:"volume",type:"float",unit:"dB","default":0,min:-90,max:48},pan:{name:"pan",type:"int","default":0,min:-100,max:100},loop:{name:"loop",type:"int",unit:"mS","default":-1,min:-2,max:1e5},reTrig:{name:"reTrig",type:"int",unit:"mS","default":-1,min:-1,max:1e5},returnEvent:{name:"returnEvent",type:"string"},returnEventTime:{name:"returnEventTime",type:"int",unit:"mS","default":-1,min:-1e6,max:1e5},preListen:{name:"preListen",type:"int","default":0,min:0,max:500},bus:{name:"bus",type:"string","default":"master"},priority:{name:"priority",type:"boolean","default":!1},timingCorrection:{name:"timingCorrection",type:"enum","default":"PLAY",values:["RESYNC","SYNC","PLAY"]},fadeIn:{name:"fadeIn",type:"int",min:0,max:1e6,"default":0},"":{type:"sound"}},type:"sound",stepPlay:{type:"sound",id:"stepPlay",delay:{name:"delay",type:"int","default":0,min:0,max:1e5},instanceId:{name:"instanceId",type:"string"},soundFiles:{name:"soundFiles",type:"list"},generator:{name:"generator",type:"enum","default":"SHUFFLE",values:["SHUFFLE","RANDOM","RANDOM_FIRST","ROUND_ROBIN"]},volume:{name:"volume",type:"float","default":0,min:-90,max:48},pan:{name:"pan",type:"int","default":0,min:-100,max:100},reTrig:{name:"reTrig",type:"int","default":-1,min:-1,max:1e5},returnEvent:{name:"returnEvent",type:"string","default":"",values:["ALL"]},returnEventTime:{name:"returnEventTime",type:"int","default":-1,min:-1e6,max:1e5},preListen:{name:"preListen",type:"int","default":0,min:0,max:500},bus:{name:"bus",type:"string","default":"master",values:["ALL"]},priority:{name:"priority",type:"boolean","default":!1},timingCorrection:{name:"timingCorrection",type:"enum","default":"SYNC",values:["SYNC","PLAY"]},fadeIn:{name:"fadeIn",type:"int",min:0,max:1e6,"default":0},"":{type:"sound"}},htmlPlay:{type:"sound",id:"htmlPlay",delay:{name:"delay",type:"int","default":0,min:-1e6,max:1e6},instanceId:{name:"instanceId",type:"string","default":"multi"},soundFile:{name:"soundFile",type:"string","default":"multi"},multiSuffix:{name:"multiSuffix",type:"string","default":""},volume:{name:"volume",type:"float",unit:"dB","default":0,min:-90,max:48},loop:{name:"loop",type:"int",unit:"mS","default":-1,min:-2,max:1e5},reTrig:{name:"reTrig",type:"int",unit:"mS","default":-1,min:-1,max:1e5},returnEvent:{name:"returnEvent",type:"string"},returnEventTime:{name:"returnEventTime",type:"int",unit:"mS","default":-1,min:-1e6,max:1e5},timingCorrection:{name:"timingCorrection",type:"enum","default":"PLAY",values:["RESYNC","SYNC","PLAY"]},"":{type:"sound"}},soundStop:{type:"sound",id:"soundStop",instanceId:{name:"instanceId",type:"string"},delay:{name:"delay",type:"int","default":0,min:0,max:9999999},targets:{name:"targets",type:"list"},multiSuffix:{name:"multiSuffix",type:"string","default":""},fadeOut:{name:"fadeOut",type:"int",min:0,max:1e5,"default":0},"":{type:"sound"}}},midiProcessor:{midiProcessor:{type:"midiProcessor",id:"midiProcessor",instanceId:{name:"instanceId",type:"string"},customScale:{name:"customScale",type:"string","default":"0,0,0,0,0,0,0,0,0,0,0,0"},transpose:{name:"transpose",type:"int","default":0,min:-127,max:127},dynamic:{name:"dynamic",type:"int","default":0,min:-127,max:127},quantize:{name:"quantize",type:"string"},onChange:{name:"onChange",type:"boolean","default":!1},scale:{name:"scale",type:"enum","default":"off",values:["off","major","harmonicMinor","naturalMinor","majorPentatonic","minorPentatonic","dorian","phyrgian","lydian","mixolydian","locrian","doubleHarmonic","halfDim","custom"]},root:{name:"root",type:"string","default":"C",values:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]},"":{type:"midiProcessor"}},type:"midiProcessor",makeNote:{type:"midiProcessor",id:"makeNote",instanceId:{name:"instanceId",type:"string","default":"someProcessor"},reTrig:{name:"reTrig",type:"int","default":0,min:0,max:1e4},noteMaps:{name:"noteMaps",type:"array",valueType:"noteMap"},"":{type:"midiProcessor"}}},parameterProcessor:{transform:{type:"parameterProcessor",id:"transform",instanceId:{name:"instanceId",type:"string"},delay:{name:"delay",type:"int","default":0,min:0,max:9999999},targetType:{name:"targetType",type:"enum","default":"SOUND",values:["sound","audioRouter","synth","parameterProcessor"]},targets:{name:"targets",type:"list"},targetParameter:{name:"targetParameter",type:"string"},multiSuffix:{name:"multiSuffix",type:"string"},value:{name:"value",type:"float","default":0,min:-9999999,max:9999999},duration:{name:"duration",type:"int","default":0,min:0,max:9999999},curve:{name:"curve",type:"int","default":0,min:-100,max:100},"":{type:"parameterProcessor"}},type:"parameterProcessor",macro:{type:"parameterProcessor",id:"macro",instanceId:{name:"instanceId",type:"string"},delay:{name:"delay",type:"int","default":0,min:0,max:9999999},macroTargets:{name:"macroTargets",type:"array",valueType:"macroTarget"},"":{type:"parameterProcessor"}}},stateProcessor:{state:{type:"stateProcessor",id:"state",instanceId:{name:"instanceId",type:"string"},update:{name:"update",type:"enum","default":"onChange",values:["onChange","always"]},stateMaps:{name:"stateMaps",type:"array",valueType:"stateMap"},"":{type:"stateProcessor"}},type:"stateProcessor"},eventProcessor:{eventMapper:{type:"eventProcessor",id:"eventMapper",instanceId:{name:"instanceId",type:"string"},reTrig:{name:"reTrig",type:"int","default":0,min:0,max:1e4},clearPending:{name:"clearPending",type:"boolean","default":!1},dispatch:{name:"dispatch",type:"enum","default":"ALWAYS",values:["ALWAYS","ON_CHANGE"]},eventMaps:{name:"eventMaps",type:"array",valueType:"eventMap"},"":{type:"eventProcessor"}},type:"eventProcessor",midiNoteMapper:{type:"eventProcessor",id:"midiNoteMapper",instanceId:{name:"instanceId",type:"string"},eventMaps:{name:"eventMaps",type:"array",valueType:"eventMap"},"":{type:"eventProcessor"}}},player:{timePatternPlayer:{type:"player",id:"timePatternPlayer",instanceId:{name:"instanceId",type:"string","default":"master_time_player"},behavior:{name:"behavior",type:"enum",values:["LINEAR","DEFAULT"],"default":"DEFAULT"},"":{type:"player"}},type:"player",beatPatternPlayer:{type:"player",id:"beatPatternPlayer",instanceId:{name:"instanceId",type:"string","default":"master_beat_player"},flowItems:{name:"flowItems",type:"array",valueType:"flowItem"},"":{type:"player"}}},synth:{sampler:{type:"synth",id:"sampler",instanceId:{name:"instanceId",type:"string"},ignoreNoteOff:{name:"ignoreNoteOff",type:"boolean","default":!1},bus:{name:"bus",type:"string","default":"master"},volume:{name:"volume",type:"float","default":0,min:-100,max:10},loop:{name:"loop",type:"boolean","default":!1},ampAttack:{name:"ampAttack",type:"int","default":0,min:0,max:500},ampDecay:{name:"ampDecay",type:"int","default":0,min:0,max:500},ampRelease:{name:"ampRelease",type:"int","default":0,min:0,max:1e3},ampSustain:{name:"ampSustain",type:"float","default":1,min:0,max:1},ampVelocityRatio:{name:"ampVelocityRatio",type:"float","default":1,min:0,max:1},filterOn:{name:"filterOn",type:"boolean","default":!1},filterAttack:{name:"filterAttack",type:"int","default":0,min:0,max:500},filterDecay:{name:"filterDecay",type:"int","default":0,min:0,max:500},filterRelease:{name:"filterRelease",type:"int","default":0,min:0,max:1e3},filterSustain:{name:"filterSustain",type:"float","default":1,min:0,max:1},filterVelocityRatio:{name:"filterVelocityRatio",type:"float","default":1,min:0,max:1},filterQ:{name:"filterQ",type:"float","default":1e-4,min:1e-4,max:30},filterFrequency:{name:"filterFrequency",type:"int","default":0,min:0,max:10},filterGain:{name:"filterGain",type:"float","default":0,min:0,max:1},audioNodes:{name:"audioNodes",type:"array",valueType:"audioNode"},sampleMapGroups:{name:"sampleMapGroups",type:"array",valueType:"sampleMapGroup"},"":{type:"synth"}},type:"synth"},audioRouter:{audioBus:{type:"audioRouter",id:"audioBus",instanceId:{name:"instanceId",type:"string"},out:{name:"out",type:"list","default":[""]},volume:{name:"volume",type:"float","default":0,min:-100,max:10},pan:{name:"pan",type:"int","default":0,min:-100,max:100},audioNodes:{name:"audioNodes",type:"array",valueType:"audioNode"},"":{type:"audioRouter"}},type:"audioRouter"}},type:{noteMap:{noteMap:{type:"noteMap",id:"noteMap",delay:{name:"delay",type:"int","default":0,min:0,max:1e5},triggerIn:{name:"triggerIn",type:"list"},triggerOut:{name:"triggerOut",type:"string"},note:{name:"note",type:"string","default":"C4"},velocity:{name:"velocity",type:"int",min:0,max:127,"default":127},duration:{name:"duration",type:"int",min:0,max:9999999,"default":0},"":{type:"noteMap"}},type:"noteMap"},stateMap:{stateMap:{type:"stateMap",id:"stateMap","in":{name:"in",type:"list"},state:{name:"state",type:"string"},"":{type:"stateMap"}},type:"stateMap"},eventMap:{eventMap:{type:"eventMap",id:"eventMap","in":{name:"in",type:"list"},out:{name:"out",type:"string"},delay:{name:"delay",type:"int","default":0,max:1e5,min:-1e5},"":{type:"eventMap"}},type:"eventMap"},file:{file:{type:{name:"type",type:"enum",values:["beatPattern","timePattern"],"default":""},id:"file",name:{name:"name",type:"string"},"":{type:"file"}},type:"file"},map:{map:{type:"map",id:"map",inValue:{name:"inValue",type:"string"},outValue:{name:"outValue",type:"string"},"":{type:"map"}},type:"map"},macroTarget:{target:{type:"macroTarget",id:"target",targetId:{name:"targetId",type:"string"},min:{name:"min",type:"float","default":1e5,min:-1e5,max:1e5},max:{name:"max",type:"float","default":1e5,min:-1e5,max:1e5},targetInstance:{name:"targetInstance",type:"string"},targetParameter:{name:"targetParameter",type:"string"},curve:{name:"curve",type:"enum","default":"LINEAR",values:["LINEAR","EXP","LOG"]},"":{type:"macroTarget"}},type:"macroTarget"},sampleMapGroup:{sampleMapGroup:{type:"sampleMapGroup",id:"sampleMapGroup",name:{name:"name",type:"string"},sampleMaps:{name:"sampleMaps",type:"array",valueType:"sampleMap"},"":{type:"sampleMapGroup"}},type:"sampleMapGroup"},sampleMap:{sampleMap:{type:"sampleMap",id:"sampleMap",name:{name:"name",type:"string"},velocityLow:{name:"velocityLow",type:"int","default":0,min:0,max:127},velocityHigh:{name:"velocityHigh",type:"int","default":127,min:0,max:127},"":{type:"sampleMap"}},type:"sampleMap"},flowItem:{start:{type:"flowItem",id:"start",tempo:{name:"tempo",type:"float","default":120,min:40,max:280},beatsPerBar:{name:"beatsPerBar",type:"int","default":16,min:1,max:32},"":{type:"flowItem"}},type:"flowItem",stop:{type:"flowItem",id:"stop",songPosition:{name:"songPosition",type:"string","default":"NEXT_BEAT"},"":{type:"flowItem"}},add:{type:"flowItem",id:"add",patternId:{name:"patternId",type:"list","default":["multi"]},channel:{name:"channel",type:"string","default":"main"},songPosition:{name:"songPosition",type:"string","default":"NEXT_BAR"},patternPosition:{name:"patternPosition",type:"enum","default":"SYNC",values:["SYNC","FIRST_BEAT","SONG_POSITION"]},clearPending:{name:"clearPending",type:"boolean","default":!0},replaceActive:{name:"replaceActive",type:"boolean","default":!0},setAsCurrent:{name:"setAsCurrent",type:"boolean","default":!0},loop:{name:"loop",type:"boolean","default":!1},loopLength:{name:"loopLength",type:"int","default":129,min:1,max:65536},clearPosition:{name:"clearPosition",type:"string","default":"NEXT_BAR"},"":{type:"flowItem"}},beatEvent:{type:"flowItem",id:"beatEvent",songPosition:{name:"songPosition",type:"string","default":"NEXT_BAR"},returnEvent:{name:"returnEvent",type:"string","default":""},"":{type:"flowItem"}}},band:{band:{type:"band",id:"band",bandType:{name:"bandType",type:"enum","default":"PEAKING",values:["LOWPASS","HIGHPASS","BANDPASS","LOWSHELF","HIGHSHELF","PEAKING","NOTCH","ALLPASS"],automatable:!1},frequency:{name:"frequency",type:"float","default":800,min:20,max:22050,automatable:!0},Q:{name:"Q",type:"float","default":1,min:0,max:100,automatable:!0},gain:{name:"gain",type:"float","default":0,min:-40,max:40,automatable:!0},"":{type:"band"}},type:"band"},audioNode:{chorus:{type:"audioNode",id:"chorus",active:{name:"active",type:"boolean","default":!0},feedback:{name:"feedback",type:"float","default":0,min:0,max:1,automatable:!1},delay:{name:"delay",type:"float","default":.0045,min:0,max:1,automatable:!1},rate:{name:"rate",type:"float","default":1.5,min:.01,max:8,automatable:!1},bypass:{name:"bypass",type:"float","default":0,min:0,max:1,automatable:!1},"":{type:"audioNode"}},type:"audioNode",overdrive:{type:"audioNode",id:"overdrive",active:{name:"active",type:"boolean","default":!0},outputGain:{name:"outputGain",type:"float","default":0,min:0,max:10,automatable:!0},drive:{name:"drive",type:"float","default":0,min:0,max:10,automatable:!0},curveAmount:{name:"curveAmount",type:"float","default":1,min:0,max:10,automatable:!0},algorithmIndex:{name:"algorithmIndex",type:"int","default":0,min:0,max:5,automatable:!1},"":{type:"audioNode"}},compressor:{type:"audioNode",id:"compressor",active:{name:"active",type:"boolean","default":!0},threshold:{name:"threshold",type:"float","default":0,min:-100,max:0,automatable:!0},makeupGain:{name:"makeupGain",type:"float","default":1,min:0,max:100,automatable:!0},attack:{name:"attack",type:"float","default":1,min:0,max:1e3,automatable:!0},release:{name:"release",type:"float","default":1,min:0,max:3e3,automatable:!0},ratio:{name:"ratio",type:"float","default":4,min:1,max:20,automatable:!0},knee:{name:"knee",type:"float","default":5,min:0,max:40,automatable:!0},automakeup:{name:"automakeup",type:"boolean","default":!1},"":{type:"audioNode"}},cabinet:{type:"audioNode",id:"cabinet",active:{name:"active",type:"boolean","default":!0},makeupGain:{name:"makeupGain",type:"float","default":1,min:0,max:20,automatable:!0},impulsePath:{name:"impulsePath",type:"string"},"":{type:"audioNode"}},filter:{type:"audioNode",id:"filter",active:{name:"active",type:"boolean","default":!0},frequency:{name:"frequency",type:"float","default":20,min:20,max:22050,automatable:!0},Q:{name:"Q",type:"float","default":1,min:0,max:100,automatable:!0},gain:{name:"gain",type:"float","default":0,min:-40,max:40,automatable:!0},bypass:{name:"bypass",type:"boolean","default":!0,automatable:!0},filterType:{name:"filterType",type:"enum","default":"LOWPASS",values:["LOWPASS","HIGHPASS","BANDPASS","LOWSHELF","HIGHSHELF","PEAKING","NOTCH","ALLPASS"],automatable:!1},"":{type:"audioNode"}},convolver:{type:"audioNode",id:"convolver",active:{name:"active",type:"boolean","default":!0},highCut:{name:"highCut",type:"float","default":22050,min:20,max:22050,automatable:!0},lowCut:{name:"lowCut",type:"float","default":20,min:20,max:22050,automatable:!0},dryLevel:{name:"dryLevel",type:"float","default":1,min:0,max:1,automatable:!0},wetLevel:{name:"wetLevel",type:"float","default":1,min:0,max:1,automatable:!0},level:{name:"level",type:"float","default":1,min:0,max:1,automatable:!0},impulse:{name:"impulse",type:"string"},"":{type:"audioNode"}},delay:{type:"audioNode",id:"delay",active:{name:"active",type:"boolean","default":!0},delayTime:{name:"delayTime",type:"float","default":30,min:.001,max:1e4,automatable:!1},feedback:{name:"feedback",type:"float","default":.45,min:0,max:.9,automatable:!0},cutoff:{name:"cutoff",type:"float","default":20,min:20,max:22050,automatable:!0},dryLevel:{name:"dryLevel",type:"float","default":1,min:0,max:1,automatable:!0},wetLevel:{name:"wetLevel",type:"float","default":1,min:0,max:1,automatable:!0},tempoSync:{name:"tempoSync",type:"string",automatable:!1},subdivision:{name:"subdivision",type:"enum","default":"8D",values:["1","2D","2","2T","4D","4","4T","8D","8","8T","16D","16","16T","32D","32","32T"],automatable:!1},"":{type:"audioNode"}},envelopeFollower:{type:"audioNode",id:"envelopeFollower",active:{name:"active",type:"boolean","default":!0},attackTime:{name:"attackTime",type:"float","default":.003,min:0,max:.5,automatable:!1},releaseTime:{name:"releaseTime",type:"float","default":.5,min:0,max:1,automatable:!1},"":{type:"audioNode"}},equalizer:{type:"audioNode",id:"equalizer",active:{name:"active",type:"boolean","default":!0},bands:{name:"bands",type:"array",valueType:"band"},"":{type:"audioNode"}},lfo:{type:{name:"type",type:"enum","default":"SIN",values:["SIN","SQUARE","TRIANGLE","SAWTOOTH"],automatable:!1},id:"lfo",active:{name:"active",type:"boolean","default":!0},frequency:{name:"frequency",type:"float","default":1,min:0,max:8,automatable:!1},offset:{name:"offset",type:"float","default":.85,min:0,max:22050,automatable:!1},phase:{name:"phase",type:"float","default":0,min:0,max:6.28318530718,automatable:!1},oscillation:{name:"oscillation",type:"float","default":.3,min:-22050,max:22050,automatable:!1},"":{type:"audioNode"}},phaser:{type:"audioNode",id:"phaser",active:{name:"active",type:"boolean","default":!0},rate:{name:"rate",type:"float","default":1,min:0,max:8,automatable:!1},depth:{name:"depth",type:"float","default":.3,min:0,max:1,automatable:!1},feedback:{name:"feedback",type:"float","default":.2,min:0,max:1,automatable:!1},stereoPhase:{name:"stereoPhase",type:"int","default":30,min:0,max:180,automatable:!1},baseModulationFrequency:{name:"baseModulationFrequency",type:"float","default":700,min:500,max:1500,automatable:!1},"":{type:"audioNode"}},pingPongDelay:{type:"audioNode",id:"pingPongDelay",active:{name:"active",type:"boolean","default":!0},delayTime:{name:"delayTime",type:"float","default":30,min:1e-4,max:1e4,automatable:!1},feedback:{name:"feedback",type:"float","default":.45,min:0,max:.9,automatable:!0},cutoff:{name:"cutoff",type:"float","default":20,min:20,max:22050,automatable:!0},dryLevel:{name:"dryLevel",type:"float","default":1,min:0,max:1,automatable:!0},wetLevel:{name:"wetLevel",type:"float","default":1,min:0,max:1,automatable:!0},tempoSync:{name:"tempoSync",type:"string",automatable:!1},subdivision:{name:"subdivision",type:"enum","default":"8D",values:["1","2D","2","2T","4D","4","4T","8D","8","8T","16D","16","16T","32D","32","32T"],automatable:!1},"":{type:"audioNode"}},tremolo:{type:"audioNode",id:"tremolo",active:{name:"active",type:"boolean","default":!0},intensity:{name:"intensity",type:"float","default":.3,min:0,max:1,automatable:!1},stereoPhase:{name:"stereoPhase",type:"int","default":0,min:0,max:180,automatable:!1},rate:{name:"rate",type:"float","default":.1,min:.001,max:8,automatable:!1},"":{type:"audioNode"}},wahWah:{type:"audioNode",id:"wahWah",active:{name:"active",type:"boolean","default":!0},automode:{name:"automode",type:"boolean","default":!1},baseFrequency:{name:"baseFrequency",type:"float","default":.5,min:0,max:1,automatable:!1},excursionOctaves:{name:"excursionOctaves",type:"int","default":2,min:1,max:6,automatable:!1},sweep:{name:"sweep",type:"float","default":.2,min:0,max:1,automatable:!1},resonance:{name:"resonance",type:"float","default":10,min:1,max:100,automatable:!1},sensitivity:{name:"sensitivity",type:"float","default":.5,min:-1,max:1,automatable:!1},"":{type:"audioNode"}}}}},actions:[{instanceId:"load_bass_filter",returnEvent:"",files:[{id:"file",name:"bass_filter_low_E2"},{id:"file",name:"bass_filter_low_As2"},{id:"file",name:"bass_filter_low_E3"},{id:"file",name:"bass_filter_low_As3"},{id:"file",name:"bass_filter_low_E4"},{id:"file",name:"bass_filter_low_As4"},{id:"file",name:"bass_filter_low_E5"},{id:"file",name:"bass_filter_low_As5"},{id:"file",name:"bass_filter_low_E6"},{id:"file",name:"bass_filter_low_As6"},{id:"file",name:"bass_filter_mid_E2"},{id:"file",name:"bass_filter_mid_As2"},{id:"file",name:"bass_filter_mid_E3"},{id:"file",name:"bass_filter_mid_As3"},{id:"file",name:"bass_filter_mid_E4"},{id:"file",name:"bass_filter_mid_As4"},{id:"file",name:"bass_filter_mid_E5"},{id:"file",name:"bass_filter_mid_As5"},{id:"file",name:"bass_filter_mid_E6"},{id:"file",name:"bass_filter_mid_As6"},{id:"file",name:"bass_filter_hi_E2"},{id:"file",name:"bass_filter_hi_As2"},{id:"file",name:"bass_filter_hi_E3"},{id:"file",name:"bass_filter_hi_As3"},{id:"file",name:"bass_filter_hi_E4"},{id:"file",name:"bass_filter_hi_As4"},{id:"file",name:"bass_filter_hi_E5"},{id:"file",name:"bass_filter_hi_As5"},{id:"file",name:"bass_filter_hi_E6"},{id:"file",name:"bass_filter_hi_As6"}],type:"assetController",id:"loadBin",triggers:["preload_assets"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_bass_filter.ogg.bin",files:[{name:"bass_filter_low_E2",size:9639,start:0,end:9639},{name:"bass_filter_low_As2",size:9585,start:9639,end:19224},{name:"bass_filter_low_E3",size:9772,start:19224,end:28996},{name:"bass_filter_low_As3",size:9678,start:28996,end:38674},{name:"bass_filter_low_E4",size:9781,start:38674,end:48455},{name:"bass_filter_low_As4",size:9726,start:48455,end:58181},{name:"bass_filter_low_E5",size:9627,start:58181,end:67808},{name:"bass_filter_low_As5",size:9540,start:67808,end:77348},{name:"bass_filter_low_E6",size:9507,start:77348,end:86855},{name:"bass_filter_low_As6",size:9656,start:86855,end:96511},{name:"bass_filter_mid_E2",size:9328,start:96511,end:105839},{name:"bass_filter_mid_As2",size:9677,start:105839,end:115516},{name:"bass_filter_mid_E3",size:9181,start:115516,end:124697},{name:"bass_filter_mid_As3",size:9710,start:124697,end:134407},{name:"bass_filter_mid_E4",size:9381,start:134407,end:143788},{name:"bass_filter_mid_As4",size:9577,start:143788,end:153365},{name:"bass_filter_mid_E5",size:9794,start:153365,end:163159},{name:"bass_filter_mid_As5",size:9675,start:163159,end:172834},{name:"bass_filter_mid_E6",size:9703,start:172834,end:182537},{name:"bass_filter_mid_As6",size:9502,start:182537,end:192039},{name:"bass_filter_hi_E2",size:18534,start:192039,end:210573},{name:"bass_filter_hi_As2",size:18637,start:210573,end:229210},{name:"bass_filter_hi_E3",size:20152,start:229210,end:249362},{name:"bass_filter_hi_As3",size:18912,start:249362,end:268274},{name:"bass_filter_hi_E4",size:20487,start:268274,end:288761},{name:"bass_filter_hi_As4",size:20504,start:288761,end:309265},{name:"bass_filter_hi_E5",size:20330,start:309265,end:329595},{name:"bass_filter_hi_As5",size:20515,start:329595,end:350110},{name:"bass_filter_hi_E6",size:20594,start:350110,end:370704},{name:"bass_filter_hi_As6",size:19939,start:370704,end:390643}]},{format:".aac",path:"bin/load_bass_filter.aac.bin",files:[{name:"bass_filter_low_E2",size:5408,start:0,end:5408},{name:"bass_filter_low_As2",size:5131,start:5408,end:10539},{name:"bass_filter_low_E3",size:5398,start:10539,end:15937},{name:"bass_filter_low_As3",size:5219,start:15937,end:21156},{name:"bass_filter_low_E4",size:5373,start:21156,end:26529},{name:"bass_filter_low_As4",size:5366,start:26529,end:31895},{name:"bass_filter_low_E5",size:5307,start:31895,end:37202},{name:"bass_filter_low_As5",size:5369,start:37202,end:42571},{name:"bass_filter_low_E6",size:5356,start:42571,end:47927},{name:"bass_filter_low_As6",size:5264,start:47927,end:53191},{name:"bass_filter_mid_E2",size:5618,start:53191,end:58809},{name:"bass_filter_mid_As2",size:5158,start:58809,end:63967},{name:"bass_filter_mid_E3",size:5060,start:63967,end:69027},{name:"bass_filter_mid_As3",size:4993,start:69027,end:74020},{name:"bass_filter_mid_E4",size:5148,start:74020,end:79168},{name:"bass_filter_mid_As4",size:5014,start:79168,end:84182},{name:"bass_filter_mid_E5",size:4882,start:84182,end:89064},{name:"bass_filter_mid_As5",size:5009,start:89064,end:94073},{name:"bass_filter_mid_E6",size:5084,start:94073,end:99157},{name:"bass_filter_mid_As6",size:4921,start:99157,end:104078},{name:"bass_filter_hi_E2",size:16240,start:104078,end:120318},{name:"bass_filter_hi_As2",size:17079,start:120318,end:137397},{name:"bass_filter_hi_E3",size:15338,start:137397,end:152735},{name:"bass_filter_hi_As3",size:15440,start:152735,end:168175},{name:"bass_filter_hi_E4",size:15020,start:168175,end:183195},{name:"bass_filter_hi_As4",size:14623,start:183195,end:197818},{name:"bass_filter_hi_E5",size:14506,start:197818,end:212324},{name:"bass_filter_hi_As5",size:14351,start:212324,end:226675},{name:"bass_filter_hi_E6",size:14098,start:226675,end:240773},{name:"bass_filter_hi_As6",size:14241,start:240773,end:255014}]}]},{instanceId:"load_lead_b",returnEvent:"",files:[{id:"file",name:"lead_b_E1"},{id:"file",name:"lead_b_As1"},{id:"file",name:"lead_b_E2"},{id:"file",name:"lead_b_As2"},{id:"file",name:"lead_b_E3"},{id:"file",name:"lead_b_As3"},{id:"file",name:"lead_b_E4"},{id:"file",name:"lead_b_As4"},{id:"file",name:"lead_b_E5"},{id:"file",name:"lead_b_As5"},{id:"file",name:"lead_b_E6"},{id:"file",name:"lead_b_As6"}],type:"assetController",id:"loadBin",triggers:["dmaf_ready"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_lead_b.ogg.bin",files:[{name:"lead_b_E1",size:54177,start:0,end:54177},{name:"lead_b_As1",size:53962,start:54177,end:108139},{name:"lead_b_E2",size:54307,start:108139,end:162446},{name:"lead_b_As2",size:54503,start:162446,end:216949},{name:"lead_b_E3",size:54810,start:216949,end:271759},{name:"lead_b_As3",size:54723,start:271759,end:326482},{name:"lead_b_E4",size:54108,start:326482,end:380590},{name:"lead_b_As4",size:53655,start:380590,end:434245},{name:"lead_b_E5",size:53390,start:434245,end:487635},{name:"lead_b_As5",size:52891,start:487635,end:540526},{name:"lead_b_E6",size:53104,start:540526,end:593630},{name:"lead_b_As6",size:51088,start:593630,end:644718}]},{format:".aac",path:"bin/load_lead_b.aac.bin",files:[{name:"lead_b_E1",size:49038,start:0,end:49038},{name:"lead_b_As1",size:50205,start:49038,end:99243},{name:"lead_b_E2",size:50814,start:99243,end:150057},{name:"lead_b_As2",size:50352,start:150057,end:200409},{name:"lead_b_E3",size:51587,start:200409,end:251996},{name:"lead_b_As3",size:51339,start:251996,end:303335},{name:"lead_b_E4",size:51600,start:303335,end:354935},{name:"lead_b_As4",size:53215,start:354935,end:408150},{name:"lead_b_E5",size:53007,start:408150,end:461157},{name:"lead_b_As5",size:52917,start:461157,end:514074},{name:"lead_b_E6",size:50728,start:514074,end:564802},{name:"lead_b_As6",size:49546,start:564802,end:614348}]}]},{instanceId:"load_lead_a",returnEvent:"",files:[{id:"file",name:"lead_a_E1"},{id:"file",name:"lead_a_As1"},{id:"file",name:"lead_a_E2"},{id:"file",name:"lead_a_As2"},{id:"file",name:"lead_a_E3"},{id:"file",name:"lead_a_As3"},{id:"file",name:"lead_a_E4"},{id:"file",name:"lead_a_As4"},{id:"file",name:"lead_a_E5"},{id:"file",name:"lead_a_As5"},{id:"file",name:"lead_a_E6"},{id:"file",name:"lead_a_As6"}],type:"assetController",id:"loadBin",triggers:["dmaf_ready"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_lead_a.ogg.bin",files:[{name:"lead_a_E1",size:51062,start:0,end:51062},{name:"lead_a_As1",size:51351,start:51062,end:102413},{name:"lead_a_E2",size:51568,start:102413,end:153981},{name:"lead_a_As2",size:51936,start:153981,end:205917},{name:"lead_a_E3",size:51671,start:205917,end:257588},{name:"lead_a_As3",size:51580,start:257588,end:309168},{name:"lead_a_E4",size:51690,start:309168,end:360858},{name:"lead_a_As4",size:51803,start:360858,end:412661},{name:"lead_a_E5",size:51426,start:412661,end:464087},{name:"lead_a_As5",size:50418,start:464087,end:514505},{name:"lead_a_E6",size:45245,start:514505,end:559750},{name:"lead_a_As6",size:41416,start:559750,end:601166}]},{format:".aac",path:"bin/load_lead_a.aac.bin",files:[{name:"lead_a_E1",size:42930,start:0,end:42930},{name:"lead_a_As1",size:46748,start:42930,end:89678},{name:"lead_a_E2",size:46412,start:89678,end:136090},{name:"lead_a_As2",size:46280,start:136090,end:182370},{name:"lead_a_E3",size:48361,start:182370,end:230731},{name:"lead_a_As3",size:48153,start:230731,end:278884},{name:"lead_a_E4",size:47020,start:278884,end:325904},{name:"lead_a_As4",size:47500,start:325904,end:373404},{name:"lead_a_E5",size:47207,start:373404,end:420611},{name:"lead_a_As5",size:46062,start:420611,end:466673},{name:"lead_a_E6",size:45239,start:466673,end:511912},{name:"lead_a_As6",size:43621,start:511912,end:555533}]}]},{instanceId:"load_synth_warm",returnEvent:"",files:[{id:"file",name:"synth_warm_E0"},{id:"file",name:"synth_warm_As0"},{id:"file",name:"synth_warm_E1"},{id:"file",name:"synth_warm_As1"},{id:"file",name:"synth_warm_E2"},{id:"file",name:"synth_warm_As2"},{id:"file",name:"synth_warm_E3"},{id:"file",name:"synth_warm_As3"},{id:"file",name:"synth_warm_E4"},{id:"file",name:"synth_warm_As4"}],type:"assetController",id:"loadBin",triggers:["dmaf_ready"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_synth_warm.ogg.bin",files:[{name:"synth_warm_E0",size:51334,start:0,end:51334},{name:"synth_warm_As0",size:51438,start:51334,end:102772},{name:"synth_warm_E1",size:51609,start:102772,end:154381},{name:"synth_warm_As1",size:51481,start:154381,end:205862},{name:"synth_warm_E2",size:47920,start:205862,end:253782},{name:"synth_warm_As2",size:48423,start:253782,end:302205},{name:"synth_warm_E3",size:51469,start:302205,end:353674},{name:"synth_warm_As3",size:51499,start:353674,end:405173},{name:"synth_warm_E4",size:51494,start:405173,end:456667},{name:"synth_warm_As4",size:49164,start:456667,end:505831}]},{format:".aac",path:"bin/load_synth_warm.aac.bin",files:[{name:"synth_warm_E0",size:44401,start:0,end:44401},{name:"synth_warm_As0",size:45238,start:44401,end:89639},{name:"synth_warm_E1",size:46265,start:89639,end:135904},{name:"synth_warm_As1",size:47538,start:135904,end:183442},{name:"synth_warm_E2",size:47484,start:183442,end:230926},{name:"synth_warm_As2",size:42219,start:230926,end:273145},{name:"synth_warm_E3",size:34594,start:273145,end:307739},{name:"synth_warm_As3",size:34250,start:307739,end:341989},{name:"synth_warm_E4",size:32630,start:341989,end:374619},{name:"synth_warm_As4",size:33556,start:374619,end:408175}]}]},{instanceId:"load_synth_funk",returnEvent:"",files:[{id:"file",name:"synth_funk_E0"},{id:"file",name:"synth_funk_As0"},{id:"file",name:"synth_funk_E1"},{id:"file",name:"synth_funk_As1"},{id:"file",name:"synth_funk_E2"},{id:"file",name:"synth_funk_As2"},{id:"file",name:"synth_funk_E3"},{id:"file",name:"synth_funk_As3"},{id:"file",name:"synth_funk_E4"},{id:"file",name:"synth_funk_As4"},{id:"file",name:"synth_funk_E5"},{id:"file",name:"synth_funk_As5"}],type:"assetController",id:"loadBin",triggers:["dmaf_ready"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_synth_funk.ogg.bin",files:[{name:"synth_funk_E0",size:23167,start:0,end:23167},{name:"synth_funk_As0",size:23222,start:23167,end:46389},{name:"synth_funk_E1",size:23223,start:46389,end:69612},{name:"synth_funk_As1",size:23269,start:69612,end:92881},{name:"synth_funk_E2",size:23072,start:92881,end:115953},{name:"synth_funk_As2",size:23209,start:115953,end:139162},{name:"synth_funk_E3",size:22839,start:139162,end:162001},{name:"synth_funk_As3",size:21237,start:162001,end:183238},{name:"synth_funk_E4",size:20389,start:183238,end:203627},{name:"synth_funk_As4",size:18770,start:203627,end:222397},{name:"synth_funk_E5",size:19488,start:222397,end:241885},{name:"synth_funk_As5",size:19942,start:241885,end:261827}]},{format:".aac",path:"bin/load_synth_funk.aac.bin",files:[{name:"synth_funk_E0",size:17572,start:0,end:17572},{name:"synth_funk_As0",size:17514,start:17572,end:35086},{name:"synth_funk_E1",size:17216,start:35086,end:52302},{name:"synth_funk_As1",size:16718,start:52302,end:69020},{name:"synth_funk_E2",size:15766,start:69020,end:84786},{name:"synth_funk_As2",size:13967,start:84786,end:98753},{name:"synth_funk_E3",size:12719,start:98753,end:111472},{name:"synth_funk_As3",size:13142,start:111472,end:124614},{name:"synth_funk_E4",size:13037,start:124614,end:137651},{name:"synth_funk_As4",size:12810,start:137651,end:150461},{name:"synth_funk_E5",size:11993,start:150461,end:162454},{name:"synth_funk_As5",size:12477,start:162454,end:174931}]}]},{instanceId:"load_synth_sharp",returnEvent:"",files:[{id:"file",name:"synth_sharp_E1"},{id:"file",name:"synth_sharp_As1"},{id:"file",name:"synth_sharp_E2"},{id:"file",name:"synth_sharp_As2"},{id:"file",name:"synth_sharp_E3"},{id:"file",name:"synth_sharp_As3"},{id:"file",name:"synth_sharp_E4"},{id:"file",name:"synth_sharp_As4"},{id:"file",name:"synth_sharp_E5"},{id:"file",name:"synth_sharp_As5"}],type:"assetController",id:"loadBin",triggers:["dmaf_ready"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_synth_sharp.ogg.bin",files:[{name:"synth_sharp_E1",size:22906,start:0,end:22906},{name:"synth_sharp_As1",size:22795,start:22906,end:45701},{name:"synth_sharp_E2",size:22613,start:45701,end:68314},{name:"synth_sharp_As2",size:21931,start:68314,end:90245},{name:"synth_sharp_E3",size:21855,start:90245,end:112100},{name:"synth_sharp_As3",size:22621,start:112100,end:134721},{name:"synth_sharp_E4",size:22918,start:134721,end:157639},{name:"synth_sharp_As4",size:22800,start:157639,end:180439},{name:"synth_sharp_E5",size:22769,start:180439,end:203208},{name:"synth_sharp_As5",size:22722,start:203208,end:225930}]},{format:".aac",path:"bin/load_synth_sharp.aac.bin",files:[{name:"synth_sharp_E1",size:16552,start:0,end:16552},{name:"synth_sharp_As1",size:16204,start:16552,end:32756},{name:"synth_sharp_E2",size:17735,start:32756,end:50491},{name:"synth_sharp_As2",size:17379,start:50491,end:67870},{name:"synth_sharp_E3",size:16141,start:67870,end:84011},{name:"synth_sharp_As3",size:15474,start:84011,end:99485},{name:"synth_sharp_E4",size:14232,start:99485,end:113717},{name:"synth_sharp_As4",size:14290,start:113717,end:128007},{name:"synth_sharp_E5",size:13392,start:128007,end:141399},{name:"synth_sharp_As5",size:13694,start:141399,end:155093}]}]},{instanceId:"load_synth_plucked",returnEvent:"",files:[{id:"file",name:"synth_plucked_E0"},{id:"file",name:"synth_plucked_As0"},{id:"file",name:"synth_plucked_E1"},{id:"file",name:"synth_plucked_As1"},{id:"file",name:"synth_plucked_E2"},{id:"file",name:"synth_plucked_As2"},{id:"file",name:"synth_plucked_E3"},{id:"file",name:"synth_plucked_As3"},{id:"file",name:"synth_plucked_E4"},{id:"file",name:"synth_plucked_As4"},{id:"file",name:"synth_plucked_E5"},{id:"file",name:"synth_plucked_As5"}],type:"assetController",id:"loadBin",triggers:["dmaf_ready"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_synth_plucked.ogg.bin",files:[{name:"synth_plucked_E0",size:7081,start:0,end:7081},{name:"synth_plucked_As0",size:7080,start:7081,end:14161},{name:"synth_plucked_E1",size:7030,start:14161,end:21191},{name:"synth_plucked_As1",size:7184,start:21191,end:28375},{name:"synth_plucked_E2",size:7124,start:28375,end:35499},{name:"synth_plucked_As2",size:7360,start:35499,end:42859},{name:"synth_plucked_E3",size:7329,start:42859,end:50188},{name:"synth_plucked_As3",size:7552,start:50188,end:57740},{name:"synth_plucked_E4",size:7771,start:57740,end:65511},{name:"synth_plucked_As4",size:7841,start:65511,end:73352},{name:"synth_plucked_E5",size:7880,start:73352,end:81232},{name:"synth_plucked_As5",size:8117,start:81232,end:89349}]},{format:".aac",path:"bin/load_synth_plucked.aac.bin",files:[{name:"synth_plucked_E0",size:3355,start:0,end:3355},{name:"synth_plucked_As0",size:3199,start:3355,end:6554},{name:"synth_plucked_E1",size:3389,start:6554,end:9943},{name:"synth_plucked_As1",size:3314,start:9943,end:13257},{name:"synth_plucked_E2",size:3178,start:13257,end:16435},{name:"synth_plucked_As2",size:3212,start:16435,end:19647},{name:"synth_plucked_E3",size:3329,start:19647,end:22976},{name:"synth_plucked_As3",size:3225,start:22976,end:26201},{name:"synth_plucked_E4",size:3399,start:26201,end:29600},{name:"synth_plucked_As4",size:3310,start:29600,end:32910},{name:"synth_plucked_E5",size:3213,start:32910,end:36123},{name:"synth_plucked_As5",size:3129,start:36123,end:39252}]}]},{instanceId:"load_strings",returnEvent:"",files:[{id:"file",name:"strings_E0"},{id:"file",name:"strings_As0"},{id:"file",name:"strings_E1"},{id:"file",name:"strings_As1"},{id:"file",name:"strings_E2"},{id:"file",name:"strings_As2"},{id:"file",name:"strings_E3"},{id:"file",name:"strings_As3"}],type:"assetController",id:"loadBin",triggers:["preload_assets"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_strings.ogg.bin",files:[{name:"strings_E0",size:54462,start:0,end:54462},{name:"strings_As0",size:54516,start:54462,end:108978},{name:"strings_E1",size:54464,start:108978,end:163442},{name:"strings_As1",size:54462,start:163442,end:217904},{name:"strings_E2",size:54404,start:217904,end:272308},{name:"strings_As2",size:54209,start:272308,end:326517},{name:"strings_E3",size:54261,start:326517,end:380778},{name:"strings_As3",size:54078,start:380778,end:434856}]},{format:".aac",path:"bin/load_strings.aac.bin",files:[{name:"strings_E0",size:54772,start:0,end:54772},{name:"strings_As0",size:51908,start:54772,end:106680},{name:"strings_E1",size:49643,start:106680,end:156323},{name:"strings_As1",size:52013,start:156323,end:208336},{name:"strings_E2",size:52380,start:208336,end:260716},{name:"strings_As2",size:50902,start:260716,end:311618},{name:"strings_E3",size:53754,start:311618,end:365372},{name:"strings_As3",size:54469,start:365372,end:419841}]}]},{instanceId:"load_synth_comp",returnEvent:"",files:[{id:"file",name:"synth_comp_E0"},{id:"file",name:"synth_comp_As0"},{id:"file",name:"synth_comp_E1"},{id:"file",name:"synth_comp_As1"},{id:"file",name:"synth_comp_E2"},{id:"file",name:"synth_comp_As2"},{id:"file",name:"synth_comp_E3"},{id:"file",name:"synth_comp_As3"},{id:"file",name:"synth_comp_E4"},{id:"file",name:"synth_comp_As4"},{id:"file",name:"synth_comp_E5"},{id:"file",name:"synth_comp_As5"}],type:"assetController",id:"loadBin",triggers:["preload_assets"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_synth_comp.ogg.bin",files:[{name:"synth_comp_E0",size:5699,start:0,end:5699},{name:"synth_comp_As0",size:5728,start:5699,end:11427},{name:"synth_comp_E1",size:5660,start:11427,end:17087},{name:"synth_comp_As1",size:5625,start:17087,end:22712},{name:"synth_comp_E2",size:5650,start:22712,end:28362},{name:"synth_comp_As2",size:5565,start:28362,end:33927},{name:"synth_comp_E3",size:5610,start:33927,end:39537},{name:"synth_comp_As3",size:5642,start:39537,end:45179},{name:"synth_comp_E4",size:5625,start:45179,end:50804},{name:"synth_comp_As4",size:5595,start:50804,end:56399},{name:"synth_comp_E5",size:5539,start:56399,end:61938},{name:"synth_comp_As5",size:5552,start:61938,end:67490}]},{format:".aac",path:"bin/load_synth_comp.aac.bin",files:[{name:"synth_comp_E0",size:1757,start:0,end:1757},{name:"synth_comp_As0",size:1822,start:1757,end:3579},{name:"synth_comp_E1",size:1621,start:3579,end:5200},{name:"synth_comp_As1",size:1541,start:5200,end:6741},{name:"synth_comp_E2",size:1504,start:6741,end:8245},{name:"synth_comp_As2",size:1591,start:8245,end:9836},{name:"synth_comp_E3",size:1550,start:9836,end:11386},{name:"synth_comp_As3",size:1660,start:11386,end:13046},{name:"synth_comp_E4",size:1623,start:13046,end:14669},{name:"synth_comp_As4",size:1728,start:14669,end:16397},{name:"synth_comp_E5",size:1754,start:16397,end:18151},{name:"synth_comp_As5",size:1738,start:18151,end:19889}]}]},{instanceId:"load_synth_pop",returnEvent:"",files:[{id:"file",name:"synth_pop_E0"},{id:"file",name:"synth_pop_As0"},{id:"file",name:"synth_pop_E1"},{id:"file",name:"synth_pop_As1"},{id:"file",name:"synth_pop_E2"},{id:"file",name:"synth_pop_As2"},{id:"file",name:"synth_pop_E3"},{id:"file",name:"synth_pop_As3"},{id:"file",name:"synth_pop_E4"},{id:"file",name:"synth_pop_As4"},{id:"file",name:"synth_pop_E5"},{id:"file",name:"synth_pop_As5"}],type:"assetController",id:"loadBin",triggers:["preload_assets"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_synth_pop.ogg.bin",files:[{name:"synth_pop_E0",size:5691,start:0,end:5691},{name:"synth_pop_As0",size:5650,start:5691,end:11341},{name:"synth_pop_E1",size:5636,start:11341,end:16977},{name:"synth_pop_As1",size:5659,start:16977,end:22636},{name:"synth_pop_E2",size:5665,start:22636,end:28301},{name:"synth_pop_As2",size:5610,start:28301,end:33911},{name:"synth_pop_E3",size:5597,start:33911,end:39508},{name:"synth_pop_As3",size:5535,start:39508,end:45043},{name:"synth_pop_E4",size:5623,start:45043,end:50666},{name:"synth_pop_As4",size:5597,start:50666,end:56263},{name:"synth_pop_E5",size:5573,start:56263,end:61836},{name:"synth_pop_As5",size:5602,start:61836,end:67438}]},{format:".aac",path:"bin/load_synth_pop.aac.bin",files:[{name:"synth_pop_E0",size:1751,start:0,end:1751},{name:"synth_pop_As0",size:1697,start:1751,end:3448},{name:"synth_pop_E1",size:1859,start:3448,end:5307},{name:"synth_pop_As1",size:1729,start:5307,end:7036},{name:"synth_pop_E2",size:1728,start:7036,end:8764},{name:"synth_pop_As2",size:1698,start:8764,end:10462},{name:"synth_pop_E3",size:1584,start:10462,end:12046},{name:"synth_pop_As3",size:1526,start:12046,end:13572},{name:"synth_pop_E4",size:1585,start:13572,end:15157},{name:"synth_pop_As4",size:1619,start:15157,end:16776},{name:"synth_pop_E5",size:1665,start:16776,end:18441},{name:"synth_pop_As5",size:1505,start:18441,end:19946}]}]},{instanceId:"load_synth_perc",returnEvent:"",files:[{id:"file",name:"synth_perc_E0"},{id:"file",name:"synth_perc_As0"},{id:"file",name:"synth_perc_E1"},{id:"file",name:"synth_perc_As1"},{id:"file",name:"synth_perc_E2"},{id:"file",name:"synth_perc_As2"},{id:"file",name:"synth_perc_E3"},{id:"file",name:"synth_perc_As3"},{id:"file",name:"synth_perc_E4"},{id:"file",name:"synth_perc_As4"},{id:"file",name:"synth_perc_E5"},{id:"file",name:"synth_perc_As5"}],type:"assetController",id:"loadBin",triggers:["preload_assets"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_synth_perc.ogg.bin",files:[{name:"synth_perc_E0",size:5778,start:0,end:5778},{name:"synth_perc_As0",size:5863,start:5778,end:11641},{name:"synth_perc_E1",size:5840,start:11641,end:17481},{name:"synth_perc_As1",size:5772,start:17481,end:23253},{name:"synth_perc_E2",size:5798,start:23253,end:29051},{name:"synth_perc_As2",size:5845,start:29051,end:34896},{name:"synth_perc_E3",size:5839,start:34896,end:40735},{name:"synth_perc_As3",size:5741,start:40735,end:46476},{name:"synth_perc_E4",size:5821,start:46476,end:52297},{name:"synth_perc_As4",size:5768,start:52297,end:58065},{name:"synth_perc_E5",size:5823,start:58065,end:63888},{name:"synth_perc_As5",size:5693,start:63888,end:69581}]},{format:".aac",path:"bin/load_synth_perc.aac.bin",files:[{name:"synth_perc_E0",size:1655,start:0,end:1655},{name:"synth_perc_As0",size:1663,start:1655,end:3318},{name:"synth_perc_E1",size:1666,start:3318,end:4984},{name:"synth_perc_As1",size:1724,start:4984,end:6708},{name:"synth_perc_E2",size:1614,start:6708,end:8322},{name:"synth_perc_As2",size:1594,start:8322,end:9916},{name:"synth_perc_E3",size:1618,start:9916,end:11534},{name:"synth_perc_As3",size:1624,start:11534,end:13158},{name:"synth_perc_E4",size:1669,start:13158,end:14827},{name:"synth_perc_As4",size:1670,start:14827,end:16497},{name:"synth_perc_E5",size:1649,start:16497,end:18146},{name:"synth_perc_As5",size:1588,start:18146,end:19734}]}]},{instanceId:"load_kraftwerk",returnEvent:"",files:[{id:"file",name:"kick"},{id:"file",name:"snare"},{id:"file",name:"hit"},{id:"file",name:"hihat"},{id:"file",name:"tapp_l"},{id:"file",name:"tapp_r"},{id:"file",name:"battery_1"},{id:"file",name:"battery_2"},{id:"file",name:"battery_3"},{id:"file",name:"battery_4"},{id:"file",name:"battery_5"},{id:"file",name:"battery_6"},{id:"file",name:"battery_7"},{id:"file",name:"battery_8"},{id:"file",name:"battery_9"}],type:"assetController",id:"loadBin",triggers:["preload_assets"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_kraftwerk.ogg.bin",files:[{name:"kick",size:5095,start:0,end:5095},{name:"snare",size:10017,start:5095,end:15112},{name:"hit",size:7920,start:15112,end:23032},{name:"hihat",size:6673,start:23032,end:29705},{name:"tapp_l",size:10737,start:29705,end:40442},{name:"tapp_r",size:10799,start:40442,end:51241},{name:"battery_1",size:6902,start:51241,end:58143},{name:"battery_2",size:6919,start:58143,end:65062},{name:"battery_3",size:6873,start:65062,end:71935},{name:"battery_4",size:6804,start:71935,end:78739},{name:"battery_5",size:6596,start:78739,end:85335},{name:"battery_6",size:6913,start:85335,end:92248},{name:"battery_7",size:7071,start:92248,end:99319},{name:"battery_8",size:6502,start:99319,end:105821},{name:"battery_9",size:6778,start:105821,end:112599}]},{format:".aac",path:"bin/load_kraftwerk.aac.bin",files:[{name:"kick",size:1714,start:0,end:1714},{name:"snare",size:4730,start:1714,end:6444},{name:"hit",size:3003,start:6444,end:9447},{name:"hihat",size:2780,start:9447,end:12227},{name:"tapp_l",size:7511,start:12227,end:19738},{name:"tapp_r",size:7431,start:19738,end:27169},{name:"battery_1",size:2834,start:27169,end:30003},{name:"battery_2",size:3303,start:30003,end:33306},{name:"battery_3",size:3329,start:33306,end:36635},{name:"battery_4",size:2311,start:36635,end:38946},{name:"battery_5",size:2234,start:38946,end:41180},{name:"battery_6",size:2420,start:41180,end:43600},{name:"battery_7",size:3959,start:43600,end:47559},{name:"battery_8",size:3151,start:47559,end:50710},{name:"battery_9",size:2617,start:50710,end:53327}]}]},{instanceId:"load_stab",returnEvent:"",files:[{id:"file",name:"stab_E0"},{id:"file",name:"stab_As0"},{id:"file",name:"stab_E1"},{id:"file",name:"stab_As1"},{id:"file",name:"stab_E2"},{id:"file",name:"stab_As2"},{id:"file",name:"stab_E3"},{id:"file",name:"stab_As3"},{id:"file",name:"stab_E4"},{id:"file",name:"stab_As4"},{id:"file",name:"stab_E5"},{id:"file",name:"stab_As5"}],type:"assetController",id:"loadBin",triggers:["preload_assets"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_stab.ogg.bin",files:[{name:"stab_E0",size:6888,start:0,end:6888},{name:"stab_As0",size:6984,start:6888,end:13872},{name:"stab_E1",size:7015,start:13872,end:20887},{name:"stab_As1",size:7027,start:20887,end:27914},{name:"stab_E2",size:6929,start:27914,end:34843},{name:"stab_As2",size:7015,start:34843,end:41858},{name:"stab_E3",size:7010,start:41858,end:48868},{name:"stab_As3",size:6952,start:48868,end:55820},{name:"stab_E4",size:6935,start:55820,end:62755},{name:"stab_As4",size:6875,start:62755,end:69630},{name:"stab_E5",size:6914,start:69630,end:76544},{name:"stab_As5",size:6905,start:76544,end:83449}]},{format:".aac",path:"bin/load_stab.aac.bin",files:[{name:"stab_E0",size:3580,start:0,end:3580},{name:"stab_As0",size:3622,start:3580,end:7202},{name:"stab_E1",size:3512,start:7202,end:10714},{name:"stab_As1",size:3632,start:10714,end:14346},{name:"stab_E2",size:3420,start:14346,end:17766},{name:"stab_As2",size:3443,start:17766,end:21209},{name:"stab_E3",size:3485,start:21209,end:24694},{name:"stab_As3",size:3360,start:24694,end:28054},{name:"stab_E4",size:3271,start:28054,end:31325},{name:"stab_As4",size:3490,start:31325,end:34815},{name:"stab_E5",size:3309,start:34815,end:38124},{name:"stab_As5",size:3239,start:38124,end:41363}]}]},{instanceId:"load_bass",returnEvent:"",files:[{id:"file",name:"bass_E0"},{id:"file",name:"bass_As0"},{id:"file",name:"bass_E1"},{id:"file",name:"bass_As1"},{id:"file",name:"bass_E2"},{id:"file",name:"bass_As2"},{id:"file",name:"bass_E3"},{id:"file",name:"bass_As3"},{id:"file",name:"bass_E4"},{id:"file",name:"bass_As4"},{id:"file",name:"bass_E5"},{id:"file",name:"bass_As5"}],type:"assetController",id:"loadBin",triggers:["preload_assets"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_bass.ogg.bin",files:[{name:"bass_E0",size:8534,start:0,end:8534},{name:"bass_As0",size:8560,start:8534,end:17094},{name:"bass_E1",size:8561,start:17094,end:25655},{name:"bass_As1",size:8403,start:25655,end:34058},{name:"bass_E2",size:8466,start:34058,end:42524},{name:"bass_As2",size:8586,start:42524,end:51110},{name:"bass_E3",size:8559,start:51110,end:59669},{name:"bass_As3",size:8594,start:59669,end:68263},{name:"bass_E4",size:8570,start:68263,end:76833},{name:"bass_As4",size:8581,start:76833,end:85414},{name:"bass_E5",size:8512,start:85414,end:93926},{name:"bass_As5",size:8543,start:93926,end:102469}]},{format:".aac",path:"bin/load_bass.aac.bin",files:[{name:"bass_E0",size:4943,start:0,end:4943},{name:"bass_As0",size:4655,start:4943,end:9598},{name:"bass_E1",size:4816,start:9598,end:14414},{name:"bass_As1",size:4499,start:14414,end:18913},{name:"bass_E2",size:4684,start:18913,end:23597},{name:"bass_As2",size:4476,start:23597,end:28073},{name:"bass_E3",size:5013,start:28073,end:33086},{name:"bass_As3",size:4557,start:33086,end:37643},{name:"bass_E4",size:4499,start:37643,end:42142},{name:"bass_As4",size:4302,start:42142,end:46444},{name:"bass_E5",size:4202,start:46444,end:50646},{name:"bass_As5",size:4376,start:50646,end:55022}]}]},{instanceId:"load_bass_comp",returnEvent:"",files:[{id:"file",name:"bass_comp_E-1"},{id:"file",name:"bass_comp_As-1"},{id:"file",name:"bass_comp_E0"},{id:"file",name:"bass_comp_As0"},{id:"file",name:"bass_comp_E1"},{id:"file",name:"bass_comp_As1"},{id:"file",name:"bass_comp_E2"},{id:"file",name:"bass_comp_As2"},{id:"file",name:"bass_comp_E3"},{id:"file",name:"bass_comp_As3"},{id:"file",name:"bass_comp_E4"},{id:"file",name:"bass_comp_As4"}],type:"assetController",id:"loadBin",triggers:["dmaf_ready"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_bass_comp.ogg.bin",files:[{name:"bass_comp_E-1",size:24459,start:0,end:24459},{name:"bass_comp_As-1",size:24508,start:24459,end:48967},{name:"bass_comp_E0",size:24460,start:48967,end:73427},{name:"bass_comp_As0",size:24472,start:73427,end:97899},{name:"bass_comp_E1",size:24563,start:97899,end:122462},{name:"bass_comp_As1",size:24573,start:122462,end:147035},{name:"bass_comp_E2",size:24746,start:147035,end:171781},{name:"bass_comp_As2",size:25158,start:171781,end:196939},{name:"bass_comp_E3",size:24638,start:196939,end:221577},{name:"bass_comp_As3",size:24661,start:221577,end:246238},{name:"bass_comp_E4",size:25434,start:246238,end:271672},{name:"bass_comp_As4",size:24757,start:271672,end:296429}]},{format:".aac",path:"bin/load_bass_comp.aac.bin",files:[{name:"bass_comp_E-1",size:20407,start:0,end:20407},{name:"bass_comp_As-1",size:20685,start:20407,end:41092},{name:"bass_comp_E0",size:20274,start:41092,end:61366},{name:"bass_comp_As0",size:20326,start:61366,end:81692},{name:"bass_comp_E1",size:20284,start:81692,end:101976},{name:"bass_comp_As1",size:19401,start:101976,end:121377},{name:"bass_comp_E2",size:18975,start:121377,end:140352},{name:"bass_comp_As2",size:17635,start:140352,end:157987},{name:"bass_comp_E3",size:17315,start:157987,end:175302},{name:"bass_comp_As3",size:17032,start:175302,end:192334},{name:"bass_comp_E4",size:16725,start:192334,end:209059},{name:"bass_comp_As4",size:16193,start:209059,end:225252}]}]},{instanceId:"load_fx",returnEvent:"",files:[{id:"file",name:"click_1"},{id:"file",name:"click_2"},{id:"file",name:"swish_fast_1"},{id:"file",name:"swish_fast_2"},{id:"file",name:"swish_fast_3"},{id:"file",name:"swish_medium_1"},{id:"file",name:"item_up_E3"},{id:"file",name:"paddlefx_E0"},{id:"file",name:"paddlefx_G0"},{id:"file",name:"paddlefx_B0"},{id:"file",name:"paddlefx_E1"},{id:"file",name:"paddlefx_G1"},{id:"file",name:"paddlefx_B1"},{id:"file",name:"paddlefx_E2"},{id:"file",name:"paddlefx_G2"},{id:"file",name:"paddlefx_B2"},{id:"file",name:"paddlefx_E3"},{id:"file",name:"paddlefx_G3"},{id:"file",name:"paddlefx_B3"},{id:"file",name:"item_activate_E1"},{id:"file",name:"item_activate_B1"},{id:"file",name:"item_activate_E2"},{id:"file",name:"shield_hit_E3"},{id:"file",name:"shield_hit_B3"},{id:"file",name:"shield_hit_E4"},{id:"file",name:"shield_hit_B4"},{id:"file",name:"loose_round_buzz"},{id:"file",name:"win_round_buzz"},{id:"file",name:"timebomb_explosion"},{id:"file",name:"force_field_4453"},{id:"file",name:"bulletproof_shield"},{id:"file",name:"shield_up"}],type:"assetController",id:"loadBin",triggers:["dmaf_ready"],delay:0,multi:!1,formats:[".ogg",".aac"],headers:[{format:".ogg",path:"bin/load_fx.ogg.bin",files:[{name:"click_1",size:4455,start:0,end:4455},{name:"click_2",size:4988,start:4455,end:9443},{name:"swish_fast_1",size:6549,start:9443,end:15992},{name:"swish_fast_2",size:7755,start:15992,end:23747},{name:"swish_fast_3",size:7207,start:23747,end:30954},{name:"swish_medium_1",size:6614,start:30954,end:37568},{name:"item_up_E3",size:7820,start:37568,end:45388},{name:"paddlefx_E0",size:5063,start:45388,end:50451},{name:"paddlefx_G0",size:5033,start:50451,end:55484},{name:"paddlefx_B0",size:5044,start:55484,end:60528},{name:"paddlefx_E1",size:4991,start:60528,end:65519},{name:"paddlefx_G1",size:4981,start:65519,end:70500},{name:"paddlefx_B1",size:4979,start:70500,end:75479},{name:"paddlefx_E2",size:4994,start:75479,end:80473},{name:"paddlefx_G2",size:4982,start:80473,end:85455},{name:"paddlefx_B2",size:5021,start:85455,end:90476},{name:"paddlefx_E3",size:5010,start:90476,end:95486},{name:"paddlefx_G3",size:5008,start:95486,end:100494},{name:"paddlefx_B3",size:5032,start:100494,end:105526},{name:"item_activate_E1",size:7415,start:105526,end:112941},{name:"item_activate_B1",size:7426,start:112941,end:120367},{name:"item_activate_E2",size:7461,start:120367,end:127828},{name:"shield_hit_E3",size:6592,start:127828,end:134420},{name:"shield_hit_B3",size:6673,start:134420,end:141093},{name:"shield_hit_E4",size:6806,start:141093,end:147899},{name:"shield_hit_B4",size:6946,start:147899,end:154845},{name:"loose_round_buzz",size:13918,start:154845,end:168763},{name:"win_round_buzz",size:17676,start:168763,end:186439},{name:"timebomb_explosion",size:10523,start:186439,end:196962},{name:"force_field_4453",size:53586,start:196962,end:250548},{name:"bulletproof_shield",size:9221,start:250548,end:259769},{name:"shield_up",size:9759,start:259769,end:269528}]},{format:".aac",path:"bin/load_fx.aac.bin",files:[{name:"click_1",size:611,start:0,end:611},{name:"click_2",size:1599,start:611,end:2210},{name:"swish_fast_1",size:2327,start:2210,end:4537},{name:"swish_fast_2",size:3181,start:4537,end:7718},{name:"swish_fast_3",size:2732,start:7718,end:10450},{name:"swish_medium_1",size:3078,start:10450,end:13528},{name:"item_up_E3",size:3276,start:13528,end:16804},{name:"paddlefx_E0",size:1180,start:16804,end:17984},{name:"paddlefx_G0",size:1175,start:17984,end:19159},{name:"paddlefx_B0",size:1170,start:19159,end:20329},{name:"paddlefx_E1",size:1176,start:20329,end:21505},{name:"paddlefx_G1",size:1143,start:21505,end:22648},{name:"paddlefx_B1",size:1131,start:22648,end:23779},{name:"paddlefx_E2",size:1161,start:23779,end:24940},{name:"paddlefx_G2",size:1141,start:24940,end:26081},{name:"paddlefx_B2",size:1123,start:26081,end:27204},{name:"paddlefx_E3",size:1172,start:27204,end:28376},{name:"paddlefx_G3",size:1218,start:28376,end:29594},{name:"paddlefx_B3",size:1233,start:29594,end:30827},{name:"item_activate_E1",size:2859,start:30827,end:33686},{name:"item_activate_B1",size:2807,start:33686,end:36493},{name:"item_activate_E2",size:2865,start:36493,end:39358},{name:"shield_hit_E3",size:3037,start:39358,end:42395},{name:"shield_hit_B3",size:2991,start:42395,end:45386},{name:"shield_hit_E4",size:3068,start:45386,end:48454},{name:"shield_hit_B4",size:2908,start:48454,end:51362},{name:"loose_round_buzz",size:9314,start:51362,end:60676},{name:"win_round_buzz",size:11718,start:60676,end:72394},{name:"timebomb_explosion",size:5262,start:72394,end:77656},{name:"force_field_4453",size:43152,start:77656,end:120808},{name:"bulletproof_shield",size:4254,start:120808,end:125062},{name:"shield_up",size:4831,start:125062,end:129893}]}]},{instanceId:"load_sampleMaps",returnEvent:"",files:[{id:"file",name:"samplemaps"}],type:"assetController",id:"loadSampleMap",triggers:["preload_assets"],delay:0,multi:!1},{instanceId:"midiLoader",returnEvent:"",files:[{id:"file",type:"beatPattern",name:"music"},{id:"file",type:"timePattern",name:"fx"}],type:"assetController",id:"loadMIDI",triggers:["preload_assets"],delay:0,multi:!1},{instanceId:"master_bus",out:["master"],volume:-2,pan:0,audioNodes:[{id:"compressor",active:!0,threshold:-3,makeupGain:0,attack:0,release:0,ratio:20,knee:0,automakeup:!1}],type:"audioRouter",id:"audioBus",triggers:["init_routing"],delay:0,multi:!1},{instanceId:"active_bus",out:["master_bus"],volume:0,pan:0,audioNodes:[],type:"audioRouter",id:"audioBus",triggers:["init_routing"],delay:0,multi:!1},{instanceId:"two_player_bus",out:["active_bus"],volume:0,pan:0,audioNodes:[],type:"audioRouter",id:"audioBus",triggers:["init_routing"],delay:0,multi:!1},{instanceId:"pause_bus",out:["two_player_bus"],volume:0,pan:0,audioNodes:[],type:"audioRouter",id:"audioBus",triggers:["init_routing"],delay:0,multi:!1},{instanceId:"master_mute",targetType:"audioRouter",targets:["master_bus"],targetParameter:"volume",value:-80,duration:100,type:"parameterProcessor",id:"transform",delay:0,curve:0,triggers:["sound_off"],multi:!1},{instanceId:"master_unmute",targetType:"audioRouter",targets:["master_bus"],targetParameter:"volume",value:0,duration:100,type:"parameterProcessor",id:"transform",delay:0,curve:0,triggers:["sound_on"],multi:!1},{instanceId:"active_mute",targetType:"audioRouter",targets:["active_bus"],targetParameter:"volume",value:-80,duration:100,type:"parameterProcessor",id:"transform",delay:0,curve:0,triggers:["inactive"],multi:!1},{instanceId:"active_unmute",targetType:"audioRouter",targets:["active_bus"],targetParameter:"volume",value:0,duration:100,type:"parameterProcessor",id:"transform",delay:0,curve:0,triggers:["active"],multi:!1},{instanceId:"pause_mute",targetType:"audioRouter",targets:["two_player_bus"],targetParameter:"volume",value:-10,duration:100,type:"parameterProcessor",id:"transform",delay:0,curve:0,triggers:["microphone_on"],multi:!1},{instanceId:"pause_unmute",targetType:"audioRouter",targets:["two_player_bus"],targetParameter:"volume",value:0,duration:100,type:"parameterProcessor",id:"transform",delay:0,curve:0,triggers:["microphone_off"],multi:!1},{instanceId:"pause_mute",targetType:"audioRouter",targets:["pause_bus"],targetParameter:"volume",value:-80,duration:100,type:"parameterProcessor",id:"transform",delay:0,curve:0,triggers:["pause"],multi:!1},{instanceId:"pause_unmute",targetType:"audioRouter",targets:["pause_bus"],targetParameter:"volume",value:0,duration:100,type:"parameterProcessor",id:"transform",delay:0,curve:0,triggers:["unpause"],multi:!1},{instanceId:"CheckMobile",type:"customCode",id:"customCode",triggers:["init_routing","splash_screen","info_screen"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"start",tempo:126,beatsPerBar:16}],type:"player",id:"beatPatternPlayer",triggers:["init_beatpatternplayer"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"add",patternId:["splash_bass_filter"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["splash_bass"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["splash_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["splash_stab"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["splash_strings"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["splash_synth_comp"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["splash_synth_perc"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["splash_synth_pop"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"}],type:"player",id:"beatPatternPlayer",triggers:["splash_screen_music"],delay:0,multi:!1},{instanceId:"gameover_music_delayed",reTrig:0,eventMaps:[{id:"eventMap","in":["gameover_screen"],out:"gameover_screen_delayed",delay:400}],type:"eventProcessor",id:"eventMapper",clearPending:!1,dispatch:"ALWAYS",triggers:["gameover_screen"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"start",tempo:126,beatsPerBar:16},{id:"add",patternId:["game_over_bass"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["game_over_bass_comp"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["game_over_bass_filter"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["game_over_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["game_over_lead_a"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["game_over_lead_b"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["game_over_stab"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["game_over_strings"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["game_over_synth_comp"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["game_over_synth_perc"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["game_over_synth_pop"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"}],type:"player",id:"beatPatternPlayer",triggers:["gameover_screen_delayed"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"start",tempo:126,beatsPerBar:16},{id:"add",patternId:["info_bass_filter"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["info_stab"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"},{id:"add",patternId:["info_synth_pop"],channel:"main",songPosition:"NEXT_BAR",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BAR"}],type:"player",id:"beatPatternPlayer",triggers:["info_screen_music"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"add",patternId:["level_bass"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_bass_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_bass_filter"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_synth_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_synth_perc"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_synth_pop"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_stab"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"}],type:"player",id:"beatPatternPlayer",triggers:["paddle_dizzy","fireball_over","fog_over","multiball_over","deathball_over","mirroredcontrols_over","timebomb_over","ghostball_over"],delay:0,multi:!1},{instanceId:"handle_long",reTrig:100,eventMaps:[{id:"eventMap","in":["countdown_init"],out:"countdown_long_start",delay:500},{id:"eventMap","in":["countdown_init"],out:"stop_immediate",delay:0}],type:"eventProcessor",id:"eventMapper",clearPending:!1,dispatch:"ALWAYS",triggers:["countdown_init"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"stop",songPosition:"ASAP"}],type:"player",id:"beatPatternPlayer",triggers:["stop_immediate"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"start",tempo:126,beatsPerBar:16},{id:"add",patternId:["countlong_bass_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["countlong_stab"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["countlong_synth_perc"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["countlong_synth_plucked"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["countlong_synth_sharp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"beatEvent",songPosition:"NEXT_BEAT+1.6",returnEvent:"gameplay_init"}],type:"player",id:"beatPatternPlayer",triggers:["countdown_long_start"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"add",patternId:["level_bass"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_bass_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_bass_filter"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_synth_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_synth_perc"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_synth_pop"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["level_stab"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"}],type:"player",id:"beatPatternPlayer",triggers:["gameplay_init"],delay:0,multi:!1},{instanceId:"handle_short",reTrig:0,eventMaps:[{id:"eventMap","in":["countdown_short"],out:"countdown_short_start",delay:600},{id:"eventMap","in":["countdown_short"],out:"gameplay_init",delay:3450}],type:"eventProcessor",id:"eventMapper",clearPending:!1,dispatch:"ALWAYS",triggers:["countdown_short"],delay:0,multi:!1},{instanceId:"delay",reTrig:100,eventMaps:[{id:"eventMap","in":["user_won_round"],out:"round_end_stop_music",delay:0},{id:"eventMap","in":["user_lost_round"],out:"round_end_stop_music",delay:0},{id:"eventMap","in":["user_won_match"],out:"round_end_stop_music",delay:0},{id:"eventMap","in":["user_lost_match"],out:"round_end_stop_music",delay:0}],type:"eventProcessor",id:"eventMapper",clearPending:!1,dispatch:"ALWAYS",triggers:["user_lost_match","user_won_round","user_lost_round","user_won_match"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"stop",songPosition:"ASAP"}],type:"player",id:"beatPatternPlayer",triggers:["round_end_stop_music"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"start",tempo:126,beatsPerBar:16},{id:"add",patternId:["countshort_bass_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["countshort_stab"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["countshort_synth_perc"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["countshort_synth_plucked"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["countshort_synth_sharp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"FIRST_BEAT",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"}],type:"player",id:"beatPatternPlayer",triggers:["countdown_short_start"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"add",patternId:["fog_bass"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fog_bass_filter"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fog_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fog_stab"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fog_synth_funk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fog_synth_perc"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fog_synth_pop"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fog_synth_sharp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fog_synth_warm"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"}],type:"player",id:"beatPatternPlayer",triggers:["fog_activate"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"add",patternId:["mirrored_bass"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["mirrored_bass_filter"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["mirrored_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["mirrored_lead_a"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["mirrored_lead_b"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["mirrored_stab"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["mirrored_synth_funk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["mirrored_synth_plucked"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["mirrored_synth_sharp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"}],type:"player",id:"beatPatternPlayer",triggers:["mirroredcontrols_activate"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"add",patternId:["multi_bass"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_bass_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_bass_filter"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_stab"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_synth_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_synth_funk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_synth_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_synth_plucked"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_synth_pop"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_synth_sharp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["multi_synth_perc"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"}],type:"player",id:"beatPatternPlayer",triggers:["multiball_activate"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"add",patternId:["ghost_bass"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["ghost_bass_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["ghost_bass_filter"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["ghost_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["ghost_stab"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["ghost_synth_funk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["ghost_synth_pop"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["ghost_synth_warm"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["ghost_strings"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"}],type:"player",id:"beatPatternPlayer",triggers:["ghostball_activate"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"add",patternId:["time_bass"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["time_bass_filter"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["time_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["time_stab"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["time_synth_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["time_synth_perc"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["time_synth_plucked"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["time_synth_pop"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["time_synth_sharp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["time_synth_warm"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"}],type:"player",id:"beatPatternPlayer",triggers:["timebomb_activate"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"add",patternId:["death_bass"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["death_bass_filter"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["death_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["death_lead_a"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["death_synth_pop"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["death_synth_plucked"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["death_lead_b"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["death_bass_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["death_synth_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"}],type:"player",id:"beatPatternPlayer",triggers:["deathball_activate"],delay:0,multi:!1},{instanceId:"main",flowItems:[{id:"add",patternId:["fire_bass_filter"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fire_bass_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fire_bass"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fire_synth_comp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fire_synth_funk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fire_synth_perc"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fire_synth_plucked"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fire_synth_pop"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fire_synth_sharp"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fire_synth_warm"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"},{id:"add",patternId:["fire_dm_kraftwerk"],channel:"main",songPosition:"NEXT_BEAT",patternPosition:"SYNC",clearPending:!1,replaceActive:!1,setAsCurrent:!1,loop:!0,loopLength:128,clearPosition:"NEXT_BEAT"}],type:"player",id:"beatPatternPlayer",triggers:["fireball_activate"],delay:0,multi:!1},{instanceId:"transpose_mapper",reTrig:100,eventMaps:[{id:"eventMap","in":["user_won_round"],out:"transpose_midi",delay:2e3},{id:"eventMap","in":["user_lost_round"],out:"transpose_midi",delay:2e3},{id:"eventMap","in":["user_lost_match"],out:"transpose_midi",delay:399},{id:"eventMap","in":["user_lost_match"],out:"transpose_midi_reset",delay:400},{id:"eventMap","in":["countdown_init"],out:"transpose_midi_reset",delay:0}],type:"eventProcessor",id:"eventMapper",clearPending:!1,dispatch:"ALWAYS",triggers:["gameover_screen","user_won_round","user_lost_round","countdown_init","user_lost_match"],delay:0,multi:!1},{instanceId:"LevelTransposer",type:"customCode",id:"customCode",triggers:["init_routing","transpose_midi","transpose_midi_reset"],delay:0,multi:!1},{instanceId:"midi_transposer",_dynamicValues:[{key:"transpose",string:"customCode:LevelTransposer:transposeValue"}],transpose:0,dynamic:0,quantize:"",scale:"off",root:"",customScale:"",type:"midiProcessor",id:"midiProcessor",onChange:!1,triggers:["item_activate","shield_up","item_up","paddle_fx","shield_hit","bass_filter","lead_a","lead_b","strings","synth_funk","synth_plucked","synth_sharp","synth_warm","bass","bass_comp","stab","synth_comp","synth_perc","synth_pop"],delay:0,multi:!1},{instanceId:"delay_effect_sounds",reTrig:0,eventMaps:[{id:"eventMap","in":["pause"],out:"pause_delayed",delay:400},{id:"eventMap","in":["unpause"],out:"unpause_delayed",delay:40},{id:"eventMap","in":["info_screen"],out:"info_screen_delayed",delay:400},{id:"eventMap","in":["gameover_sign_in"],out:"gameover_sign_in_delayed",delay:400}],type:"eventProcessor",id:"eventMapper",clearPending:!1,dispatch:"ALWAYS",triggers:["pause","info_screen","unpause"],delay:0,multi:!1},{delay:0,instanceId:"win_round_buzz",soundFile:"win_round_buzz",volume:0,loop:-1,reTrig:-1,returnEvent:"",returnEventTime:0,preListen:0,bus:"pause_bus",timingCorrection:"PLAY",type:"sound",id:"genericPlay",multiSuffix:"",pan:0,priority:!1,fadeIn:0,triggers:["user_won_round"],multi:!1},{delay:0,instanceId:"loose_round_buzz",soundFile:"loose_round_buzz",volume:0,loop:-1,reTrig:-1,returnEvent:"",returnEventTime:0,preListen:0,bus:"pause_bus",timingCorrection:"PLAY",type:"sound",id:"genericPlay",multiSuffix:"",pan:0,priority:!1,fadeIn:0,triggers:["user_lost_round","user_lost_match"],multi:!1},{delay:0,instanceId:"swish_small",soundFiles:["swish_fast_1","swish_fast_2","swish_fast_3"],generator:"ROUND_ROBIN",volume:0,reTrig:-1,returnEvent:"",returnEventTime:0,bus:"my_bus",timingCorrection:"PLAY",type:"sound",id:"stepPlay",pan:0,preListen:0,priority:!1,fadeIn:0,triggers:["friend_accept","info_screen_delayed","friend_screen","friend_arrived","friend_waiting","gameover_sign_in_delayed","gameover_sign_out","unpause_delayed","pause_delayed"],multi:!1},{delay:0,instanceId:"swish_medium",soundFile:"swish_medium_1",volume:0,loop:-1,reTrig:-1,returnEvent:"",returnEventTime:0,preListen:0,bus:"pause_bus",timingCorrection:"PLAY",type:"sound",id:"genericPlay",multiSuffix:"",pan:0,priority:!1,fadeIn:0,triggers:["friend_accept_out","info_screen_out","friend_screen_out","friend_waiting_out","friend_left"],multi:!1},{delay:0,instanceId:"click_1",soundFile:"click_1",volume:-2,loop:-1,reTrig:-1,returnEvent:"",returnEventTime:0,preListen:0,bus:"pause_bus",timingCorrection:"PLAY",type:"sound",id:"genericPlay",multiSuffix:"",pan:0,priority:!1,fadeIn:0,triggers:["button_down"],multi:!1},{delay:0,instanceId:"click_2",soundFile:"click_2",volume:0,loop:-1,reTrig:-1,returnEvent:"",returnEventTime:0,preListen:0,bus:"pause_bus",timingCorrection:"PLAY",type:"sound",id:"genericPlay",multiSuffix:"",pan:0,priority:!1,fadeIn:0,triggers:["share_click","text_button_down","small_button_down"],multi:!1},{delay:0,instanceId:"bulletproof_activate",soundFile:"bulletproof_shield",volume:0,loop:-1,reTrig:-1,returnEvent:"",returnEventTime:0,preListen:0,bus:"pause_bus",timingCorrection:"PLAY",type:"sound",id:"genericPlay",multiSuffix:"",pan:0,priority:!1,fadeIn:0,triggers:["bulletproof_activate"],multi:!1},{delay:0,instanceId:"timebomb_over",soundFile:"timebomb_explosion",volume:5,loop:-1,reTrig:-1,returnEvent:"",returnEventTime:0,preListen:0,bus:"pause_bus",timingCorrection:"PLAY",type:"sound",id:"genericPlay",multiSuffix:"",pan:0,priority:!1,fadeIn:0,triggers:["timebomb_over","paddle_dizzy"],multi:!1},{delay:0,instanceId:"force_field",soundFile:"force_field_4453",volume:5,loop:4453,reTrig:-1,returnEvent:"",returnEventTime:0,preListen:0,bus:"pause_bus",timingCorrection:"PLAY",type:"sound",id:"genericPlay",multiSuffix:"",pan:0,priority:!1,fadeIn:0,triggers:["force_show"],multi:!1},{delay:0,targets:["force_field"],type:"sound",id:"soundStop",instanceId:"",multiSuffix:"",fadeOut:0,triggers:["force_hide","user_won_round","user_lost_round","user_won_match","user_lost_match"],multi:!1},{instanceId:"extras_timpattern_mapper",reTrig:0,eventMaps:[{id:"eventMap","in":["extralife_activate"],out:"extralife_activate_paddle_fx.START",delay:0},{id:"eventMap","in":["extralife_activate"],out:"extralife_activate_bass_comp.START",delay:0},{id:"eventMap","in":["opponent_paddle_grow"],out:"grow_bass_comp.START",delay:0},{id:"eventMap","in":["opponent_paddle_grow"],out:"grow_paddle_fx.START",delay:0},{id:"eventMap","in":["opponent_paddle_shrink"],out:"shrink_bass_comp.START",delay:0},{id:"eventMap","in":["opponent_paddle_shrink"],out:"shrink_paddle_fx.START",delay:0},{id:"eventMap","in":["user_paddle_grow"],out:"grow_bass_comp.START",delay:0},{id:"eventMap","in":["user_paddle_grow"],out:"grow_paddle_fx.START",delay:0},{id:"eventMap","in":["user_paddle_shrink"],out:"shrink_bass_comp.START",delay:0},{id:"eventMap","in":["user_paddle_shrink"],out:"shrink_paddle_fx.START",delay:0},{id:"eventMap","in":["paddle_dizzy"],out:"paddle_dizzy_paddle_fx.START",delay:0},{id:"eventMap","in":["paddle_dizzy"],out:"paddle_dizzy_bass_comp.START",delay:0},{id:"eventMap","in":["paddle_dizzy"],out:"paddle_dizzy_dm_kraftwerk.START",delay:0},{id:"eventMap","in":["opponent_screen_explode"],out:"screen_explode_paddle_fx.START",delay:0},{id:"eventMap","in":["opponent_screen_explode"],out:"screen_explode_bass_comp.START",delay:0},{id:"eventMap","in":["opponent_screen_heal_start"],out:"screen_rebuild_paddle_fx.START",delay:0},{id:"eventMap","in":["opponent_screen_heal_start"],out:"screen_rebuild_bass_comp.START",delay:0},{id:"eventMap","in":["user_won_round"],out:"win_paddle_fx.START",delay:0},{id:"eventMap","in":["user_won_round"],out:"win_bass_comp.START",delay:0},{id:"eventMap","in":["user_won_round"],out:"win_synth_comp.START",delay:0},{id:"eventMap","in":["user_won_match"],out:"win_paddle_fx.START",delay:0},{id:"eventMap","in":["user_won_match"],out:"win_bass_comp.START",delay:0},{id:"eventMap","in":["user_won_match"],out:"win_synth_comp.START",delay:0},{id:"eventMap","in":["user_lost_round"],out:"loose_paddle_fx.START",delay:0},{id:"eventMap","in":["user_lost_round"],out:"loose_bass_comp.START",delay:0},{id:"eventMap","in":["user_lost_round"],out:"loose_synth_comp.START",delay:0},{id:"eventMap","in":["user_lost_match"],out:"loose_paddle_fx.START",delay:0},{id:"eventMap","in":["user_lost_match"],out:"loose_bass_comp.START",delay:0},{id:"eventMap","in":["user_lost_match"],out:"loose_synth_comp.START",delay:0}],type:"eventProcessor",id:"eventMapper",clearPending:!1,dispatch:"ALWAYS",triggers:["user_won_match","user_lost_match","user_lost_round","user_won_round","opponent_screen_heal_start","opponent_screen_explode","extralife_activate","opponent_paddle_grow","opponent_paddle_shrink","user_paddle_grow","user_paddle_shrink","paddle_dizzy"],delay:0,multi:!1},{instanceId:"time_player",behavior:"DEFAULT",type:"player",id:"timePatternPlayer",triggers:["loose_synth_comp.START","loose_bass_comp.START","loose_paddle_fx.START","win_synth_comp.START","win_bass_comp.START","win_paddle_fx.START","screen_rebuild_bass_comp.START","screen_rebuild_paddle_fx.START","screen_explode_paddle_fx.START","screen_explode_bass_comp.START","extralife_activate_paddle_fx.START","extralife_activate_bass_comp.START","grow_bass_comp.START","shrink_bass_comp.START","grow_paddle_fx.START","shrink_paddle_fx.START","paddle_dizzy_dm_kraftwerk.START","paddle_dizzy_paddle_fx.START","paddle_dizzy_bass_comp.START"],delay:0,multi:!1},{instanceId:"makeFx",reTrig:0,noteMaps:[{id:"noteMap",triggerIn:["bulletproof_activate"],triggerOut:"item_activate",note:"E1",velocity:127},{id:"noteMap",triggerIn:["bulletproof_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["deathball_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["extralife_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["fireball_activate"],triggerOut:"item_activate",note:"E1",velocity:127},{id:"noteMap",triggerIn:["fireball_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["fog_activate"],triggerOut:"item_activate",note:"E1",velocity:127},{id:"noteMap",triggerIn:["fog_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["ghostball_activate"],triggerOut:"item_activate",note:"E1",velocity:127},{id:"noteMap",triggerIn:["ghostball_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["laser_activate"],triggerOut:"item_activate",note:"E1",velocity:127},{id:"noteMap",triggerIn:["laser_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["laser_fire"],triggerOut:"shield_hit",note:"E5",velocity:127},{id:"noteMap",triggerIn:["mirroredcontrols_activate"],triggerOut:"item_activate",note:"E1",velocity:127},{id:"noteMap",triggerIn:["mirroredcontrols_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["multiball_activate"],triggerOut:"item_activate",note:"E1",velocity:127},{id:"noteMap",triggerIn:["multiball_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["timebomb_activate"],triggerOut:"item_activate",note:"E1",velocity:127},{id:"noteMap",triggerIn:["timebomb_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["opponent_score_hit"],triggerOut:"shield_hit",note:"E3",velocity:90},{id:"noteMap",triggerIn:["opponent_shield_hit"],triggerOut:"shield_hit",note:"E3",velocity:110},{id:"noteMap",triggerIn:["paddleresize_spawn"],triggerOut:"item_up",note:"E3",velocity:127},{id:"noteMap",triggerIn:["paddleresize_activate"],triggerOut:"item_activate",note:"E1",velocity:127},{id:"noteMap",triggerIn:["user_score_hit"],triggerOut:"shield_hit",note:"E3",velocity:90},{id:"noteMap",triggerIn:["user_shield_hit"],triggerOut:"shield_hit",note:"E3",velocity:110}],type:"midiProcessor",id:"makeNote",triggers:["shields_reset_up","extralife_activate","paddleresize_activate","paddleresize_spawn","user_score_hit","opponent_score_hit","laser_fire","laser_spawn","laser_activate","extralife_spawn","mirroredcontrols_activate","mirroredcontrols_spawn","fireball_activate","fireball_spawn","bulletproof_activate","bulletproof_spawn","multiball_activate","multiball_spawn","timebomb_activate","timebomb_spawn","ghostball_activate","ghostball_spawn","deathball_spawn","extralife_activate","user_shield_hit","opponent_shield_hit","opponent_score_hit","fog_spawn","fog_activate"],delay:0,multi:!1},{instanceId:"bounce_mapper",reTrig:30,noteMaps:[{id:"noteMap",triggerIn:["opponent_paddle_hit"],triggerOut:"paddle_fx",note:"E2",velocity:127},{id:"noteMap",triggerIn:["user_paddle_hit"],triggerOut:"paddle_fx",note:"E1",velocity:127},{id:"noteMap",triggerIn:["obstacle_hit"],triggerOut:"paddle_fx",note:"E3",velocity:127},{id:"noteMap",triggerIn:["wall_hit"],triggerOut:"paddle_fx",note:"B2",velocity:127}],type:"midiProcessor",id:"makeNote",triggers:["opponent_paddle_hit","user_paddle_hit","obstacle_hit","wall_hit"],delay:0,multi:!1},{instanceId:"shields_up_mapper",reTrig:500,noteMaps:[{id:"noteMap",triggerIn:["shields_reset_up"],triggerOut:"shield_up",note:"E3",velocity:127}],type:"midiProcessor",id:"makeNote",triggers:["shields_reset_up"],delay:0,multi:!1},{instanceId:"multi",ignoreNoteOff:!0,bus:"pause_bus",volume:0,loop:!1,ampAttack:1,ampDecay:1,ampRelease:260,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"shield_up",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["shield_up"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:1,loop:!1,ampAttack:1,ampDecay:1,ampRelease:260,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"paddle_fx",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["paddle_fx"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!0,bus:"pause_bus",volume:-1,loop:!1,ampAttack:1,ampDecay:1,ampRelease:260,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"item_activate",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["item_activate"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:1,loop:!1,ampAttack:1,ampDecay:1,ampRelease:260,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"shield_hit",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["shield_hit"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!0,bus:"pause_bus",volume:1,loop:!1,ampAttack:1,ampDecay:1,ampRelease:260,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"item_up",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["item_up"],delay:0,multi:!0},{instanceId:"muteInst",targetType:"synth",targets:["multi"],targetParameter:"volume",multiSuffix:"_mute",value:-80,duration:100,type:"parameterProcessor",id:"transform",delay:0,curve:0,triggers:["bass_filter_mute","lead_a_mute","lead_b_mute","strings_mute","synth_funk_mute","synth_plucked_mute","synth_sharp_mute","synth_warm_mute","dm_kraftwerk_mute","bass_mute","bass_comp_mute","stab_mute","synth_comp_mute","synth_perc_mute","synth_pop_mute"],multi:!1},{instanceId:"unmuteInst",targetType:"synth",targets:["multi"],targetParameter:"volume",multiSuffix:"_unmute",value:-5,duration:100,type:"parameterProcessor",id:"transform",delay:0,curve:0,triggers:["bass_filter_unmute","lead_a_unmute","lead_b_unmute","strings_unmute","synth_funk_unmute","synth_plucked_unmute","synth_sharp_unmute","synth_warm_unmute","dm_kraftwerk_unmute","bass_unmute","bass_comp_unmute","stab_unmute","synth_comp_unmute","synth_perc_unmute","synth_pop_unmute"],multi:!1},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:1,loop:!1,ampAttack:1,ampDecay:100,ampRelease:300,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"bass_filter_low",velocityLow:0,velocityHigh:50},{id:"sampleMap",name:"bass_filter_mid",velocityLow:51,velocityHigh:100},{id:"sampleMap",name:"bass_filter_hi",velocityLow:101,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["bass_filter"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:-2,loop:!1,ampAttack:1,ampDecay:50,ampRelease:100,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["bass_comp"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!0,bus:"pause_bus",volume:-2,loop:!1,ampAttack:1,ampDecay:1,ampRelease:220,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["bass"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!0,bus:"pause_bus",volume:-4.5,loop:!1,ampAttack:1,ampDecay:50,ampRelease:100,ampSustain:1,ampVelocityRatio:0,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["stab"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:-6,loop:!1,ampAttack:1,ampDecay:1,ampRelease:220,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["strings"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!0,bus:"pause_bus",volume:-1,loop:!1,ampAttack:1,ampDecay:1,ampRelease:50,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["synth_comp"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:-5.5,loop:!1,ampAttack:1,ampDecay:50,ampRelease:300,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["synth_funk"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!0,bus:"pause_bus",volume:-13,loop:!1,ampAttack:1,ampDecay:1,ampRelease:50,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["synth_perc"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!0,bus:"pause_bus",volume:0,loop:!1,ampAttack:1,ampDecay:50,ampRelease:100,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["synth_plucked"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!0,bus:"pause_bus",volume:-2,loop:!1,ampAttack:1,ampDecay:1,ampRelease:50,ampSustain:1,ampVelocityRatio:0,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["synth_pop"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:-7.5,loop:!1,ampAttack:1,ampDecay:1,ampRelease:100,ampSustain:1,ampVelocityRatio:0,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["synth_sharp"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:-13,loop:!1,ampAttack:1,ampDecay:1,ampRelease:200,ampSustain:1,ampVelocityRatio:0,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["synth_warm"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:-8,loop:!1,ampAttack:1,ampDecay:1,ampRelease:500,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["lead_a"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:-9,loop:!1,ampAttack:1,ampDecay:1,ampRelease:400,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["lead_b"],delay:0,multi:!0},{instanceId:"multi",ignoreNoteOff:!1,bus:"pause_bus",volume:-3,loop:!1,ampAttack:1,ampDecay:50,ampRelease:200,ampSustain:1,ampVelocityRatio:1,filterOn:!1,audioNodes:[],sampleMapGroups:[{id:"sampleMapGroup",name:"map1",sampleMaps:[{id:"sampleMap",name:"multi",velocityLow:0,velocityHigh:127}]}],type:"synth",id:"sampler",filterAttack:0,filterDecay:0,filterRelease:0,filterSustain:1,filterVelocityRatio:1,filterQ:1e-4,filterFrequency:0,filterGain:0,triggers:["dm_kraftwerk"],delay:0,multi:!0}]}
}),dmaf("AudioNodes",["DMAF","Utils","Instance","events","Assets"],function(e,t,n,a,i){function s(e){return(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}function r(e){return 0===e?1:Math.abs(e)/e}function o(e,t){var n,a,i=0,s=0,r=0,o=0;return n=e.toExponential().match(/^.\.?(.*)e(.+)$/),i=parseInt(n[2],10)-(n[1]+"").length,n=t.toExponential().match(/^.\.?(.*)e(.+)$/),s=parseInt(n[2],10)-(n[1]+"").length,s>i&&(i=s),a=e%t,-100>i||i>20?(r=Math.round(Math.log(a)/Math.log(10)),o=Math.pow(10,r),(a/o).toFixed(r-i)*o):parseFloat(a.toFixed(-i))}var l=Object.create(null),d={lowpass:0,highpass:1,bandpass:2,lowshelf:3,highshelf:4,peaking:5,notch:6,allpass:7},c={32:.125,"16T":.16666666666666666,"32D":.1875,16:.25,"8T":.3333333333333333,"16D":.375,8:.5,"4T":.6666666666666666,"8D":.75,4:1,"2T":1.3333333333333333,"4D":1.5,2:2,"2D":3,1:4},p=function(e,t){e.value=t},u=Object.create(n,{activate:{writable:!0,value:function(e){this.input.disconnect(),this._activated=e,e?(this.input.connect(this.activateNode),this.activateCallback&&this.activateCallback(e)):this.input.connect(this.output)}},bypass:{get:function(){return this._activated},set:function(e){this.activate(e)}},active:{get:function(){return this._activated},set:function(e){this.activate(e)}},connect:{value:function(e){this.output.connect(e)}},connectInOrder:{value:function(e){for(var t=e.length-1;t--;)e[t].connect(e[t+1])}}});return l.createRecursive=function(e,n){for(var a,i,s=[],r=0;n.length>r;r++)a=n[r],i=new(l[t.capitalize(a.id)])(a),a.active?i.activate(!0):i.activate(!1),s.push(i),e.connect(i.input),e=i;return s},l.Filter=function(t){this.input=e.context.createGainNode(),this.filter=this.activateNode=e.context.createBiquadFilter(),this.output=e.context.createGainNode(),this.filter.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.filter,this.frequency=t.frequency,this.Q=t.resonance,this.filterType=t.filterType,this.gain=t.gain},l.Filter.prototype=Object.create(u,{name:{value:"Filter"},filterType:{enumerable:!0,get:function(){return this._filterType},set:function(e){this._filterType=e,this.filter.type=d[this._filterType.toLowerCase()]}},Q:{enumerable:!0,get:function(){return this.filter.Q},set:function(e){this.filter.Q.value=e}},gain:{enumerable:!0,get:function(){return this.filter.gain},set:function(e){this.filter.gain.value=e}},frequency:{enumerable:!0,get:function(){return this.filter.frequency},set:function(e){this.filter.frequency.value=e}}}),l.Cabinet=function(t){this.input=e.context.createGainNode(),this.activateNode=e.context.createGainNode(),this.convolver=this.newConvolver(t.impulsePath),this.makeupNode=e.context.createGainNode(),this.output=e.context.createGainNode(),this.activateNode.connect(this.convolver.input),this.convolver.output.connect(this.makeupNode),this.makeupNode.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.cabinet,this.makeupGain=t.makeupGain,this.convolver.activate(!0)},l.Cabinet.prototype=Object.create(u,{name:{value:"Cabinet"},makeupGain:{enumerable:!0,get:function(){return this.makeupNode.gain},set:function(e){this.makeupNode.gain.value=e}},newConvolver:{value:function(e){return new l.Convolver({impulse:e,dryLevel:0,wetLevel:1})}}}),l.Chorus=function(t){this.input=e.context.createGainNode(),this.attenuator=this.activateNode=e.context.createGainNode(),this.splitter=e.context.createChannelSplitter(2),this.delayL=e.context.createDelayNode(),this.delayR=e.context.createDelayNode(),this.feedbackGainNodeLR=e.context.createGainNode(),this.feedbackGainNodeRL=e.context.createGainNode(),this.merger=e.context.createChannelMerger(2),this.output=e.context.createGainNode(),this.lfoL=new l.LFO({target:this.delayL.delayTime,callback:p}),this.lfoR=new l.LFO({target:this.delayR.delayTime,callback:p}),this.input.connect(this.attenuator),this.attenuator.connect(this.output),this.attenuator.connect(this.splitter),this.splitter.connect(this.delayL,0),this.splitter.connect(this.delayR,1),this.delayL.connect(this.feedbackGainNodeLR),this.delayR.connect(this.feedbackGainNodeRL),this.feedbackGainNodeLR.connect(this.delayR),this.feedbackGainNodeRL.connect(this.delayL),this.delayL.connect(this.merger,0,0),this.delayR.connect(this.merger,0,1),this.merger.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.chorus,this.feedback=t.feedback,this.rate=t.rate,this.delay=t.delay,this.depth=t.depth,this.lfoR.phase=Math.PI/2,this.attenuator.gain.value=.6934,this.lfoL.activate(!0),this.lfoR.activate(!0)},l.Chorus.prototype=Object.create(u,{name:{value:"Chorus"},delay:{enumerable:!0,get:function(){return this._delay},set:function(e){this._delay=2e-4*Math.pow(10,2*e),this.lfoL.offset=this._delay,this.lfoR.offset=this._delay,this._depth=this._depth}},depth:{enumerable:!0,get:function(){return this._depth},set:function(e){this._depth=e,this.lfoL.oscillation=this._depth*this._delay,this.lfoR.oscillation=this._depth*this._delay}},feedback:{enumerable:!0,get:function(){return this._feedback},set:function(e){this._feedback=e,this.feedbackGainNodeLR.gain.value=this._feedback,this.feedbackGainNodeRL.gain.value=this._feedback}},rate:{enumerable:!0,get:function(){return this._rate},set:function(e){this._rate=e,this.lfoL._frequency=this._rate,this.lfoR._frequency=this._rate}}}),l.Compressor=function(t){this.input=e.context.createGainNode(),this.compNode=this.activateNode=e.context.createDynamicsCompressor(),this.makeupNode=e.context.createGainNode(),this.output=e.context.createGainNode(),this.compNode.connect(this.makeupNode),this.makeupNode.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.compressor,this.automakeup=t.automakeup,this.makeupGain=t.makeupGain,this.threshold=t.threshold,this.release=t.release,this.attack=t.attack,this.ratio=t.ratio,this.knee=t.knee},l.Compressor.prototype=Object.create(u,{name:{value:"Compressor"},computeMakeup:{value:function(){var e=4,t=this.compNode;return-(t.threshold.value-t.threshold.value/t.ratio.value)/e}},automakeup:{enumerable:!0,get:function(){return this._automakeup},set:function(e){this._automakeup=e,this._automakeup&&(this.makeupGain=this.computeMakeup())}},threshold:{enumerable:!0,get:function(){return this.compNode.threshold},set:function(e){this.compNode.threshold.value=e,this._automakeup&&(this.makeupGain=this.computeMakeup())}},ratio:{enumerable:!0,get:function(){return this.compNode.ratio},set:function(e){this.compNode.ratio.value=e,this._automakeup&&(this.makeupGain=this.computeMakeup())}},knee:{enumerable:!0,get:function(){return this.compNode.knee},set:function(e){this.compNode.knee.value=e,this._automakeup&&(this.makeupGain=this.computeMakeup())}},attack:{enumerable:!0,get:function(){return this.compNode.attack},set:function(e){this.compNode.attack.value=e/1e3}},release:{enumerable:!0,get:function(){return this.compNode.release},set:function(e){this.compNode.release=e/1e3}},makeupGain:{enumerable:!0,get:function(){return this.makeupNode.gain},set:function(e){var n=e;this.makeupNode.gain.value=t.dbToWAVolume(n)}}}),l.Convolver=function(t){this.input=e.context.createGainNode(),this.activateNode=e.context.createGainNode(),this.convolver=e.context.createConvolver(),this.dry=e.context.createGainNode(),this.filterLow=e.context.createBiquadFilter(),this.filterHigh=e.context.createBiquadFilter(),this.wet=e.context.createGainNode(),this.output=e.context.createGainNode(),this.activateNode.connect(this.filterLow),this.activateNode.connect(this.dry),this.filterLow.connect(this.filterHigh),this.filterHigh.connect(this.convolver),this.convolver.connect(this.wet),this.wet.connect(this.output),this.dry.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.convolver,this.dryLevel=t.dryLevel,this.wetLevel=t.wetLevel,this.highCut=t.highCut,this.buffer=t.impulse,this.lowCut=t.lowCut,this.level=t.level,this.filterHigh.type=0,this.filterLow.type=1},l.Convolver.prototype=Object.create(u,{name:{value:"Convolver"},lowCut:{get:function(){return this.filterLow.frequency},set:function(e){this.filterLow.frequency.value=e}},highCut:{get:function(){return this.filterHigh.frequency},set:function(e){this.filterHigh.frequency.value=e}},level:{get:function(){return this.output.gain},set:function(e){this.output.gain.value=e}},dryLevel:{get:function(){return this.dry.gain},set:function(e){this.dry.gain.value=e}},wetLevel:{get:function(){return this.wet.gain},set:function(e){this.wet.gain.value=e,this.wet.gain=e}},buffer:{enumerable:!1,get:function(){return this.convolver.buffer},set:function(e){this.convolver.buffer=i.getAsset("buffer",e)}}}),l.Delay=function(t){this.input=e.context.createGainNode(),this.activateNode=e.context.createGainNode(),this.dry=e.context.createGainNode(),this.wet=e.context.createGainNode(),this.filter=e.context.createBiquadFilter(),this.delay=e.context.createDelayNode(),this.feedbackNode=e.context.createGainNode(),this.output=e.context.createGainNode(),this.activateNode.connect(this.delay),this.activateNode.connect(this.dry),this.delay.connect(this.filter),this.filter.connect(this.feedbackNode),this.feedbackNode.connect(this.delay),this.feedbackNode.connect(this.wet),this.wet.connect(this.output),this.dry.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.delay,this.tempoSync=t.tempoSync,this.tempoSync&&(this.subdivision=t.subdivision),this.delayTime=t.delayTime,this.feedback=t.feedback,this.wetLevel=t.wetLevel,this.dryLevel=t.dryLevel,this.cutoff=t.cutoff,this.filter.type=1},l.Delay.prototype=Object.create(u,{name:{value:"Delay"},tempoListener:{value:function(e){this.tempo=e,this.delayTime=this.tempo}},tempoSync:{get:function(){return this._tempoSync},set:function(t){if(t&&"string"==typeof t){var n=e.getInstance("player:"+t);this.tempo=n?n.tempo:90,this._tempoSync=t,dmaf.addEventListener("tempo_"+this._tempoSync,this.tempoListener.bind(this))}else this._tempoSync=!1}},subdivision:{get:function(){return this._subdivision},set:function(e){this._subdivision=e}},tempo:{get:function(){return this._tempo},set:function(e){this._tempo=e}},delayTime:{enumerable:!0,get:function(){return this.delay.delayTime},set:function(e){this.delay.delayTime.value=this._tempoSync?60*c[this.subdivision]/this.tempo:e/1e3}},wetLevel:{enumerable:!0,get:function(){return this.wet.gain},set:function(e){this.wet.gain.value=e}},dryLevel:{enumerable:!0,get:function(){return this.dry.gain},set:function(e){this.dry.gain.value=e}},feedback:{enumerable:!0,get:function(){return this.feedbackNode.gain},set:function(e){this.feedbackNode.gain.value=e}},cutoff:{enumerable:!0,get:function(){return this.filter.frequency},set:function(e){this.filter.frequency.value=e}}}),l.EnvelopeFollower=function(t){this.input=e.context.createGainNode(),this.jsNode=this.output=e.context.createJavaScriptNode(this.buffersize,1,1),this.input.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.envelopeFollower,this.attackTime=t.attackTime,this.releaseTime=t.releaseTime,this._envelope=0,this.target=t.target,this.callback=t.callback},l.EnvelopeFollower.prototype=Object.create(u,{name:{value:"EnvelopeFollower"},buffersize:{value:256},envelope:{value:0},sampleRate:{value:44100},attackTime:{enumerable:!0,get:function(){return this._attackTime},set:function(e){this._attackTime=e,this._attackC=Math.exp(-1/this._attackTime*this.sampleRate/this.buffersize)}},releaseTime:{enumerable:!0,get:function(){return this._releaseTime},set:function(e){this._releaseTime=e,this._releaseC=Math.exp(-1/this._releaseTime*this.sampleRate/this.buffersize)}},callback:{get:function(){return this._callback},set:function(e){this._callback=e}},target:{get:function(){return this._target},set:function(e){this._target=e}},activate:{value:function(t){this.activated=t,t?(this.jsNode.connect(e.context.destination),this.jsNode.onaudioprocess=this.returnCompute(this)):(this.jsNode.disconnect(),this.jsNode.onaudioprocess=null)}},returnCompute:{value:function(e){return function(t){e.compute(t)}}},compute:{value:function(e){var t,n,a,i,s=e.inputBuffer.getChannelData(0).length,r=e.inputBuffer.numberOfChannels;if(n=a=0,r>1)for(i=0;s>i;++i)for(;r>n;++n)t=e.inputBuffer.getChannelData(n)[i],a+=t*t/r;else for(i=0;s>i;++i)t=e.inputBuffer.getChannelData(0)[i],a+=t*t;a=Math.sqrt(a),a>this._envelope?(this._envelope*=this._attackC,this._envelope+=(1-this._attackC)*a):(this._envelope*=this._releaseC,this._envelope+=(1-this._releaseC)*a),this._callback(this._target,this._envelope)}}}),l.Equalizer=function(){function t(t){this._defaults=e.Settings.descriptors.type.audioNode.equalizer,this.nbands=t.bands.length;for(var n=0,a=this._nbands;a>n;n++);this.input=e.context.createGainNode(),this.output=e.context.createGainNode(),this.activateNode=e.context.createGainNode()}return t}(),l.Equalizer.prototype=Object.create(u,{name:{value:"Equalizer"},propertySearch:{value:/:bypass|:type|:frequency|:gain|:q/i}}),l.LFO=function(){function t(t){this.output=e.context.createJavaScriptNode(256,1,1),this.activateNode=e.context.destination,this.defaults=e.Settings.descriptors.type.audioNode.lfo,this.type=t.type,this.frequency=t.frequency,this.offset=t.offset,this.oscillation=t.oscillation,this.phase=t.phase,this.target=t.target,this.output.onaudioprocess=this.callback(t.callback)}return t.prototype=Object.create(u,{name:{value:"LFO"},bufferSize:{value:256},sampleRate:{value:44100},type:{enumerable:!0,get:function(){return this._type},set:function(e){this._type=e}},frequency:{get:function(){return this._frequency},set:function(e){this._frequency=e,this._phaseInc=2*Math.PI*this._frequency*this.bufferSize/this.sampleRate}},offset:{get:function(){return this._offset},set:function(e){this._offset=e}},oscillation:{get:function(){return this._oscillation},set:function(e){this._oscillation=e}},phase:{get:function(){return this._phase},set:function(e){this._phase=e}},target:{get:function(){return this._target},set:function(e){this._target=e}},activate:{value:function(t){this._activated=t,t?this.output.connect(e.context.destination):this.output.disconnect(e.context.destination)}},callback:{value:function(e){var t=this;return function(){t._phase+=t._phaseInc,t._phase>2*Math.PI&&(t._phase=0),e(t._target,t._offset+t._oscillation*Math.sin(t._phase))}}}}),t}(),l.Overdrive=function(t){this.input=e.context.createGainNode(),this.activateNode=e.context.createGainNode(),this.inputDrive=e.context.createGainNode(),this.waveshaper=e.context.createWaveShaper(),this.outputDrive=e.context.createGainNode(),this.output=e.context.createGainNode(),this.activateNode.connect(this.inputDrive),this.inputDrive.connect(this.waveshaper),this.waveshaper.connect(this.outputDrive),this.outputDrive.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.overdrive,this.ws_table=new Float32Array(this.k_nSamples),this.drive=t.drive,this.outputGain=t.outputGain,this.curveAmount=t.curveAmount,this.algorithm=t.algorithmIndex},l.Overdrive.prototype=Object.create(u,{name:{value:"Overdrive"},k_nSamples:{value:8192},drive:{get:function(){return this.inputDrive.gain},set:function(e){this._drive=e}},curveAmount:{get:function(){return this._curveAmount},set:function(e){this._curveAmount=e,void 0===this._algorithmIndex&&(this._algorithmIndex=0),this.waveshaperAlgorithms[this._algorithmIndex](this._curveAmount,this.k_nSamples,this.ws_table),this.waveshaper.curve=this.ws_table}},outputGain:{get:function(){return this.outputDrive.gain},set:function(e){var n=e;this._outputGain=t.dbToWAVolume(n)}},algorithm:{get:function(){return this._algorithmIndex},set:function(e){this._algorithmIndex=e,this.curveAmount=this._curveAmount}},waveshaperAlgorithms:{value:[function(e,t,n){var a,i,s=2*e/(1-e);for(a=0;t>a;a++)i=2*a/t-1,n[a]=(1+s)*i/(1+s*Math.abs(i))},function(e,t,n){var a,i,r;for(a=0;t>a;a++)i=2*a/t-1,r=(.5*Math.pow(i+1.4,2)-1)*r>=0?5.8:1.2,n[a]=s(r)},function(e,t,n){var a,i,r,o=1-e;for(a=0;t>a;a++)i=2*a/t-1,r=0>i?-Math.pow(Math.abs(i),o+.04):Math.pow(i,o),n[a]=s(2*r)},function(e,t,n){var a,i,s,o,l=1-e>.99?.99:1-e;for(a=0;t>a;a++)i=2*a/t-1,o=Math.abs(i),l>o?s=o:o>l?s=l+(o-l)/(1+Math.pow((o-l)/(1-l),2)):o>1&&(s=o),n[a]=r(i)*s*(1/((l+1)/2))},function(e,t,n){var a,i;for(a=0;t>a;a++)i=2*a/t-1,n[a]=-.08905>i?-3/4*(1-Math.pow(1-(Math.abs(i)-.032857),12)+1/3*(Math.abs(i)-.032847))+.01:i>=-.08905&&.320018>i?-6.153*i*i+3.9375*i:.630035},function(e,t,n){var a,i,s=2+Math.round(14*e),r=Math.round(Math.pow(2,s-1));for(a=0;t>a;a++)i=2*a/t-1,n[a]=Math.round(i*r)/r}]}}),l.Panner=function(t){this.input=e.context.createGainNode(),this.splitter=e.context.createChannelSplitter(2),this.lGain=e.context.createGainNode(),this.rGain=e.context.createGainNode(),this.merger=e.context.createChannelMerger(2),this.output=e.context.createGainNode(),this.input.connect(this.splitter),this.splitter.connect(this.lGain,0),this.splitter.connect(this.rGain,1),this.lGain.connect(this.merger,0,0),this.rGain.connect(this.merger,0,1),this.merger.connect(this.output),this.pan=t.value},l.Panner.prototype=Object.create(u,{pan:{get:function(){return this._value},set:function(e){var t=(e+100)/200;this._value=e,this.lGain.gain.value=Math.cos(t*Math.PI/2),this.rGain.gain.value=Math.sin(t*Math.PI/2)}}}),l.PingPongDelay=function(t){this.input=e.context.createGainNode(),this.activateNode=e.context.createGainNode(),this.dry=e.context.createGainNode(),this.splitter=e.context.createChannelSplitter(2),this.toMono=e.context.createGainNode(),this.wet=e.context.createGainNode(),this.feedbackNode=e.context.createGainNode(),this.delayL=new l.Delay(t),this.delayR=new l.Delay(t),this.merger=e.context.createChannelMerger(),this.output=e.context.createGainNode(),this.activateNode.connect(this.dry),this.activateNode.connect(this.splitter),this.splitter.connect(this.toMono,0,0),this.splitter.connect(this.toMono,1,0),this.toMono.connect(this.wet),this.wet.connect(this.delayL.delay),this.feedbackNode.connect(this.delayL.delay),this.delayL.delay.connect(this.delayR.delay),this.delayR.delay.connect(this.feedbackNode),this.delayL.delay.connect(this.merger,0,0),this.delayR.delay.connect(this.merger,0,1),this.dry.connect(this.output),this.merger.connect(this.output),this.delayL.feedback=0,this.delayR.feedback=0,this.delayL.wetLevel=1,this.delayR.wetLevel=1,this.delayL.dryLevel=0,this.delayR.dryLevel=0,this.defaults=e.Settings.descriptors.type.audioNode.pingPongDelay,this.cutoff=t.cutoff,this.tempoSync=t.tempoSync,this.tempoSync&&(this.subdivision=t.subdivision),this.delayTime=t.delayTime,this.feedback=t.feedback,this.wetLevel=t.wetLevel,this.dryLevel=t.dryLevel},l.PingPongDelay.prototype=Object.create(u,{name:{value:"PingPongDelay"},tempoSync:{get:function(){return this._tempoSync},set:function(t){var n=t?e.getInstance("player",t):null;this.tempo=n?n.tempo:120,this._tempoSync=t,this.delayL.tempoSync=this._tempoSync,this.delayR.tempoSync=this._tempoSync}},tempo:{get:function(){return this._tempo},set:function(e){this._tempo=e,this.delayL.tempo=e,this.delayR.tempo=e}},subdivision:{get:function(){return this._subdivision},set:function(e){this._subdivision=e,this.delayL.subdivision=this._subdivision,this.delayR.subdivision=this._subdivision}},delayTime:{enumerable:!0,get:function(){return this._delayTime},set:function(e){this._tempoSync?(this._delayTime=60*c[this.subdivision]/this.tempo,this.delayL.delayTime=this._delayTime,this.delayR.delayTime=this._delayTime):(this._delayTime=e/1e3,this.delayL.delayTime=e,this.delayR.delayTime=e)}},wetLevel:{enumerable:!0,get:function(){return this.wet.gain},set:function(e){this.wet.gain.value=e}},dryLevel:{enumerable:!0,get:function(){return this.dry.gain},set:function(e){this.dry.gain.value=e}},feedback:{enumerable:!0,get:function(){return this.feedbackNode.gain},set:function(e){this.feedbackNode.gain.value=e}},cutoff:{enumerable:!0,get:function(){return this.delayL.filter.frequency},set:function(e){this.delayL.filter.frequency.value=e,this.delayR.filter.frequency.value=e}}}),l.Phaser=function(t){this.input=e.context.createGainNode(),this.splitter=this.activateNode=e.context.createChannelSplitter(2),this.filtersL=[],this.filtersR=[],this.feedbackGainNodeL=e.context.createGainNode(),this.feedbackGainNodeR=e.context.createGainNode(),this.merger=e.context.createChannelMerger(2),this.filteredSignal=e.context.createGainNode(),this.output=e.context.createGainNode(),this.lfoL=new l.LFO({target:this.filtersL,callback:this.callback}),this.lfoR=new l.LFO({target:this.filtersR,callback:this.callback});for(var n=this.stage;n--;)this.filtersL[n]=e.context.createBiquadFilter(),this.filtersR[n]=e.context.createBiquadFilter(),this.filtersL[n].type=7,this.filtersR[n].type=7;this.input.connect(this.splitter),this.input.connect(this.output),this.splitter.connect(this.filtersL[0],0,0),this.splitter.connect(this.filtersR[0],1,0),this.connectInOrder(this.filtersL),this.connectInOrder(this.filtersR),this.filtersL[this.stage-1].connect(this.feedbackGainNodeL),this.filtersL[this.stage-1].connect(this.merger,0,0),this.filtersR[this.stage-1].connect(this.feedbackGainNodeR),this.filtersR[this.stage-1].connect(this.merger,0,1),this.feedbackGainNodeL.connect(this.filtersL[0]),this.feedbackGainNodeR.connect(this.filtersR[0]),this.merger.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.phaser,this.rate=t.rate,this.baseModulationFrequency=t.baseModulationFrequency,this.depth=t.depth,this.feedback=t.feedback,this.stereoPhase=t.stereoPhase,this.lfoL.activate(!0),this.lfoR.activate(!0)},l.Phaser.prototype=Object.create(u,{name:{value:"Phaser"},stage:{value:4},callback:{value:function(e,t){for(var n=0;4>n;n++)e[n].frequency.value=t}},depth:{enumerable:!0,get:function(){return this._depth},set:function(e){this._depth=e,this.lfoL.oscillation=this._baseModulationFrequency*this._depth,this.lfoR.oscillation=this._baseModulationFrequency*this._depth}},rate:{enumerable:!0,get:function(){return this._rate},set:function(e){this._rate=e,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate}},baseModulationFrequency:{enumerable:!0,get:function(){return this._baseModulationFrequency},set:function(e){this._baseModulationFrequency=e,this.lfoL.offset=this._baseModulationFrequency,this.lfoR.offset=this._baseModulationFrequency}},feedback:{get:function(){return this._feedback},set:function(e){this._feedback=e,this.feedbackGainNodeL.gain.value=this._feedback,this.feedbackGainNodeR.gain.value=this._feedback}},stereoPhase:{get:function(){return this._stereoPhase},set:function(e){this._stereoPhase=e;var t=this.lfoL._phase+this._stereoPhase*Math.PI/180;t=o(t,2*Math.PI),this.lfoR._phase=t}}}),l.Tremolo=function(t){this.input=e.context.createGainNode(),this.splitter=this.activateNode=e.context.createChannelSplitter(2),this.amplitudeL=e.context.createGainNode(),this.amplitudeR=e.context.createGainNode(),this.merger=e.context.createChannelMerger(2),this.output=e.context.createGainNode(),this.lfoL=new l.LFO({target:this.amplitudeL.gain,callback:p}),this.lfoR=new l.LFO({target:this.amplitudeR.gain,callback:p}),this.input.connect(this.splitter),this.splitter.connect(this.amplitudeL,0),this.splitter.connect(this.amplitudeR,1),this.amplitudeL.connect(this.merger,0,0),this.amplitudeR.connect(this.merger,0,1),this.merger.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.tremolo,this.rate=t.rate,this.intensity=t.intensity,this.stereoPhase=t.stereoPhase,this.lfoL.offset=1-this.intensity/2,this.lfoR.offset=1-this.intensity/2,this.lfoL.phase=this.stereoPhase*Math.PI/180,this.lfoL.activate(!0),this.lfoR.activate(!0)},l.Tremolo.prototype=Object.create(u,{name:{value:"Tremolo"},intensity:{enumerable:!0,get:function(){return this._intensity},set:function(e){this._intensity=e,this.lfoL.offset=this._intensity/2,this.lfoR.offset=this._intensity/2,this.lfoL.oscillation=this._intensity,this.lfoR.oscillation=this._intensity}},rate:{enumerable:!0,get:function(){return this._rate},set:function(e){this._rate=e,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate}},steroPhase:{enumerable:!0,get:function(){return this._rate},set:function(e){this._stereoPhase=e;var t=this.lfoL._phase+this._stereoPhase*Math.PI/180;t=o(t,2*Math.PI),this.lfoR.phase=t}}}),l.WahWah=function(t){this.input=e.context.createGainNode(),this.activateNode=e.context.createGainNode(),this.envelopeFollower=new l.EnvelopeFollower({target:this,callback:function(e,t){e.sweep=t}}),this.filterBp=e.context.createBiquadFilter(),this.filterPeaking=e.context.createBiquadFilter(),this.output=e.context.createGainNode(),this.activateNode.connect(this.filterBp),this.filterBp.connect(this.filterPeaking),this.filterPeaking.connect(this.output),this.defaults=e.Settings.descriptors.type.audioNode.wahWah,this.init(),this.automode=t.enableAutoMode,this.resonance=t.resonance,this.sensitivity=t.sensitivity,this.baseFrequency=t.baseModulationFrequency,this.excursionOctaves=t.excursionOctaves,this.sweep=t.sweep,this.envelopeFollower.activate(!0)},l.WahWah.prototype=Object.create(u,{name:{value:"WahWah"},activateCallback:{value:function(e){this.automode=e}},automode:{get:function(){return this._automode},set:function(e){this._automode=e,e?(this.activateNode.connect(this.envelopeFollower.input),this.envelopeFollower.activate(!0)):(this.envelopeFollower.activate(!1),this.activateNode.disconnect(),this.activateNode.connect(this.filterBp))}},sweep:{enumerable:!0,get:function(){return this._sweep.value},set:function(e){this._sweep=Math.pow(e>1?1:0>e?0:e,this._sensitivity),this.filterBp.frequency.value=this._baseFrequency+this._excursionFrequency*this._sweep,this.filterPeaking.frequency.value=this._baseFrequency+this._excursionFrequency*this._sweep}},baseFrequency:{enumerable:!0,get:function(){return this._baseFrequency},set:function(e){this._baseFrequency=50*Math.pow(10,2*e),this._excursionFrequency=Math.min(this.sampleRate/2,this.baseFrequency*Math.pow(2,this._excursionOctaves)),this.filterBp.frequency.value=this._baseFrequency+this._excursionFrequency*this._sweep,this.filterPeaking.frequency.value=this._baseFrequency+this._excursionFrequency*this._sweep}},excursionOctaves:{enumerable:!0,get:function(){return this._excursionOctaves},set:function(e){this._excursionOctaves=e,this._excursionFrequency=Math.min(this.sampleRate/2,this.baseFrequency*Math.pow(2,this._excursionOctaves)),this.filterBp.frequency.value=this._baseFrequency+this._excursionFrequency*this._sweep,this.filterPeaking.frequency.value=this._baseFrequency+this._excursionFrequency*this._sweep}},sensitivity:{enumerable:!0,get:function(){return this._sensitivity},set:function(e){this._sensitivity=e,this._sensitivity=Math.pow(10,this._sensitivity)}},resonance:{enumerable:!0,get:function(){return this._resonance},set:function(e){this._resonance=e,this.filterPeaking.Q=this._resonance}},init:{value:function(){var t,n,a=Object.keys(this.defaults);for(this.output.gain.value=5,this.filterPeaking.type=5,this.filterBp.type=2,this.filterPeaking.frequency.value=100,this.filterPeaking.gain.value=20,this.filterPeaking.Q.value=5,this.filterBp.frequency.value=100,this.filterBp.Q.value=1,this.sampleRate=e.context.sampleRate,t=0,n=a.length;n>t;t++)this[a[t]]=this.defaults[a[t]].value}}}),l}),dmaf("Action",["DMAF","Utils","events"],function(e,t,n){function a(a){function s(s,r,o){var l,d,c;if(r=r||1e3*e.context.currentTime,d=a.multi?s:a.instanceId,a.multiSuffix&&(d=d.replace(a.multiSuffix,"")),l=e.getInstance(a.type,d||"no_instance_id"))l._dynamicValues&&i(l);else{if(c=t.clone(a),l=e.createInstance(d,c),l.error)return;l._dynamicValues&&i(l),l.init(c)}dmaf.log&&n.dispatch("log:action:"+a.type+":"+a.id+":"+d,r,s),l?l.onAction(s,r+a.delay,o,a):n.dispatch("log:error","Action was unable to create a new instance")}return s}function i(n){t.each(n._dynamicValues,function(a,i){n[i.key]=t.verify(n.defaults[i.key],e.getInstanceProperty(i.string))})}return a}),dmaf("Instance",["Utils"],function(e){var t,n,a=/\:/;dmaf.hasContext&&(n=window.webkitAudioContext||window.AudioContext,t=Object.getPrototypeOf((new n).createGainNode().gain.constructor.prototype));var i={isDMAFInstance:!0,setInitProperties:function(t){return e.extend(t,this),this},init:function(){return this},onAction:function(){return this},returnChildInstance:function(e){var t,n,s,r,o;if(a.test(e)&&(t=e.split(a),t.length&&t.length>1))for(o=this,s=0,r=t.length;r>s;s++){if(n=t[s],o=o[n],"object"!=typeof o)return{instance:this,ref:e};if(i.isPrototypeOf(o))return t=t.slice(s+1).join(":"),o.returnChildInstance(t)}return{instance:this,ref:e}},setProperty:function(n,i,s,r){var o,l=this.returnChildInstance(n);return l.instance!==this?l.instance.setProperty(l.ref,i,s,r):a.test(n)?(console.error("log:instance","DMAF Does not support colon syntax for properties within arrays.",n),void 0):void 0===this[n]?(console.error("log:instance",n,"is not a valid property for instance type",this.id),void 0):(i=e.verify(this.defaults[n],i),"volume"===n&&(i=Math.max(0,Math.floor(100*Math.pow(2,i/6))/100)),t.isPrototypeOf(this[n])?(r=r?r/1e3:0,s=s=s?s/1e3:0,o=s?"linearRampToValueAtTime":"setValueAtTime",this[n].cancelScheduledValues(r),this[n].setValueAtTime(this[n].value,r),this[n][o](i,s+r)):this[n]=i,void 0)}};return i}),dmaf("Property",["DMAF"],function(e){function t(t,n,i,s){var r=1e3*e.context.currentTime;this.time=t,this.value=n,this.parent=s,this.type=i,this.execute=("linear"===i?a:this.done).bind(this),"linear"===i&&(t=this.parent._previous),this.id=setTimeout(this.execute,t>r?t-r:0)}function n(){this.startTime=this.parent._previous,this.startValue=this.parent.value}function a(){var t;void 0===this.startTime&&n.call(this),t=(1e3*e.context.currentTime-this.startTime)/(this.time-this.startTime),this.parent.value=this.startValue+(this.value-this.startValue)*t,t>.999?this.done():this.id=setTimeout(this.execute,20)}function i(e){this.value=e,this._previous=0,this._actions=[]}return t.prototype.done=function(){this.parent._previous=this.time,this.parent.value=this.value,this.parent._actions.splice(this.parent._actions.indexOf(this),1)},i.prototype.cancelScheduledValues=function(e){for(var t=this._actions.length;t--;)this._actions[t].time>=e&&this._actions.splice(t,1)},i.prototype.setValueAtTime=function(e,n){this._actions.push(new t(n,e,"set",this))},i.prototype.linearRampToValueAtTime=function(e,n){this._actions.push(new t(n,e,"linear",this))},i}),dmaf("context",[],function(){function e(){return(new Date).getTime()/1e3}function t(){return a.currentTime=e(),setTimeout(t,40),context.currentTime}function n(){var e=a.createBufferSource();e.buffer=a.createBuffer(1,100,44100),e.noteOn(0),document.removeEventListener(i,n,!1)}var a;if(dmaf.hasContext){var i="createTouch"in document?"touchstart":"mousedown",s=window.webkitAudioContext||window.AudioContext||null;return document.addEventListener(i,n,!1),a=new s}return Object.create?Object.create(null,{currentTime:{get:e}}):{currentTime:t()}}),dmaf("DMAF",["InstanceManager","Instance","context","events"],function(e,t,n,a){function i(e){return function(t){var n,i;return c.test(t)?(n=t.split(c),n.length>2&&(i=n.slice(2),n.length=2,n.push(i))):n=arguments,n[0]?p[n[0]]?e.apply(p,n):(a.dispatch("log:error:core","Invalid type!",n[0]),null):(a.dispatch("log:error:core","verifyQueryPartial, Missing arguments!"),null)}}function s(t,n,a,i){this[t]=this[t]||Object.create(null),this[t].ids=this[t].ids||[],this[t].ids.push(n),a.prototype.defaults=this.Settings.descriptors.action[t][n]||{},this[t][n]=new e(a,i)}function r(e,t){for(var n,a,i=this[e].ids,s=0,r=i.length;r>s;s++)if(a=i[s],n=this[e][a].getInstance(t))return n;return null}function o(e,t,n){var i=this.getInstance(e,t);if(!i)return a.dispatch("log:error:core","Missing instance",e,t),null;for(var s=0,r=n.length;r>s&&void 0!==i&&("object"==typeof i||"function"==typeof i);s++)i=i[n[s]];return s!==r?(a.dispatch("log:error:core","Could not find property:",n.join(",")),null):i}function l(e,t){var n;return t.instanceId=e,this[t.type]&&this[t.type][t.id]?n=this[t.type][t.id].createInstance(t):a.dispatch("log:error:core",n.type,n.id,"was not registered with dmaf."),n||{error:!0}}function d(e,t){var n=this.getInstance(e,t);
return n?this[n.type][n.id].removeInstance(t):(a.dispatch("log:error:core","DMAF.remove: Could not find instance",e,t),!1)}var c=/[:]/,p={registeredObjects:{}};return Array.prototype.slice,console.log||function(){},p.getInstanceProperty=i(o),p.getInstance=i(r),p.registerInstance=s,p.removeInstance=d,p.createInstance=l,p.context=n,p}),dmaf("init",["DMAF","Utils","Parse","events","Action","log"],function(e,t,n,a,i,s){return function(r,o,l,d,c,p,u){if(e.require=o,dmaf.isBrowser){if(!dmaf.hasContext)return e.require("public"),a.dispatch("_internal:resolve_listeners"),a.dispatch("_external:dmaf_fail"),void 0;if(e.Settings={},dmaf.dev){if(dmaf.log=!0,s(u),window.DMAF=e,!d)throw Error("Missing descriptors.xml!");if(e.Settings.descriptors=n("descriptors",d),!c)throw Error("Missing config.xml!");if(e.Settings.actions=n("actions",c),!p)throw Error("Missing assets.xml!");for(var m=n("actions",p),h=0;m.length>h;h++)e.Settings.actions.unshift(m[h])}else e.require("settings");r&&(e.Settings.assetsPath=r),t.each(l,function(t){switch(t){case"init":break;case"settings":break;default:e.require(t)}}),t.each(e.Settings.actions,function(n,s){e[s.type]&&e[s.type][s.id]?t.each(s.triggers,function(e,t){a.add(t,i(s))}):a.dispatch("log:core","DMAF: Requested unregistered module!",s)}),a.dispatch("preload_assets"),a.once("_internal:preloads_complete",function(){a.dispatch("log:core","preloads_complete"),a.dispatch("_internal:resolve_listeners"),a.dispatch("init_routing"),a.dispatch("dmaf_ready"),a.dispatch("_internal:resolve_input"),a.dispatch("log:core","Dispatching external dmaf_ready"),a.dispatch("_external:dmaf_ready"),a.dispatch("log:core","dmaf is now ready")})}else dmaf.Parse=n}}),dmaf("public",["DMAF","events"],function(e,t){function n(n,a,i){t.dispatch("log:public:tell",n,a),dmaf.log&&console.log("dmaf.tell:",n),i||(i=1e3*e.context.currentTime),t.dispatch(n,i,a)}function a(e,n){return t.add("_external:"+e,n)}function i(e,n){return t.remove("_external:"+e,n)}function s(e,n){return t.once("_external:"+e,n)}function r(n,a){return"string"!=typeof n?(console.error("dmaf: You must provide a valid id for the object you wish to register."),2):n?a&&a instanceof Object?(a.instanceId||(a.instanceId=n),e.registeredObjects[n]?(console.log("You've already registered an object with id",n),void 0):(t.dispatch("log:public:registerObject",n,a),e.registeredObjects[n]=a,t.dispatch(n+".CREATE"),void 0)):(console.log("dmaf: You've tried to register an object not of type 'object'"),3):(console.error("dmaf: You must provide a valid id for the object you wish to register."),1)}function o(n){t.dispatch("log:public:unregisterObject",n);var a=e.registeredObjects[n],i=!1;return a&&(i=delete e.registeredObjects[n]),a=e.getInstance("customCode:"+n),a&&(i=e.removeInstance("customCode:"+n)),a=e.getInstance("mediaElement:"+n),a&&(i=e.removeInstance("mediaElement:"+n),t.dispatch("log:public:unregisterObject",n)),i&&t.dispatch(n+".REMOVE"),delete e.registeredObjects[n]}function l(){t.dispatch("log:core","resolving pending addListeners and registerObject calls."),dmaf.once.resolve(s),dmaf.addEventListener.resolve(a),dmaf.removeEventListener.resolve(i),dmaf.unregisterObject.resolve(o)}function d(){dmaf.tell.resolve?(t.dispatch("log:core","resolving pending tells."),dmaf.tell.resolve(n)):(dmaf.tell=n,console.warn("dmaf: dmaf.tell has been overwritten. Unexpected behavior may occur.")),dmaf.registerObject.resolve(r)}t.once("_internal:resolve_listeners",l),t.once("_internal:resolve_input",d)}),dmaf("events",[],function(){function e(e){var n,a=r,i=Array.prototype.slice.call(arguments,0),s=t(e),o=[];r=0;for(var l=0,d=s.length;d>l&&(n=s[l],o.push(n.apply(null,i)),!r);l++);return r=a,o.length?o:null}function t(e){var t,n,a,i=e.split(l),s=o,r=[];for(n=0,a=i.length;a>n&&(t=s.names&&s.names[i[n]],t);n++)r=r.concat(t.listeners||[]),s=s.names[i[n]];return r}function n(){r=1}function a(e,t){for(var n=e.split(l),a=o,i=0,s=n.length;s>i;i++)a=a.names,a.hasOwnProperty(n[i])&&void 0!==a[n[i]]?a=a[n[i]]:(a[n[i]]={names:{}},a=a[n[i]]);for(a.listeners=a.listeners||[],i=0,s=a.listeners.length;s>i;i++)if(a.listeners[i]===t)return;a.listeners.push(t)}function i(e,t){var n=function(){return s(e,n),t.apply(this,arguments)};return a(e,n)}function s(e,t){var n,a,i,s,r,c,p,u=e.split(l),m=[o];for(s=0,r=u.length;r>s;s++)for(c=0;m.length>c;c++)i=[c,1],n=m[c].names,n[u[s]]&&i.push(n[u[s]]),m.splice.apply(m,i);for(s=0,r=m.length;r>s;s++)for(n=m[s];n.names;){if(t){if(n.listeners){for(c=0,p=n.listeners.length;p>c;c++)if(n.listeners[c]===t){n.listeners.splice(c,1);break}n.listeners.length||delete n.listeners}for(a in n.names)if(n.names[d](a)&&n.names[a].listeners){var h=n.names[a].listeners;for(c=0,p=h.length;p>c;c++){if(h[c]===t){h.splice(c,1);break}h.length||delete n.names[a].listeners}}}else{delete n.listeners;for(a in n.names)n.names[d](a)&&n.names[a].listeners&&delete n.names[a].listeners}n=n.names}}var r,o={names:{}},l=/[\:]/,d="hasOwnProperty",c={add:a,remove:s,_events:o,listeners:t,stop:n,once:i,dispatch:e};return c}),dmaf("assetController",["DMAF","Utils","Instance","Assets","Parse","events","AudioManager"],function(e,t,n,a,i,s,r){function o(e){return!!y.canPlayType(A[e]).replace(/no/,"")}function l(){}function d(){}function c(){}function p(){}function u(){}function m(){}function h(){}function f(t,n){return function(i){n.files.forEach(function(n){function r(e){s.dispatch("log:assets","Decoded",n.name),a.buffer[n.name]=e,t.onstep()}function o(e){console.error("Could note decode",n.name,e)}e.context.decodeAudioData(i.slice(n.start,n.end),r,o)})}}var _,g="assetController",y=dmaf.isBrowser?document.createElement("audio"):{},v={loadSampleMap:"xml/",loadMIDI:"midi/",loadSound:"audio/",loadCustomCode:"js/",loadHTMLAudio:"audio/",cacheHTMLAudio:"audio/"},b=["ogg","aac","mp3","wav"],A={wav:'audio/wav; codecs="1"',mp3:"audio/mpeg;",aac:'audio/mp4; codecs="mp4a.40.2"',ogg:'audio/ogg; codecs="vorbis"'},T=Object.create(n,{init:{value:function(){this.loadCount=0,-1!==this.triggers.indexOf("preload_assets")&&(a.preloads+=this.files.length,this.preload=!0)}},onload:{value:function(){return this.returnEvent&&s.dispatch(this.returnEvent),e.removeInstance(this.type,this.instanceId)}},onstep:{value:function(){return s.dispatch("_internal:asset_loaded",this.preload),++this.loadCount===this.files.length&&this.onload()}},onAction:{value:function(){this.files.length||(s.dispatch("log:error:assets",this.type,this.id,"There are no files for this loader"),this.onstep()),this.baseURL=e.Settings.assetsPath+v[this.id],this.fileNames=this.files.map(t.prop("name"));for(var n=0;this.fileNames.length>n;n++)this.loadFile(this.baseURL+this.fileNames[n]+this.format,this.fileNames[n],n);this.onAction=t.nope}}});if(y.canPlayType!==void 0)for(var P=0,E=b.length;E>P;P++)if(o(b[P])){_="."+b[P];break}return void 0===_?s.dispatch("_external:dmaf_fail"):(e.format=_,r.init(),l.prototype=Object.create(T,{loadFile:{value:function(){function e(){t.onstep()||(y.src=t.baseURL+n[t.loadCount]+t.format,y.load())}var t=this,n=this.fileNames;y.addEventListener("canplaythrough",e,!1),y.src=t.baseURL+n[t.loadCount]+t.format,y.load(),this.fileNames.length=0}},format:{value:_}}),e.registerInstance("assetController","cacheHTMLAudio",l),d.prototype=Object.create(T,{loadFile:{value:function(){function e(){t.onstep()||(s.once("_internal:"+n[t.loadCount]+".READY",e),r.preloadElement(n[t.loadCount]))}var t=this,n=this.fileNames;s.once("_internal:"+n[t.loadCount]+".READY",e),r.preloadElement(n[t.loadCount]),this.fileNames.length=0}},format:{value:_}}),e.registerInstance("assetController","loadHTMLAudio",d),c.prototype=Object.create(T,{format:{value:".js"},loadFile:{value:function(e){var t=this,n=document.createElement("script");n.type="text/javascript",n.src=e,n.addEventListener("load",function(){t.onstep(),void 0!==n.remove&&n.remove()}),document.body.appendChild(n)}}}),e.registerInstance(g,"loadCustomCode",c),p.prototype=Object.create(T,{format:{value:".xml"},loadFile:{value:function(e){function n(e){i("samplemap",e)}var a={chain:[this.onstep],context:this,responseXML:!0,fail:function(){s.dispatch("log:assets","Problem parsing samplemap file"),this.onstep()}.bind(this)};t.ajax(e,n,a)}}}),e.registerInstance(g,"loadSampleMap",p),u.prototype=Object.create(T,{format:{value:".mid"},loadFile:{value:function(e,n,a){function r(e){i("midi",e,this.files[a].type,n),this.onstep()}var o={override:"text/plain; charset=x-user-defined",expectType:"string",context:this,fail:function(){s.dispatch("log:assets","Problem parsing midi file",e),this.onstep()}.bind(this)};t.ajax(e,r,o)}}}),e.registerInstance(g,"loadMIDI",u),m.prototype=Object.create(T,{loadFile:{value:function(n,i){function r(t){p>0&&s.dispatch("log:assets","Retry success",i),s.dispatch("log:assets","Recieved",i,"from network."),e.context.decodeAudioData(t,d,c)}function o(){3>++p?(s.dispatch("log:assets","Could not load audio file",i,"trying again."),t.ajax(n,r,l,"buffer")):(s.dispatch("log:assets","Could not load audio file",i),this.onstep())}var l={responseType:"arraybuffer",fail:o.bind(this)},d=function(e){s.dispatch("log:assets","Decoded",i),a.buffer[i]=e,this.onstep()}.bind(this),c=function(e){s.dispatch("log:assets","Could not decode file",i,e),this.onstep()}.bind(this),p=0;t.ajax(n,r,l,"buffer")}},format:{value:_}}),e.registerInstance(g,"loadSound",m),h.prototype=Object.create(n,{init:{value:function(){this.loadCount=0,-1!==this.triggers.indexOf("preload_assets")&&(a.preloads+=this.files.length,this.preload=!0)}},onAction:{value:function(){var n={context:this,responseType:"arraybuffer",fail:function(){s.dispatch("log:assets","Problem loading binary file")}.bind(this)},a=this.headers.reduce(function(t,n){return n.format===e.format?n:t});t.ajax(e.Settings.assetsPath+a.path,f(this,a),n)}},onload:{value:function(){return this.returnEvent&&s.dispatch(this.returnEvent),e.removeInstance(this.type,this.instanceId)}},onstep:{value:function(){return s.dispatch("_internal:asset_loaded",this.preload),++this.loadCount===this.files.length&&this.onload()}}}),e.registerInstance("assetController","loadBin",h),void 0)}),dmaf("audioRouter",["DMAF","Utils","InstanceManager","Instance","AudioNodes"],function(e,t,n,a,i){function s(){this.input=e.context.createGainNode(),this.output=e.context.createGainNode()}var r="audioRouter";s.prototype=Object.create(a,{init:{value:function(n){var a,s=this.input;this.effects=i.createRecursive(this.input,n.audioNodes),this.effects.length>0&&(s=this.effects[this.effects.length-1]),s.connect(this.output),t.each(this.out,function(t,n){a=e.getInstance(r,n),this.output.connect(a?a.input:e.context.destination)},this)}},volume:{get:function(){return this.output.gain},set:function(e){this.output.gain.value=t.dbToWAVolume(e)}},getAutomatableProperties:{value:function(e){return"fx"==e.substring(0,2)?this.effects[parseInt(e.substring(2),10)]:void 0}},setAutomatableProperty:{value:function(t,n,a,i){var s=a>0?"linearRampToValueAtTime":"setValueAtAtTime";switch(t){case"volume":n=parseFloat(n),t="gain";break;case"pan":break;default:return}this.output[t].cancelScheduledValues(e.context.currentTime),this.output[t].setValueAtTime(this.output[t].value,e.context.currentTime),this.output[t][s](n,(i+a)/1e3)}},onAction:{value:function(){}}}),e.registerInstance(r,"audioBus",s)}),dmaf("beatPatternPlayer",["DMAF","TimeManager","InstanceManager","Instance","beatPattern","beatPosition","beatPatternInstance","Assets","events","Utils"],function(e,t,n,a,i,s,r,o,l,d){function c(){this.state=this.STOPPED,this.pendingPatterns=[],this.activePatterns=[],this.tempo=120,this.resetPosition()}function p(){var t,n,a=(new Date).getTime(),i=1e3*e.context.currentTime;return u&&(p.lastDifference=t,u=!1),t=a-i,n=t-p.lastDifference,Math.abs(n)>5?(l.dispatch("log:error","DMAF: Adjusting next beat Time. Difference was "+n+"ms"),p.lastDifference=t,n):0}var u=!0;c.prototype=Object.create(a,{STOPPED:{value:0},RUNNING:{value:1},tempo:{get:function(){return this._tempo},set:function(e){this._tempo=e,this.beatLength=250*(60/e)}},resetPosition:{value:function(){this.songPosition=new s(0,16,16),this.currentPattern=new r(this,{beatPattern:new i("MASTER",1),channel:"MASTER",addAtSongPosition:new s(1,1,16),startPatternAtBeat:1,clearPending:!0,replaceActive:!0,setAsCurrent:!0,loop:!0,loopLength:16,clearPosition:new s(1,1,16)})}},onAction:{value:function(t,n,a,i){if(l.dispatch("log:instance:player:beatPatternPlayer","onAction",t,"actionTime",parseInt(n,10)),i.flowItems)for(var s,r,o,c,p=i.flowItems,u=0,m=p.length;m>u;u++)switch(r=d.clone(p[u]),l.dispatch("log:instance:player:beatPatternPlayer",r.id,parseInt(n,10)),r.id){case"start":this.state===this.STOPPED&&this.start(r,n);break;case"add":if(this.state===this.STOPPED)return l.dispatch("log:error","Cannot add patterns while player is not running!"),void 0;for(o=0,c=r.patternId.length;c>o;o++){if(s=d.clone(r),s.patternId=r.patternId[o],s._dynamicValues)for(var h,f=0;s._dynamicValues.length>f;f++)h=s._dynamicValues[f],s[h.key]=e.getInstanceProperty(h.string);o>0&&(s.replaceActive=!1,s.clearPending=!1,s.setAsCurrent=!1),this.addPattern(s)}break;case"stop":this.state===this.RUNNING&&this.stop();break;case"beatEvent":this.state===this.RUNNING&&this.beatEvent(r,n)}}},addPattern:{value:function(e){e.beatPattern=o.getAsset("beatPattern",e.patternId),e.addAtSongPosition=this.getSongPosition(e.songPosition),e.startPatternAtBeat=this.getStartAtBeat(e.patternPosition),e.clearPosition=this.getSongPosition(e.clearPosition);var t=new r(this,e);if(e.clearPending)if("main"===e.channel)l.dispatch("log:instance:player:beatPatternPlayer","Clearing all pending patterns."),this.pendingPatterns.length=0;else for(var n=this.pendingPatterns.length;n--;)this.pendingPatterns[n].channel===e.channel&&(l.dispatch("log:instance:player:beatPatternPlayer","removing",this.pendingPatterns[n].patternId),this.pendingPatterns.splice(n,1));t.ERROR||(l.dispatch("log:instance:player:beatPatternPlayer","adding",t.patternId,"to pendingPatterns"),this.pendingPatterns.push(t))}},checkBeat:{value:function(){for(var t=1e3*e.context.currentTime,n=!1;t-this.nextBeatTime-e.preListen>this.beatLength;)this.skipBeat(this.nextBeatTime),n=!0;for(n&&(l.dispatch("log:instance:player:beatPatternPlayer","beatPatternPlayer has skipped beats!"),l.dispatch("log:instance:player:beatPatternPlayer","songPosition: "+this.songPosition.getInBeats()),l.dispatch("log:instance:player:beatPatternPlayer","patternPosition: "+this.currentPattern.currentBeat));t>=this.nextBeatTime-e.preListen;)this.updateBeat(this.nextBeatTime)}},skipBeat:{value:function(e){this.currentBeatTime=e,this.songPosition.gotoNextBeat();for(var t=0,n=this.activePatterns.length;n>t;t++)this.activePatterns[t].gotoNextBeat();this.updateActivePatterns(),l.dispatch("log:instance:player:beatPatternPlayer","songPosition: "+this.songPosition.getInBeats(),"currentBeatTime:"+e),l.dispatch("log:instance:player:beatPatternPlayer","patternPosition: "+this.currentPattern.currentBeat,"currentBeatTime:"+e),this.nextBeatTime=e+this.beatLength}},updateBeat:{value:function(e){this.currentBeatTime=e,this.songPosition.gotoNextBeat();for(var t=0,n=this.activePatterns.length;n>t;t++)this.activePatterns[t].gotoNextBeat();for(this.updateActivePatterns(),t=0,n=this.activePatterns.length;n>t;t++)this.activePatterns[t].executeEvents(e,this.beatLength);this.dispatchBeat(),this.nextBeatTime=e+this.beatLength-p()}},dispatchBeat:{value:function(){1===this.songPosition.beat%4&&l.dispatch("metronome",this.currentBeatTime,{bar:this.songPosition.bar,beat:Math.floor(this.songPosition.beat/4)+1})}},updateActivePatterns:{value:function(){for(var e,t,n,a,i,s=0;this.pendingPatterns.length>s;s++)if(n=this.pendingPatterns[s].addAtSongPosition,n.bar===this.songPosition.bar&&n.beat===this.songPosition.beat){if(e=this.pendingPatterns[s],this.pendingPatterns.splice(s--,1),e.replaceActive)for(a=0,i=this.activePatterns.length;i>a;a++)("main"===e.channel||e.channel===this.activePatterns[a].channel)&&(this.activePatterns[a].removeAtSongPosition=e.clearPosition);e.setAsCurrent&&(l.dispatch("log:instance:player:beatPatternPlayer","Setting",e.patternId,"as current pattern."),this.currentPattern=e),l.dispatch("log:instance:player:beatPatternPlayer","adding",e.patternId,"to activePatterns. pattern position",e.currentBeat),this.activePatterns.push(e)}for(s=0;this.activePatterns.length>s;s++){if(t=this.activePatterns[s].removeAtSongPosition,isNaN(t.beat))throw this.stop({songPosition:"ASAP"}),Error("NaN! beat",this);t.bar===this.songPosition.bar&&t.beat===this.songPosition.beat?(l.dispatch("log:instance:player:beatPatternPlayer","removing",this.activePatterns[s].patternId),this.activePatterns.splice(s--,1)):t.bar<this.songPosition.bar&&(l.dispatch("log:instance:player:beatPatternPlayer","removing",this.activePatterns[s].patternId),this.activePatterns.splice(s--,1))}}},start:{value:function(e,n){return this.nextBeatTime=n,isNaN(e.tempo)?(l.dispatch("log:error","Flow item in",this.instanceId,"was missing tempo."),void 0):(this.tempo=e.tempo,isNaN(e.beatsPerBar)?(l.dispatch("log:error","Flow item in",this.instanceId,"was missing beatsPerBar."),void 0):(this.beatsPerBar=e.beatsPerBar,this.state=this.RUNNING,l.dispatch("log:instance:player:beatPatternPlayer","adding addFrameListener","actionTime: "+parseInt(n,10)),t.addFrameListener("checkBeat",this.checkBeat,this),void 0))}},stop:{value:function(){this.state=this.STOPPED,this.pendingPatterns.length=0,this.activePatterns.length=0,t.removeFrameListener("checkBeat"),this.resetPosition(),l.dispatch("log:instance:player:beatPatternPlayer","Player",this.instanceId,"is stopped.")}},beatEvent:{value:function(n){var a=this.getSongPosition(n.songPosition).getInBeats(),i=this.songPosition.getInBeats(),s=(a-i)*this.beatLength;s+=1e3*e.context.currentTime,s=Math.max(1e3*e.context.currentTime,s),t.checkFunctionTime(s,l.dispatch,[],l,n.returnEvent,s,n)}},getSongPosition:{value:function(e){var t,n=e,a=0,i=0,r=new s(this.songPosition.bar,this.songPosition.beat,this.beatsPerBar);switch(/\+/.test(n)&&(t=n.split("+"),n=t[0],t=t[1].split("."),i=parseInt(t[0],10)||0,a=parseInt(t[1],10)||0),n){case"NEXT_BEAT":r.addOffset({bar:0,beat:1});break;case"NEXT_BAR":r.beat=1,r.bar++;break;case"ASAP":return r;default:l.dispatch("log:instance:player:beatPatternPlayer","BeatPatternPlayer getSongPosition: Unrecognized songPosition ",n)}return r.bar+=i,r.beat+=a,r}},getStartAtBeat:{value:function(e){var t,n=e,a=0,i=0,s=this.currentPattern&&this.currentPattern.currentBeat||1;if(!n)return 1;switch(/\+/.test(n)&&(t=n.split("+"),n=t[0],t=t[1].split("."),i=parseInt(t[0],10)||0,a=parseInt(t[1],10)||0),n){case"FIRST_BEAT":s=1;break;case"SYNC":s++;break;case"SONG_POSITION":return this.songPosition.getInBeats();default:l.dispatch("log:instance:player:beatPatternPlayer","BeatPatternPlayer: Unrecognized patternPosition "+n)}return s+=i*(this.currentPattern&&this.currentPattern.beatsPerBar||16),s+=a}}}),e.registerInstance("player","beatPatternPlayer",c)}),dmaf("customCode",["DMAF","InstanceManager","Instance","events"],function(e,t,n,a){function i(){}function s(){}i.prototype=Object.create(n),e.registerInstance("customCode","customCode",i),e.customCode.customCode.createInstance=function(t){if(e.customCode[t.instanceId]){var n=e.customCode[t.instanceId].createInstance(t);return n}a.dispatch("log:error",t.instanceId,"was not registered with DMAF")},s.prototype=Object.create(n,{onAction:{value:function(){var t=e.registeredObjects[this.instanceId];t&&(this.obj=t)}}}),e.registerInstance("customCode","userObject",s)}),dmaf("eventProcessor",["DMAF","events","TimeManager","InstanceManager","Instance"],function(e,t,n,a,i){function s(){}function r(){}var o="eventProcessor";s.prototype=Object.create(i,{init:{value:function(){this.lastEvent="",this.lastExecutedTime=-1*this.reTrig,this.pending=[]}},send:{value:function(e,n,a){"ALWAYS"===this.dispatch||e!==this.lastEvent?(t.dispatch("log:instance:eventProcessor:eventMapper","sending",e,"with actionTime",parseInt(n,10)),t.dispatch(e,n,a),this.lastEvent=e):t.dispatch("log:instance:eventProcessor:eventMapper","dispatch settings have prevented",this.instanceId,"from sending",e)}},onAction:{value:function(a,i,s){var r,o,l,d=parseInt(1e3*e.context.currentTime,10);if(d-this.lastExecutedTime<this.reTrig)return t.dispatch("log:instance:eventProcessor:eventMapper","reTrig settings have prevented execution of",this.instanceId),void 0;this.clearPending&&this.pending.length&&(t.dispatch("log:instance:eventProcessor:eventMapper","Clearing pending events"),n.dropPendingArray(this.pending));for(var c=0,p=this.eventMaps.length;p>c;c++)if(l=this.eventMaps[c],r=i+l.delay,o=l["in"],-1!==o.indexOf(a)){if(l.out===a)return t.dispatch("log:error:eventMapper",l.out,"is the same in event as output. Ignoring..."),void 0;n.checkFunctionTime(r,this.send,this.pending,this,l.out,r,s)}this.lastExecutedTime=d}}}),e.registerInstance(o,"eventMapper",s),r.prototype=Object.create(i,{init:{value:function(){for(var e=0,n=this.eventMaps.length;n>e;e++)this.eventMaps[e]["in"]=parseInt(this.eventMaps[e]["in"],10),isNaN(this.eventMaps[e]["in"])&&t.dispatch("log:error","In value for MidiNoteMapper is NaN!")}},onAction:{value:function(e,n,a){if(a&&a.midiNote)for(var i=0,s=this.eventMaps.length;s>i;i++)this.eventMaps[i]["in"]===a.midiNote&&t.dispatch(this.eventMaps[i].out,n,a)}}}),e.registerInstance(o,"midiNoteMapper",r)}),dmaf("sound_html5",["DMAF","Utils","events","sound","TimeManager","AudioManager"],function(e,t,n,a,i,s){function r(e){return e._.playing}function o(e,t){return function(){t._wait=null,t.proceedPlay(e)}}function l(){}l.prototype=Object.create(a,{init:{value:function(){this.sounds=[],this.pendingPlays=[],this.pendingStops=[],this.pendingEvents=[],this.pendingSoftLoop=[],this.playing=!1,this.previousActionTime=0}},checkFinished:{value:function(){this.sounds=this.sounds.filter(r),this.sounds.length||(this.playing=!1)}},clearAll:{value:function(){this.sounds=this.sounds.filter(function(e){return e.pause(),!1}),this.playing=!1}},dispose:{value:function(e){this.sounds=this.sounds.filter(function(t){return t.timestamp===e?(t.pause(),!1):!0}),this.sounds.length||(this.playing=!1)}},proceedPlay:{value:function(t){"RESYNC"===this.timingCorrection&&this.clearAll(),this._wait&&(n.removeEventListener("_internal:"+this.soundFile+".READY"),this._wait=null);var a=s.requestElement(this.soundFile,this);if(!a._.loaded)return this._wait=o(t,this),n.once("_internal:"+this.soundFile+".READY",this._wait),void 0;var r,l=1e3*e.context.currentTime,d=1e3*a.duration;if("PLAY"===this.timingCorrection)r=0;else{if(l>t+d)return;r=Math.max(0,l-t)}a.currentTime=r/1e3,a.play(),i.dropPendingArray(this.pendingEvents),this.returnEvent&&i.checkFunctionTime(t+d+this.returnEventTime,n.dispatch,this.pendingEvents,n,this.returnEvent,t+d+this.returnEventTime),this.loop>-1&&(i.checkFunctionTime(t+this.loop,this.proceedPlay,this.pendingSoftLoop,this,t+this.loop),i.checkFunctionTime(t+this.loop,this.dispose,[],this,a._.timestamp)),i.checkFunctionTime(t+d,this.dispose,[],this,a._.timestamp),this.playing=!0,this.sounds.push(a)},volume:{get:function(){return this._volume},set:function(e){this._volume=t.dbToJSVolume(e);for(var n=0;this.sounds.length>n;n++)this.sounds[n].volume=e}}}}),e.registerInstance("sound","htmlPlay",l)}),dmaf("mediaElement",["DMAF","events","TimeManager","InstanceManager","Instance"],function(e,t,n,a,i){function s(){}function r(){}var o="mediaElement";s.prototype=Object.create(i,{currentTime:{get:function(){return this.element?this.element.currentTime:void 0}},onAction:{value:function(){if(this.element)return null;var a=this.instanceId,i=e.registeredObjects[a];i?i instanceof HTMLElement&&("VIDEO"===i.tagName||"AUDIO"===i.tagName?(this.element=i,this.playing=!1,this.lastPlayTime=i.currentTime,n.addFrameListener(this.type+":"+this.instanceId,this.poll,this)):t.dispatch("log:instance:mediaElement","DMAF does not support registering HTML elements other than <video> and <audio>")):t.dispatch("log:instance:mediaElement","DMAF Could not locate mediaElement with id",this.instanceId)}},poll:{value:function(){this.lastPlayTime===this.element.currentTime?this.playing&&(t.dispatch("log:instance:mediaElement",this.instanceId+".STOP",1e3*e.context.currentTime),t.dispatch(this.instanceId+".STOP",1e3*e.context.currentTime),this.playing=!1):this.lastPlayTime-this.element.currentTime>.25?(t.dispatch("log:instance:mediaElement",this.instanceId+".START",1e3*(e.context.currentTime-this.currentTime)),t.dispatch(this.instanceId+".START",1e3*(e.context.currentTime-this.currentTime))):this.element.currentTime-this.lastPlayTime>.25?(t.dispatch("log:instance:mediaElement",this.instanceId+".START",1e3*(e.context.currentTime-this.currentTime)),t.dispatch(this.instanceId+".START",1e3*(e.context.currentTime-this.currentTime))):this.playing||(t.dispatch("log:instance:mediaElement",this.instanceId+".START",1e3*(e.context.currentTime-this.currentTime)),t.dispatch(this.instanceId+".START",1e3*(e.context.currentTime-this.currentTime)),this.playing=!0),this.lastPlayTime=this.element.currentTime}}}),e.registerInstance(o,"mediaElement",s),e.mediaElement.mediaElement.removeInstance=function(t){var a=e.getInstance("mediaElement:"+t);return a&&n.removeFrameListener(o+":"+t),delete this.activeInstances[t]},r.prototype=Object.create(i,{onAction:{value:function(e,t){var n,a=/CREATE|REMOVE/.exec(e);a.length&&(a=a[0].toLowerCase(),n=e.split(".")[0],this[a](t,n))}},create:{value:function(t,a){var i=e.mediaElement.mediaElement.createInstance({instanceId:a,type:o,id:"mediaElement"});n.checkFunctionTime(t,i.onAction,[],i)}},remove:{value:function(t,n){return e.mediaElement.mediaElement.removeInstance(n)}}}),e.registerInstance("control","mediaController",r,!0)}),dmaf("midiProcessor",["DMAF","events","Utils","InstanceManager","Instance","TimeManager"],function(e,t,n,a,i,s){function r(){}function o(){}var l="midiProcessor",d={off:null,major:[0,-1,0,-1,0,0,-1,0,-1,0,-1,0],harmonicMinor:[0,1,0,0,-1,0,1,0,0,-1,1,0],naturalMinor:[0,-1,0,0,-1,0,-1,0,0,-1,0,-1],majorPentatonic:[0,1,0,1,0,-1,1,0,1,0,-1,1],minorPentatonic:[0,-1,1,0,-1,0,1,0,-1,1,0,-1],dorian:[0,1,0,0,-1,0,1,0,1,0,0,-1],phrygian:[0,0,-1,0,-1,0,1,0,0,-1,0,-1],lydian:[0,1,0,1,0,1,0,0,1,0,1,0],mixolydian:[0,1,0,1,0,0,-1,0,-1,0,-1],locrian:[0,0,-1,0,-1,0,0,-1,0,-1,0,-1],doubleHarmonic:[0,0,-1,1,0,0,1,0,0,-1,1,0],halfDim:[0,1,0,0,-1,0,0,-1,0,-1,0,-1],pentatonic:[0,-1,-2,0,-1,0,-1,0,-1,-2,0,-1]},c={C:0,"C#":1,D:2,"D#":3,E:4,F:5,"F#":6,G:7,"G#":8,A:9,"A#":10,B:11};r.prototype=Object.create(i,{onChange:{get:function(){return this._onChange},set:function(e){return this._changeMemory=this._changeMemory||{},this._onChange=e,this._onChange}},scale:{get:function(){return this._scale},set:function(e){return this._scale="custom"===e?this.customScale.split(",").map(parseFloat):d[e],this._scale}},root:{get:function(){return this._root},set:function(e){this._root=c[e]}},onAction:{value:function(e,n,a){if(!a)return t.dispatch("log:error","no eventProperties for",e),void 0;if(void 0===a.midiNote)return t.dispatch("log:error","no midiNote for",e),void 0;if(this.onChange){if(this._changeMemory[e]===a.midiNote)return t.stop(),void 0;this._changeMemory[e]=a.midiNote}0!==this.dynamic&&(isNaN(a.velocity)||(a.velocity=this.dynamic+parseInt(a.velocity,10))),this.transpose&&(this.transpose=parseInt(this.transpose,10),a.midiNote+=this.transpose),null!==this.scale&&this.quantizeToScale(a)}},quantizeToScale:{value:function(e){var t;return e.midiNote&&(t=e.midiNote%12,t-=this._root,0>t&&(t=12+t),e.midiNote+=this.scale[t]),e}}}),e.registerInstance(l,"midiProcessor",r),o.prototype=Object.create(i,{init:{value:function(){this.lastActionTime=this.reTrig;for(var e=0,t=this.noteMaps.length;t>e;e++)this.noteMaps[e].midiNote=n.toMIDINote(this.noteMaps[e].note)}},onAction:{value:function(e,n){var a,i,r;if(!(n-this.lastActionTime<this.reTrig)){for(var o=0,l=this.noteMaps.length;l>o;o++)for(var d=0,c=this.noteMaps[o].triggerIn.length;c>d;d++)r=this.noteMaps[o].triggerIn[d],r===e&&(a={type:"noteOn",midiNote:this.noteMaps[o].midiNote,velocity:this.noteMaps[o].velocity,duration:this.noteMaps[o].duration},i=n+this.noteMaps[o].delay,s.checkFunctionTime(i,t.dispatch,[],t,this.noteMaps[o].triggerOut,i,a));this.lastActionTime=n}}}}),e.registerInstance(l,"makeNote",o)}),dmaf("parameterProcessor",["DMAF","TimeManager","InstanceManager","Instance","events"],function(e,t,n,a,i){function s(){this.timeoutContainer=[],this.instanceId="transform_"+l++}function r(){}var o="parameterProcessor",l=0;s.prototype=Object.create(a,{onAction:{value:function(e,t){var n="multi"===this.targets[0]?[e.replace(this.multiSuffix,"")]:this.targets.slice(0);this.execute(t,n)}},execute:{value:function(t,n){for(var a,s=0;n.length>s;s++)a=e.getInstance(this.targetType,n[s]),a&&(i.dispatch("log:instance:parameterProcessor:transform","Transforming",this.targetParameter,"of",a.instanceId),a.setProperty(this.targetParameter,this.value,this.duration,t))}}}),e.registerInstance(o,"transform",s),r.prototype=Object.create(a,{onAction:{value:function(t,n,a){var i,s,r;if(a&&void 0!==a.value)for(var o=0,l=this.macroTargets.length;l>o;o++)if(i=this.macroTargets[o],r=e.getInstance(i.targetInstance)){switch(s=a.value,i.curve){case"EXP":s=Math.pow(s,2);break;case"LOG":s=Math.log(0!==s?s:s+1e-16)}s=i.min+(i.max-i.min)*s,r.setProperty(i.targetParameter,s,a.duration||0,n)}}}}),e.registerInstance(o,"macro",r)}),dmaf("sound",["DMAF","Utils","TimeManager","events","InstanceManager","Instance","Iterator","Assets"],function(e,t,n,a,i,s,r,o){function l(){this.output=e.context.createGainNode()}function d(t){this.iterator=new r(t.soundFiles,t.generator),this.output=e.context.createGainNode()}function c(){}function p(t,n){e.context.currentTime>n&&(n=e.context.currentTime+this.delay);var a=t.replace(this.multiSuffix,""),i=e.getInstance("sound",a);i&&i.stop(n,this.fadeOut/1e3)}function u(t,n){var a;1e3*e.context.currentTime>n&&(n=1e3*e.context.currentTime+this.delay);for(var i=0,s=this.targets.length;s>i;i++)a=e.getInstance("sound",this.targets[i]),a&&a.stop(n,this.fadeOut/1e3)}var m="sound",h=0,f=t.propIsnt("playbackState",3),_=Object.create(s,{init:{value:function(t){if(this.pendingPlays=[],this.pendingStops=[],this.pendingEvents=[],this.pendingSoftLoop=[],this.sounds=[],this.playing=!1,this.previousActionTime=0,t.bus&&"master"!==t.bus){var n=e.getInstance("audioRouter",t.bus);this.targetBus=n?n.input:e.context.destination}else this.targetBus=e.context.destination;this.output.connect(this.targetBus)}},checkFinished:{value:function(){this.sounds=this.sounds.filter(f)}},clearAll:{value:function(t){for(var n=this.sounds,a=n.length;a--;)this.sounds[a].gain.cancelScheduledValues(e.context.currentTime),this.sounds[a].gain.setValueAtTime(this.sounds[a].gain.value,e.context.currentTime),this.sounds[a].gain.linearRampToValueAtTime(0,e.context.currentTime+(t||0)),this.sounds[a].noteOff(e.context.currentTime+(t||0)+.001);this.sounds.length=0,this.playing=!1}},createSound:{value:function(){var t=e.context.createBufferSource(),n=o.getAsset("buffer",this.getSoundFile());return n?(t.id=h++,t.buffer=n,t.connect(this.output),-2===this.loop&&(t.loop=!0),t):(a.dispatch("log:error:sound:genericPlay","Buffer is missing. Check soundFile property."),null)}},dispose:{value:function(e){for(var t=this.sounds.length;t--;)this.sounds[t].id===e&&this.sounds.splice(t,1);this.playing=!!this.sounds.length}},play:{value:function(e){this.checkFinished(),n.dropPendingArray(this.pendingStops),this.playing?(this.reTrig>-1&&(n.dropPendingArray(this.pendingPlays),n.dropPendingArray(this.pendingEvents)),0===this.reTrig||"RESYNC"===this.timingCorrection?(a.dispatch("log:instance:sound","scheduling",this.instanceId,"for",e),n.checkFunctionTime(e,this.proceedPlay,this.pendingPlays,this,e)):this.reTrig>0&&e-this.previousActionTime>this.reTrig&&(this.previousActionTime=e,a.dispatch("log:instance:sound","scheduling",this.instanceId,"for",e),n.checkFunctionTime(e,this.proceedPlay,this.pendingPlays,this,e))):(this.previousActionTime=e,a.dispatch("log:instance:sound","scheduling",this.instanceId,"for",e),n.checkFunctionTime(e,this.proceedPlay,this.pendingPlays,this,e))
}},proceedPlay:{value:function(t){a.dispatch("log:instance:sound","playing",this.instanceId,"at",Math.floor(1e3*e.context.currentTime));var i=this.createSound();if(i){var s,r=1e3*e.context.currentTime,o=1e3*i.buffer.duration;switch(this.timingCorrection){case"PLAY":r>t?i.noteOn(r/1e3):i.noteOn(t/1e3);break;case"RESYNC":if(this.clearAll(),r>t+o)return;r>t?(s=r-t,i.noteGrainOn(r/1e3,s/1e3,(o-s)/1e3)):i.noteOn(t/1e3);break;case"SYNC":if(r>t+o)return;r>t?(s=r-t,i.noteGrainOn(r/1e3,s/1e3,(o-s)/1e3)):i.noteOn(t/1e3)}this.fadeIn>0?r>t&&(i.gain.setValueAtTime(0,r/1e3),i.gain.linearRampToValueAtTime(1,r/1e3+this.fadeIn/1e3)):(i.gain.setValueAtTime(0,t/1e3),i.gain.linearRampToValueAtTime(1,t/1e3+this.fadeIn/1e3)),n.dropPendingArray(this.pendingEvents),this.returnEvent&&n.checkFunctionTime(t+o+this.returnEventTime,a.dispatch,this.pendingEvents,a,this.returnEvent,t+o+this.returnEventTime),this.loop>-1&&(n.checkFunctionTime(t+this.loop,this.proceedPlay,this.pendingSoftLoop,this,t+this.loop),n.checkFunctionTime(t+this.loop,this.dispose,[],this,i.id),i.noteOff(t/1e3+i.buffer.duration)),-2===this.loop||n.checkFunctionTime(t+o,this.dispose,[],this,i.id),this.playing=!0,this.sounds.push(i)}}},stop:{value:function(t,i){a.dispatch("log:instance:sound","scheduling stop",this.instanceId,"at",Math.floor(1e3*e.context.currentTime)),n.dropPendingArray(this.pendingPlays),n.dropPendingArray(this.pendingStops),n.checkFunctionTime(t,this.proceedStop,this.pendingStops,this,i)}},proceedStop:{value:function(t){a.dispatch("log:instance:sound","Stopping",this.instanceId,"at",Math.floor(1e3*e.context.currentTime)),n.dropPendingArray(this.pendingEvents),n.dropPendingArray(this.pendingSoftLoop),this.clearAll(t),e.sound[this.id].removeInstance(this.instanceId)}},volume:{get:function(){return this.output.gain},set:function(e){this._volume=e,this.waVolume=t.dbToWAVolume(this._volume),this.output&&(this.output.gain.value=this.waVolume)}},onAction:{value:function(e,t){"multi"===this.soundFile&&(this.soundFile=e.replace(this.multiSuffix,"")),this.play(t)}}});return l.prototype=Object.create(_,{getSoundFile:{value:function(){return this.soundFile}}}),e.registerInstance(m,"genericPlay",l),d.prototype=Object.create(_,{getSoundFile:{value:function(){return this.iterator.getNext()}}}),e.registerInstance(m,"stepPlay",d),c.prototype=Object.create(s,{init:{value:function(){this.onAction="multi"===this.targets[0]?p:u}}}),e.registerInstance(m,"soundStop",c,!0),_}),dmaf("stateProcessor",["DMAF","InstanceManager","Instance","events"],function(e,t,n,a){function i(){this.value=void 0,this.previous=void 0}var s="stateProcessor",r="in";i.prototype=Object.create(n,{onAction:{value:function(t){var n,i,s,o,l;for(i=0,s=this.stateMaps.length;s>i;i++)for(o=0,l=this.stateMaps[i][r].length;l>o;o++)this.stateMaps[i][r][o]===t&&(n=this.stateMaps[i].state,this.stateMaps[i]._dynamicValues&&(n=e.getInstanceProperty(this.stateMaps[i]._dynamicValues[0].string)),i=s,o=l);if(!n)return a.dispatch("log:instance:stateProcessor","No state found for",t),!1;switch(this.update){case"always":this.previous=this.value,this.value=n;break;case"onChange":n!==this.value&&(this.previous=this.value,this.value=n)}}}}),e.registerInstance(s,"state",i)}),dmaf("synth",["DMAF","Utils","InstanceManager","TimeManager","Instance","Assets","AudioNodes","events"],function(e,t,n,a,i,s,r,o){function l(t){this.input=e.context.createGainNode(),this.output=e.context.createGainNode(),this.Note=u.call(this,t)}function d(t,n,a){if(t)this.input.connect(this.output),this.output.connect(t);else{var i=this.input;if(this.effects=r.createRecursive(i,n),this.effects.length>0&&(i=this.effects[this.effects.length-1]),i.connect(this.output),a&&"master"!==a){var s=e.getInstance("audioRouter",a);s?this.output.connect(s.input):this.output.connect(e.context.destination)}else this.output.connect(e.context.destination)}}function c(){for(var t,n,a=e.context.currentTime,i=this.samples.active,s=this.samples.sustained,r=Object.keys(i),o=r.length;o--;)for(n=r[o],t=i[n].length;t--;)a>i[n][t].disposeTime&&i[n].splice(t,1);for(o=s.length;o--;)a>s[o].disposeTime&&s.splice(o,1)}function p(t,n,a){var i=this._loop&&this._sustain,s=this._loop?1/0:1e3*t.bufferLength-t.ampRelease,r=this.ignoreNoteOff?s:a?a:s,o=n+(i?1/0:r);isFinite(o)&&t._noteOff(o),this.sustained||!a?(this.samples.sustained.push(t),this.samples.sustained.length>this.numberOfVoices&&this.samples.sustained[0]._noteOff(1e3*e.context.currentTime)):this.samples.active[t.midiNote].push(t)}function u(){function t(t){this.bufferSource=e.context.createBufferSource(),this.amp=e.context.createGainNode(),this.filter=this.filterOn&&e.context.createBiquadFilter(),this.bufferSource.connect(this.filter||this.amp),this.filter&&this.filter.connect(this.amp),this.amp.connect(this.output),this.parent=t.parent,this.midiNote=t.midiNote,this.bufferSource.gain.value=void 0!==t.sampleGain?_(parseInt(t.sampleGain,10)):1,this.bufferSource.playbackRate.value=h(this.midiNote)/h(f(t.baseNote)),this.bufferSource.buffer=s.getAsset("buffer",t.buffer),this.bufferLength=this.bufferSource.buffer.length/e.context.sampleRate,this.velocity=Math.pow(t.velocity/127,1.2),this.bufferSource.loop=this.parent.loop,this.filterOn&&(this.filter.Q.value=this.filterQ,this.filter.gain=this.filterGain)}return t.prototype=Object.create(this),t.prototype.output=this.input,t.prototype._noteOn=g.noteOn,t.prototype._noteOff=g.noteOff,t}var m="synth",h=t.MIDIToFrequency,f=t.toMIDINote,_=t.dbToWAVolume;l.prototype=Object.create(i,{init:{value:function(e){d.apply(this,[e.output,e.audioNodes,e.bus]),this._sustain=!1,this.samples={meta:Object.create(null),maps:Object.create(null),used:Object.create(null),active:Object.create(null),sustained:[]};for(var t,n=0,i=e.sampleMapGroups[0].sampleMaps.length;i>n;n++)t=e.sampleMapGroups[0].sampleMaps[n].name,t="multi"===t?this.instanceId:t,this.samples.meta[t]=e.sampleMapGroups[0].sampleMaps[n];for(var r in this.samples.meta)this.samples.maps[r]=s.getAsset("sampleMap",r),this.samples.used[r]=Object.create(null);a.addFrameListener(this.instanceId,c,this)}},numberOfVoices:{value:16},volume:{get:function(){return this.output.gain},set:function(e){this.output.gain.value=t.dbToWAVolume(e)}},sustain:{get:function(){return this._sustain},set:function(t){if(t)this._sustain=!0;else{this._sustain=!1;for(var n=0,a=this.samples.sustained.length;a>n;n++)this.samples.sustained[n]._noteOff(1e3*e.context.currentTime)}}},filterSustain:{get:function(){return this._filterSustain},set:function(e){this._filterSustain=Math.pow(e,4)}},controller:{value:function(e,t){switch(t.controllerType){case 64:this.sustain=!!t.value;break;case 123:t.value&&this.stopAll();break;default:o.dispatch("log:instance:synth","Unrecognized controller number for",this.instanceId,":",t.controllerType)}}},onAction:{value:function(e,t,n){n&&(this[n.type]?this[n.type](t,n):o.dispatch("log:instance:synth","Sampler does not recognize message ",n))}},getRange:{value:function(e,t){var n,a,i,s,r=this.samples.meta,o=this.samples.maps,l=this.samples.used,d=0,c=[];for(a in r)if(t>=r[a].velocityLow&&r[a].velocityHigh>=t){n=o[a];for(i in n)s=n[i],e>=f(s.low)&&f(s.hi)>=e&&c.push(s)}return 1!==c.length&&(void 0!==l[a][e]&&(d=(l[a][e]+1)%c.length),l[a][e]=d),c[d]}},noteOn:{value:function(e,t){var n,a=this.samples.active,i=t.midiNote,r=t.velocity,l=t.duration||t.endTime,d=this.getRange(i,r);return d&&d.sound?s.getAsset("buffer",d.sound)?(n=new this.Note({parent:this,sampleGain:d.vol,baseNote:d.root,buffer:d.sound,midiNote:i,velocity:r}),a[i]?a[i].length&&!this.ignoreNoteOff&&this.noteOff(e,t):a[i]=[],this.loop&&this.ignoreNoteOff&&(o.dispatch("log:instance:synth","Sampler Configuration Error: You cannot use looped samples with ignoreNoteOff."),t.duration?this.ignoreNoteOff=!1:this.loop=!1),n._noteOn(e),p.apply(this,[n,e,l]),void 0):(o.dispatch("log:instance:synth","Missing Buffer!"),void 0):(o.dispatch("log:instance:synth","missing range for",this.instanceId,"midiNote",i),void 0)}},noteOff:{value:function(t,n){var a,i,s=this.samples.active,r=this.samples.sustained,o=n.midiNote;if(o&&!this.ignoreNoteOff){if(s[o])for(a=0,i=s[o].length;i>a;a++)s[o][a]._noteOff(t||1e3*e.context.currentTime);if(!this.sustain)for(a=0,i=r.length;i>a;a++)r[a].midiNote===o&&r[a]._noteOff(t||1e3*e.context.currentTime)}}},stopAll:{value:function(){var t,n=this.samples.active,a=this.samples.sustained;for(var i in n){for(t=n[i].length;t--;)n[i][t]._noteOff(1e3*e.context.currentTime);for(t=a.length;t--;)a[t]._noteOff(1e3*e.context.currentTime)}}}});var g={noteOn:function(e){var t=e+this.ampAttack,n=t+this.ampDecay,a=1-this.ampVelocityRatio+this.velocity*this.ampVelocityRatio,i=Math.pow(this.ampSustain*a,2);if(this.noteOnTime=e,this.ampPeakValue=a,this.ampSustainValue=i,this.amp.gain.setValueAtTime(0,e/1e3),this.amp.gain.linearRampToValueAtTime(a,t/1e3),this.amp.gain.linearRampToValueAtTime(i,n/1e3),this.filterOn){var s=e+this.filterAttack,r=s+this.filterDecay,o=1-this.filterVelocityRatio+this.velocity*this.filterVelocityRatio,l=this.filterADSRAmount*o,d=this.filterFrequency+l,c=this.filterFrequency+this.filterSustain*l;d=h(12*d+this.midiNote),c=h(12*c+this.midiNote),d=20>d?20:d>2e4?2e4:d,c=20>c?20:c>2e4?2e4:c,this.filterFrequency=h(12*this.filterFrequency+this.midiNote),this.filter.frequency.setValueAtTime(this.filterFrequency,e/1e3),this.filter.frequency.linearRampToValueAtTime(d,s/1e3),this.filter.frequency.linearRampToValueAtTime(c,r/1e3)}this.bufferSource.noteOn(this.noteOnTime/1e3)},noteOff:function(e){var t,n;t=e+this.ampRelease,n=e+this.filterRelease,this.amp.gain.cancelScheduledValues(e/1e3),this.amp.gain.setValueAtTime(this.ampSustainValue,e/1e3),this.amp.gain.linearRampToValueAtTime(0,t/1e3),this.filter&&(this.filter.frequency.cancelScheduledValues(e/1e3),this.filter.frequency.setValueAtTime(this.filter.frequency.value,e/1e3),this.filter.frequency.linearRampToValueAtTime(this.filterFrequency,n/1e3)),this.bufferSource.noteOff(t/1e3),this.disposeTime=t/1e3,this.noteOffSent=!0}};e.registerInstance(m,"sampler",l)}),dmaf("timePatternPlayer",["DMAF","TimeManager","InstanceManager","Instance","Assets","Utils","events"],function(e,t,n,a,i,s,r){function o(){this.activePatterns=[],this.running=!1}o.prototype=Object.create(a,{init:{value:function(){}},onAction:{value:function(e,n){var a=e.split("."),i=a[1].toLowerCase(),s=a[0];r.dispatch("instance:player:timePatternPlayer",e),this[i]&&this[i](s,n),this.running||(this.running=!0,t.addFrameListener(this.instanceId,this.checkPatterns,this))}},start:{value:function(e,t){var n=i.getAsset("timePattern",e);n?(-1===this.activePatterns.indexOf(n)?this.activePatterns.push(n):r.dispatch("log:instance:player:timePatternPlayer","Time Pattern",e,"is already active!"),n.startTime=t):r.dispatch("log:error","No time pattern with id ",e,"exists.")}},stop:{value:function(e){var t,n=i.getAsset("timePattern",e);n?("DEFAULT"===this.behavior&&n.reset(),t=this.activePatterns.indexOf(n),-1!==t&&this.activePatterns.splice(t,1)):r.dispatch("log:instance:player:timePatternPlayer","No time pattern with id ",e,"exists.")}},checkPatterns:{value:function(){if(!this.activePatterns.length)return this.running=!1,t.removeFrameListener(this.instanceId);for(var e=0;this.activePatterns.length>e;e++)this.activePatterns[e].executeEvents(this.behavior)&&this.activePatterns.splice(e--,1)[0].reset()}}}),e.registerInstance("player","timePatternPlayer",o)}),dmaf("log",["DMAF","events"],function(e,t){function n(){if(dmaf.log){var t=[].slice.call(arguments);t[0]&&(t[0]="DMAF:"+t[0]),t.unshift(Math.floor(1e3*e.context.currentTime)),console.log.apply(console,t)}}return function(e){e=e||[];for(var a=0;e.length>a;a++)t.add("log:"+e[a],n);t.add("log:error",n)}}),dmaf("Assets",["DMAF","events"],function(e,t){function n(e){t.dispatch("_external:progress"),e&&a.preloads--,0===a.preloads&&(t.remove("_internal:asset_loaded",n),t.dispatch("log:assets","Assets have completed loading."),t.dispatch("_internal:preloads_complete")),a.loaded++}var a=e.Assets={loaded:0,preloads:0,beatPattern:{},timePattern:{},sampleMap:{},buffer:{},getAsset:function(e,n){return this[e]&&this[e][n]?this[e][n]:(t.dispatch("log:error","DMAF couldn't find asset",e,n),null)},setAsset:function(e,t,n){this[e][t]=n}};return t.add("_internal:asset_loaded",n),a}),dmaf("AudioManager",["DMAF","events"],function(e,t){function n(e){t.dispatch("log:error:audioElement",e)}function a(){this._.playing&&(this._.playing=!1,this._.controller.checkFinished(),c.splice(c.indexOf(this),1),l(this,!1))}function i(){this._.timestamp=(new Date).getTime(),this._.playing=!0}function s(){this._.loaded=!0,t.dispatch("_internal:"+this.id+".READY",this)}function r(t,n){return t.id=n,t._.loaded=!1,t.src=m+n+e.format,t.load(),t}function o(e,t){return e._.controller=t,c.push(e),e}function l(e,t){if(t&&e.pause(),-1!==c.indexOf(this))throw Error("inactive sound trying to be made inactive");return e._.controller=null,p.push(e),e}function d(e,t,n){for(var a=0,i=t.length;i>a;a++)if(t[a]&&t[a].id)return n?t.splice(a,1)[0]:t[a];return null}var c=[],p=[],u=32,m=e.Settings.assetsPath+"audio/";return{init:function(){var e,t;for(t=0;u>t;t++)e=new Audio,e._={controller:null,loaded:!1,playing:!1},e.addEventListener("canplaythrough",s,!1),e.addEventListener("error",n,!1),e.addEventListener("ended",a,!1),e.addEventListener("pause",a,!1),e.addEventListener("play",i,!1),p[t]=e},preloadElement:function(e){var n;p.length?(n=d(e,p,!1),n?(t.dispatch("log:audioManager:preloadElement","Element was already loaded"),setTimeout(function(){t.dispatch("_internal:"+e+".READY",n)},1)):(n=p.shift(),p.push(n),r(n,e))):t.dispatch("log:error:audioElement","Preload failed for "+e+". There were no inactive elements.")},requestElement:function(e,n){var a=d(e,c,!1);return a&&!a._.playing?(a._.controller||console.error("WTF"),a):(p.length?(a=d(e,p,!0),a||(a=p.shift(),r(a,e))):(a=d(e,c,!0),a?l(a,!0):(a=c.shift(),l(a,!0),r(a,e)),t.dispatch("log:audioManager","mov")),o(a,n))}}}),dmaf("InstanceManager",[],function(){function e(e){this.activeInstances={},this.constructor=e}return e.prototype.getInstance=function(e){return this.activeInstances[e]},e.prototype.removeInstance=function(e){return delete this.activeInstances[e]},e.prototype.addInstance=function(e){this.activeInstances[e.instanceId]=e},e.prototype.createInstance=function(e){var t=new this.constructor(e);return t.setInitProperties(e),this.addInstance(t),t},e}),dmaf("TimeManager",["DMAF","events"],function(e,t){function n(){if(!o.length)return l=!1,void 0;for(i=1e3*d.currentTime,s=0;o.length>s;s++)o[s].callback.call(o[s].context,i);e.lastTime=e.currentTime,e.currentTime=e.context.currentTime,e.lastTime===e.currentTime,setTimeout(n,30)}function a(e){for(var t=o.length;t--;)if(o[t].id===e)return!0;return!1}var i,s,r=Array.prototype.slice,o=[],l=!1,d=e.context;return e.preListen=30,e.lastTime=0,e.currentTime=-1,{checkFunctionTime:function(t,n,a,i){var s,o,l,d=r.call(arguments,4);i=i||e,t>=1e3*e.context.currentTime+e.preListen?(s=function s(){a.splice(a.indexOf(o),1),n.apply(i,d)},l=t-1e3*e.context.currentTime-e.preListen,o=setTimeout(s,l),a.push(o)):n.apply(i,d)},dropPendingArray:function(e){for(;e.length;)clearTimeout(e.pop())},addFrameListener:function(i,s,r){return a(i)?(t.dispatch("log:manager:timeManager","That frame listener is already running!",i),void 0):(o.push({callback:s,context:r||e,id:i}),l||(l=!0,setTimeout(n,0)),void 0)},removeFrameListener:function(e){for(var t=o.length;t--;)if(o[t].id===e)return o.splice(t,1),!0;return!1}}}),dmaf("parseActions",["DMAF","Utils"],function(e,t){function n(e){var n=[];return t.each(e,function(e,t){"array"===t.type&&n.push(t)}),n}function a(e,n){return t.each(n,function(a){t.isType("undefined",e[a])&&(e[a]=p(n[a]))}),e}function i(e){var n;return t.each(d.action,function(a,i){return t.each(i,function(t,a){return t===e?n=a:void 0}),n}),n||console.error("Could not find action with Id of",e)}function s(e){return Object.keys(d.type[e]).filter(function(e){return"type"!==e})}function r(e,i,s){var r=t.tag(e,"properties"),d=n(i),p={};return t.each(r,function(e,t){t.localName&&o(p,t,i)}),t.each(d,function(n,a){if(c(e)){var i=t.tag(e,a.name)[0]||[];p[a.name]=i?l(i,a.valueType):[]}else p[a.name]=[]}),a(p,i,s)}function o(e,n,a){for(var i=n.attributes,s=0,r=i.length;r>s;s++)if(void 0===a[i[s].localName]&&"triggers"!==i[s].localName&&"delay"!==i[s].localName)return console.error("Invalid attribute",i[s].localName,"check spelling in descriptors");t.each(a,function(a,i){var s;n.hasAttribute(a)&&(s=t.attr(n,a),!/\:/.test(s)||/target/.test(a)||/_external/.test(s)?(s=t.fromString(i.type,s,i),e[a]=t.verify(i,s)):(e._dynamicValues=e._dynamicValues||[],e._dynamicValues.push({key:a,string:s}),e[a]=p(i)))})}function l(e,a){if(c(e)){var i=s(a),r=[],p=[],u=d.type[a];return t.each(e.childNodes,function(t,n){n&&c(n)&&(n.parentElement===e||n.parentNode===e)&&n.localName&&-1!==i.indexOf(n.localName)&&r.push(n)}),t.each(r,function(a,i){if(i.localName&&u[i.localName]){var s={id:i.localName},r=n(u[s.id]);o(s,i,u[s.id]),t.each(r,function(n,a){var i=t.tag(e,a.name)[0];s[a.name]=i&&c(i)?l(i,a.valueType):[]}),p.push(s)}}),p}return[]}var d,c=t.prop("getElementsByTagName"),p=t.prop("default");return function(n){var a=t.tag(n,"actions")&&t.tag(n,"actions")[0].childNodes,s=[],o=[];if(!a)throw Error("Missing action tag in config!");if(!a.length)throw Error("Found zero actions! Cannot continue");return d=e.Settings.descriptors,t.each(a,function(e,t){t&&t.localName&&c(t)&&(-1!==d.validActions.indexOf(t.localName)?s.push(t):console.error("Unrecognized action!",t.localName,"check spelling."))}),t.each(s,function(e,n){if(n.localName&&c(n)){var a=n.localName,s=i(a),l=r(n,s,n.localName),d=s.type,p=t.attr(n,"triggers"),u=t.attr(n,"delay")||0,m=t.attr(n,"instanceId")||l.instanceId||"",h={};if(!p)return console.error("Action",d,a,l.instanceId,"has no triggers!"),!0;p=t.removeWhiteSpace(p).split(","),t.extend(l,h),h.id=a,h.type=d,h.triggers=p,h.delay=parseInt(h.delay||u,10),h.instanceId=m||"",h.multi="multi"===m,o.push(h)}}),o}}),dmaf("parseDescriptors",["Utils","DMAF"],function(e,t){function n(t){for(var n,a=t.attributes,i={},s=0,r=a.length;r>s;s++)n=a[s].nodeName,e.propertyModel[n]&&(i[n]=e.fromString(e.propertyModel[n],a[s].value,t));return i}var a="getElementsByTagName",i="getAttribute";return function(s){var r,o,l,d,c,p=s[a]("descriptor"),u={validActions:[],validTypes:[]};return e.each(p,function(t,s){s[i]&&(c=s[i]("id"),d=s[i]("type"),l=s[i]("class"),u[l]=u[l]||{},u[l][d]=u[l][d]||{},u[l][d][c]=o=u[l][d][c]||{},u[l][d][c].type=d,u[l][d][c].id=c,u[l][d].type=d,"action"===l&&u.validActions.push(c),"type"===l&&u.validTypes.push(c),r=s[a]("property"),e.each(r,function(e,t){t[i]&&(o[t[i]("name")]=n(t))}))}),t.Settings||(t.Settings={}),t.Settings.descriptors=u,u}}),dmaf("parseMidi",["Assets","timePattern","beatPattern","events"],function(e,t,n,a){function i(e,t,n){this.absoluteTime=t+e.readVariableLengthInt();var a=e.read8BitInt();240==(240&a)?this.getMetaEvent(e,a):this.getChannelEvent(e,a,n)}function s(e){this.pointer=0,this.midiString=e}function r(e){s.call(this,e.split("").map(c).join("")),this.tracks=[],this.chunk={},this.lastEventType=0,this.getNextChunk("MThd").readHeader().getTracks()}function o(n,a){var i,s,r,o,l,c,p,u,m,h,f;for(c=0,p=n.trackCount;p>c;c++){for(o=n.tracks[c],i=o[0].text||a+c+"",trigger=o[1].text||a+c+"",r=[],u=0,m=o.length;m>u;u++)if("setTempo"===o[u].subtype){f=6e7/o[u].microsecondsPerBeat;break}for(u=0,m=o.length;m>u;u++)if("noteOn"===o[u].subtype){for(l=o[u],l.type=l.subtype,l.trigger=trigger,h=u;m>h&&!d(o[h],l);h++);l.absoluteTime=6e4*l.absoluteTime/(n.ticksPerBeat*f)+1,l.duration=6e4*l.duration/(n.ticksPerBeat*f),r.push(l)}s=new t(i,r),e.setAsset("timePattern",i,s)}}function l(t,a){var i,s,r,o,l,c,p,u,m,h,f,_;for(c=1,p=t.trackCount;p>c;c++){for(o=t.tracks[c],i=o[0].text||a+c+"",s=o[1].text||a+c+"",r=new n(i,1),u=2,m=o.length;m>u;u++)if("noteOn"===o[u].subtype||"controller"===o[u].subtype){for(l=o[u],l.type=l.subtype,h=Math.floor(l.absoluteTime/t.beatLengthInTicks),f=Math.floor(l.absoluteTime-h*t.beatLengthInTicks),_=u;m>_&&!d(o[_],l);_++);r.addEvent(s,h+1,f+1,l)}else"controller"===o[u].subtype&&(l=o[u],l.type=l.subtype,h=Math.floor(l.absoluteTime/t.beatLengthInTicks),f=Math.floor(l.absoluteTime-h*t.beatLengthInTicks),r.addEvent(s,h+1,f+1,l));e.setAsset("beatPattern",i,r)}}function d(e,t){var n=("noteOn"===e.subtype||"noteOff"===e.subtype)&&e.subtype;return n&&e.midiNote===t.midiNote?"noteOn"===n&&!e.velocity||"noteOff"===n?(t.duration=e.absoluteTime-t.absoluteTime,t.duration):void 0:!1}function c(e){return String.fromCharCode(255&e.charCodeAt(0))}return i.prototype={getMetaEvent:function(e,t){var n,i;if(255==t){switch(this.type="meta",i=e.read8BitInt(),n=e.readVariableLengthInt(),i){case 0:if(this.subtype="sequenceNumber",2!=n)return;return this.number=e.read16BitInt(),void 0;case 1:return this.subtype="text",this.text=e.readTo(n),void 0;case 2:return this.subtype="copyrightNotice",this.text=e.readTo(n),void 0;case 3:return this.subtype="trackName",this.text=e.readTo(n),void 0;case 4:return this.subtype="instrumentName",this.text=e.readTo(n),void 0;case 5:return this.subtype="lyrics",this.text=e.readTo(n),void 0;case 6:return this.subtype="marker",this.text=e.readTo(n),void 0;case 7:return this.subtype="cuePoint",this.text=e.readTo(n),void 0;case 32:if(this.subtype="midiChannelPrefix",1!==n)return;return this.channel=e.read8BitInt(),void 0;case 47:return this.subtype="endOfTrack",void 0;case 81:if(this.subtype="setTempo",3!=n)return;return this.microsecondsPerBeat=(e.read8BitInt()<<16)+(e.read8BitInt()<<8)+e.read8BitInt(),void 0;case 84:if(this.subtype="smpteOffset",5!=n)return;var s=e.read8BitInt();return this.frameRate={0:24,32:25,64:29,96:30}[96&s],this.hour=31&s,this.min=e.read8BitInt(),this.sec=e.read8BitInt(),this.frame=e.read8BitInt(),this.subframe=e.read8BitInt(),void 0;case 88:if(this.subtype="timeSignature",4!==n)return;return this.numerator=e.read8BitInt(),this.denominator=Math.pow(2,e.read8BitInt()),this.metronome=e.read8BitInt(),this.thirtyseconds=e.read8BitInt(),void 0;case 89:if(this.subtype="keySignature",2!==n)return;return this.key=e.read8BitInt(),this.scale=e.read8BitInt(),void 0;case 127:return this.subtype="sequencerSpecific",this.data=e.readTo(n),void 0;default:return this.subtype="unknown",this.data=e.readTo(n),void 0}return this.data=e.readTo(n),void 0}return 240==t?(this.type="sysEx",n=e.readVariableLengthInt(),this.data=e.readTo(n),void 0):247==t?(this.type="dividedSysEx",n=e.readVariableLengthInt(),this.data=e.readTo(n),void 0):(this.type="unknown",n=e.readVariableLengthInt(),this.data=e.readTo(n),a.dispatch("log:parsing:midi","unknown MIDI event type byte of length"+n),void 0)},getChannelEvent:function(e,t,n){var i,s;switch(0===(128&t)?(s=t,t=n.lastEventType):(s=e.read8BitInt(),n.lastEventType=t),i=t>>4,this.channel=15&t,this.type="channel",i){case 8:this.subtype="noteOff",this.midiNote=s,this.velocity=e.read8BitInt();break;case 9:this.midiNote=s,this.velocity=e.read8BitInt(),this.subtype=0===this.velocity?"noteOff":"noteOn";break;case 10:this.subtype="noteAftertouch",this.midiNote=s,this.amount=e.read8BitInt();break;case 11:this.subtype="controller",this.controllerType=s,this.value=e.read8BitInt();break;case 12:this.subtype="programChange",this.programNumber=s;break;case 13:this.subtype="channelAftertouch",this.amount=s;break;case 14:this.subtype="pitchBend",this.value=s+(e.read8BitInt()<<7);break;default:this.subtype="unknown",a.dispatch("log:parsing:midi","Unrecognised MIDI event type: "+i)}}},s.prototype={read32BitInt:function(){var e=(this.midiString.charCodeAt(this.pointer)<<24)+(this.midiString.charCodeAt(this.pointer+1)<<16)+(this.midiString.charCodeAt(this.pointer+2)<<8)+this.midiString.charCodeAt(this.pointer+3);return this.pointer+=4,e},read16BitInt:function(){var e=(this.midiString.charCodeAt(this.pointer)<<8)+this.midiString.charCodeAt(this.pointer+1);return this.pointer+=2,e},read8BitInt:function(){var e=this.midiString.charCodeAt(this.pointer);return this.pointer+=1,e},readTo:function(e){var t=this.midiString.substr(this.pointer,e);return this.pointer+=e,t},endOfFile:function(){return this.pointer>=this.midiString.length},readVariableLengthInt:function(){for(var e=0;;){var t=this.read8BitInt();if(!(128&t))return e+t;e+=127&t,e<<=7}}},r.prototype=Object.create(s.prototype,{readHeader:{value:function(){var e=new s(this.chunk.data);return this.formatType=e.read16BitInt(),this.trackCount=e.read16BitInt(),this.ticksPerBeat=e.read16BitInt(),32768&this.ticksPerBeat&&(this.ticksPerBeat=480,a.dispatch("log:parsing:midi","Time division in SMPTE, defaulting to 480 ticks per beat")),this.beatLengthInTicks=this.ticksPerBeat/4,this}},getTracks:{value:function(){for(var e,t,n,a=0,r=this.trackCount;r>a;a++)for(this.tracks[a]=[],t=0,this.getNextChunk("MTrk"),e=new s(this.chunk.data);!e.endOfFile();)n=new i(e,t,this),this.tracks[a].push(n),t=n.absoluteTime;return this}},getNextChunk:{value:function(e){return this.chunk.id=this.readTo(4),this.chunk.id!==e?(a.dispatch("log:parsing:midi",e,"but found",this.chunk.id),this):(this.chunk.length=this.read32BitInt(),this.chunk.data=this.readTo(this.chunk.length),this)}}}),function(e,t,n){var a=new r(e);switch(t){case"beatPattern":l(a,n);break;case"timePattern":o(a,n);break;default:l(a,n)}}}),dmaf("Parse",["DMAF","Assets","parseSampleMap","parseMidi","parseDescriptors","parseActions","events"],function(e,t,n,a,i,s,r){var o={midi:a,samplemap:n,descriptors:i,actions:s};return function(t){var n=Array.prototype.slice.call(arguments,1);return o[t]?o[t].apply(e,n):(r.dispatch("log:parsing","DMAF.parse: invalid type",t),null)}}),dmaf("parseSampleMap",["Assets","Utils","events"],function(e,t,n){function a(e){n.dispatch("log:error","Malformed Samplemap!",e||"No information about this error!")}function i(e,n){return t.attr(n,e)||a("Could not find required property "+e,n)}return function(n){var s,r,o,l=t.tag(n,"samplemap"),d=["sound","root","low","hi","vol"];t.each(l,function(n,l){return r=t.attr(l,"name"),s=t.tag(l,"range"),o={},"string"!=typeof r?a("name is undefined"):s&&s.length?(t.each(s,function(e,n){var a=o["range_"+e]={};t.each(d,function(e,t){a[t]=i(t,n)})}),e.setAsset("sampleMap",r,o),void 0):a("Couldn't find ranges for "+r)})}}),dmaf("beatPattern",["DMAF","Assets","events"],function(e,t,n){function a(e,t,n,a){this.eventName=e,this.beat=t,this.tick=n||1,this.data=a}function i(e,t){this.events={},this.patternId=e,this.startPosition=t||1,this.endPosition=0}return a.prototype.execute=function(e,t){var a=Object.create(this.data);e=Math.floor(e+(this.tick-1)*(t/120)),a.duration=e+a.duration*(t/120)/1e3-e,a.duration*=1e3,n.dispatch(this.eventName,e,a)},i.prototype.addEvent=function(e,t,n,i){this.events[t]=this.events[t]||[],this.events[t].push(new a(e,t,n,i)),t+1>this.endPosition&&(this.endPosition=t+1)},t.setAsset("beatPattern","empty_pattern",new i("empty_pattern",1)),i}),dmaf("beatPatternInstance",["beatPosition","events"],function(e,t){function n(n,a){if(!a.beatPattern)return t.dispatch("log:error:beatPatternInstance","Found no BeatPattern for channel",a.channel,". Please check MIDI file."),this.ERROR=!0,void 0;if(this.addAtSongPosition=a.addAtSongPosition,this.currentBeat=a.startPatternAtBeat,this.replaceActive=a.replaceActive,this.clearPosition=a.clearPosition,this.setAsCurrent=a.setAsCurrent,this.beatPattern=a.beatPattern,this.patternId=a.patternId,this.channel=a.channel,this.loop=a.loop,this.player=n,this.loop)a.loopLength?(this.loopLength=a.loopLength,this.removeAtSongPosition=new e(1/0,1,this.player.beatsPerBar)):t.dispatch("log:error:beatPatternInstance","You must specify a loopLength for pattern "+this.patternId+" if loop is set to true."),this.currentBeat===this.loopLength&&(this.currentBeat=1);else{var i=this.beatPattern.endPosition-this.currentBeat;this.removeAtSongPosition=this.addAtSongPosition.clone(),this.removeAtSongPosition.addOffset({bar:0,beat:i})}}return n.prototype.gotoNextBeat=function(){this.currentBeat++,this.loop&&this.currentBeat>this.loopLength&&(this.currentBeat=1)},n.prototype.executeEvents=function(e,t){var n=this.beatPattern.events[this.currentBeat];if(n)for(var a=0,i=n.length;i>a;a++)n[a].execute(e,t)},n}),dmaf("beatPosition",[],function(){function e(e,t,n){this.bar=void 0===e?1:e,this.beat=void 0===t?1:t,this.beatsPerBar=void 0===n?16:n}return e.prototype.getInBeats=function(){return(this.bar-1)*this.beatsPerBar+this.beat},e.prototype.gotoNextBeat=function(){this.beat===this.beatsPerBar?(this.bar++,this.beat=1):this.beat++},e.prototype.addOffset=function(e){for(this.beat+=e.beat;this.beat>this.beatsPerBar;)this.bar++,this.beat-=this.beatsPerBar;this.bar+=e.bar},e.prototype.clone=function(){return new e(this.bar,this.beat,this.beatsPerBar)},e}),dmaf("timePattern",["DMAF","events","Utils"],function(e,t,n){function a(e,t){this.patternId=e,this.events=t,this.startTime=-1,this.lastExecutedEventTime=-1,this.remove=!1}return a.prototype={reset:function(){this.startTime=-1,this.lastExecutedEventTime=-1,this.remove=!1},executeEvents:function(t){var n=1e3*e.context.currentTime-this.startTime,a=-1;switch(t){case"LINEAR":this.executeLinear(n,a);break;case"DEFAULT":this.executeDefault(n,a)}return this.remove},executeLinear:function(a){var i,s;for(i=0,s=this.events.length;s>i;i++)this.events[i].absoluteTime>this.lastExecutedEventTime&&a>this.events[i].absoluteTime-e.preListen&&(dmaf.log&&t.dispatch("log:pattern:timePattern","dispatching",this.events[i].trigger),t.dispatch(this.events[i].trigger,this.startTime+this.events[i].absoluteTime,n.clone(this.events[i])),this.lastExecutedEventTime=this.events[i].absoluteTime);a>this.events[s-1].absoluteTime+300&&(this.remove=!0)},executeDefault:function(a,i){var s,r;if(-1===this.lastExecutedEventTime){for(s=0,r=this.events.length;r>s;s++)a>this.events[s].absoluteTime-e.preListen&&(dmaf.log&&t.dispatch("log:pattern:timePattern","dispatching",this.events[s].trigger),t.dispatch(this.events[s].trigger,this.startTime+this.events[s].absoluteTime,n.clone(this.events[s])),i=this.events[s].absoluteTime);this.lastExecutedEventTime=i,a>this.events[r-1].absoluteTime+300&&(this.remove=!0)}else this.executeLinear(a,i)}},a}),dmaf("Iterator",[],function(){function e(e,n){this.index=-1,this.array=e,this.getNext=t[n],this.A=e.slice(0),this.B=[]}var t={ROUND_ROBIN:function(){return this.index++,this.index%=this.array.length,this.array[this.index]},RANDOM_FIRST:function(){return-1===this.index?this.array[Math.floor(Math.random()*this.array.length)]:this.array[++this.index]},RANDOM:function(){return this.array[Math.floor(Math.random()*this.array.length)]},SHUFFLE:function(){var e;this.A.length||(this.A=this.array.slice(0),this.B=[]);do e=Math.floor(Math.random()*this.A.length);while(this.A[e]===this.previous);return this.B.push(this.A.splice(e,1)[0]),this.previous=this.B[this.B.length-1],this.previous}};return e}),dmaf("Utils",["events"],function(e){function t(e,t){return function(n){return n&&n[e]===t}}function n(e,t){return function(n){return n&&n[e]!==t}}function a(e,t,n,a,i,s){var r=t-e,o=a-n;return function(a){a=Math.max(a,e),a=Math.min(a,t);var i=o*(a-e)/r+n;return s&&(i=parseInt(i,10)),i}}function i(e){return function(t){return t[e]}}function s(t,n,a){var i,s,o,l=0;if(a=r(_,a)&&a||null,r(g,t))for(l=0,o=t.length;o>l&&!n.call(a,l,t[l]);l++);else if("object"==typeof t)for(i=Object.keys(t),l=0,o=i.length;o>l&&(s=i[l],"length"===s||!n.call(a,s,t[s]));l++);else e.dispatch("log:error","Not array or object",typeof t,t),console.log(t,n,a)}function r(e,t){switch(e){case u:return t===+t&&0===t%1;case m:return t===+t;case y:return t===void 0||"undefined"===t;case f:return"boolean"==typeof t;case h:return"string"==typeof t;case g:return"[object Array]"===x.call(t);case v:return"[object Function]"===x.call(t);case _:return"[object Object]"===x.call(t);default:return!1}}function o(e){var t;return s(b,function(n,a){return r(a,e)?(t=a,!0):void 0}),t}function l(e,t){return s(e,function(e,n){r(_,n)?(t[e]={},l(n,t[e])):r(g,n)?(t[e]=[],l(n,t[e])):t[e]=n
}),t}function d(t){var n;if(r(_,t))n={};else{if(!r(g,t))return e.dispatch("log:error","cannot clone non object",t),void 0;n=[]}return l(t,n)}function c(t,n){return t>n.max&&(e.dispatch("log:error",t,"is out of range. constraining",n.name,"to:",n.max),t=n.max),n.min>t&&(e.dispatch("log:error",t,"is out of range. constraining",n.name,"to:",n.min),t=n.min),t}function p(t,n){var a;if(r("undefined",t)||!t.type)return console.error("log:error","DMAF Verification Error: Malformed descriptor!"),void 0;if(r("undefined",n))return M(t);switch(t.type){case"int":if(n=parseInt(n,10),!N.test(n)){a=!0;break}n=c(n,t);break;case"float":if(n=parseFloat(n),!r(m,n)&&!r(u,n)){a=!0;break}n=c(n,t);break;case"string":"undefined"===n&&(n=void 0),"string"!=typeof n&&(a=!0);break;case"list":a=!(n instanceof Array);break;case"enum":r("array",t.values)?-1===t.values.indexOf(n)&&(e.dispatch("log:error",n,"is not valid enum for",t.name),a=!0):(e.dispatch("log:error","Malformed descriptors object",t.name),a=!0);break;case"boolean":a=!r("boolean",n);break;default:e.dispatch("log:error","Malformed defaults object. Please check the descriptors.xml")}return a?(e.dispatch("log:error",n,"is not valid for",t.name),e.dispatch("log:error","Defaulting",t.name,"to",M(t)),M(t)):n}var u="int",m="float",h="string",f="boolean",_="object",g="array",y="undefined",v="function",b=[u,m,h,f,_,g,y,v],A={cflat:-1,c:0,csharp:1,dflat:1,d:2,dsharp:3,eflat:3,e:4,esharp:5,fflat:4,f:5,fsharp:6,gflat:6,g:7,gsharp:8,aflat:8,a:9,asharp:10,bflat:10,b:11,bsharp:12},T={automatable:"boolean","default":"fromType",valueType:"string",value:"fromType",min:"fromType",max:"fromType",name:"string",type:"string",values:"list",unit:"string",src:"string"},P="getAttribute",E="getElementsByTagName",N=/^\s*-?[0-9]{1,10}\s*$/,I=Object.prototype,x=I.toString,M=i("default");return{ajax:function(t,n,a){function i(){if(4===this.readyState){var n,i=a&&a.context||null,d=this.status>=200&&300>this.status||304===this.status;if(!d||!this.response)return r.onerror=function(){},s();if(a&&a.expectType&&typeof this.response!==a.expectType)return s();if(n=a.responseXML?this.responseXML:this.response,a.responseXML&&!this.responseXML)return e.dispatch("log:error","Problem with XMLHttpRequest: XML is missing or malformed.",t),s();for(var c=0,p=l.length;p>c;c++)o.unshift(n),n=l[c].apply(i,o)}}var s,r=new XMLHttpRequest,o=[],l=[n];a?(a.override&&r.overrideMimeType(a.override),a.chain&&(l=l.concat(a.chain)),a.args&&(o=o.concat(a.args))):a={},s=a.fail?a.fail:function(){e.dispatch("log:error","DMAF ajax: Problem with request",t)},r.onerror=s,r.onreadystatechange=i,r.open("GET",t,!0),a&&a.responseType&&(r.responseType=a.responseType),r.send()},clone:d,constrain:c,attr:function(e,t){return e&&t&&e[P]?e[P](t):null},average:function(e){return sum(e)/e.length},dbToJSVolume:function(e){var t=Math.max(0,Math.round(100*Math.pow(2,e/6))/100);return Math.min(1,t)},dbToWAVolume:function(e){return Math.max(0,Math.floor(100*Math.pow(2,e/6))/100)},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},each:s,extend:l,fromString:function(t,n,a){if(n===void 0||"undefined"===n)return void 0;switch(t){case"string":return n;case"boolean":return"true"===n;case"int":return parseInt(n,10);case"float":return parseFloat(n);case"list":return n.split(",");case"enum":return n;case"fromType":return this.fromString(a[P]("type"),n,a);default:e.dispatch("log:error","DMAF convert string to value",t,n,a)}},getType:o,add:function(e,t){return e+t},subtract:function(e,t){return e-t},sum:function(e){return e.reduce(add)},prop:i,propIs:t,propIsnt:n,isType:r,MIDIToFrequency:function(e){return 8.1757989156*Math.pow(2,e/12)},nope:function(){},parseProperty:function(e){for(var t,n=e.attributes,a={},i=0,s=n.length;s>i;i++)t=n[i].nodeName,T[t]&&(a[t]=fromString(T[t],n[i].value,e));return a},propertyModel:T,removeWhiteSpace:function(e){return e.replace(/\s+/g,"")},scaler:a,tag:function(e,t){return e&&t&&e[E]?e[E](t):null},toMIDINote:function(e){var t,n,a,i;return"#"===e[1]||"s"===e[1].toLowerCase()?(n=e[0].toLowerCase()+"sharp",i=2):"b"===e[1]?(n=e[0].toLowerCase()+"flat",i=2):(n=e[0].toLowerCase(),i=1),n=A[n],a="-"===e[i]?12*(0-parseInt(e[i+1],10)+2):12*(parseInt(e[i],10)+2),t=a+n},verify:p}}),dmaf("CheckMobile",["DMAF","Instance","events"],function(e,t,n){function a(){}var i=!1,s={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return s.Android()||s.BlackBerry()||s.iOS()||s.Opera()||s.Windows()}};a.prototype=Object.create(t,{onAction:{value:function(e){switch(e){case"splash_screen":null===s.any()?(n.dispatch("init_beatpatternplayer"),n.dispatch("splash_screen_music")):i===!0&&n.dispatch("splash_screen_music");break;case"info_screen":null===s.any()?n.dispatch("info_screen_music"):i===!0?n.dispatch("info_screen_music"):(n.dispatch("init_beatpatternplayer"),n.dispatch("info_screen_music"),i=!0)}}}}),e.registerInstance("customCode","CheckMobile",a)}),dmaf("LevelTransposer",["DMAF","Instance"],function(e,t){function n(){this.transposeValue=0,this.lastActionTime=-5e3}n.prototype=Object.create(t,{onAction:{value:function(e,t){var n=5e3>t-this.lastActionTime;switch(e){case"transpose_midi":if(n)return;this.transposeValue++;break;case"transpose_midi_reset":this.transposeValue=0}this.lastActionTime=t}}}),e.registerInstance("customCode","LevelTransposer",n)});