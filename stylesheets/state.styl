.state
  visibility hidden

  h2, h3, h4, h5, p
    text-transform uppercase

  &.active
    visibility visible

  &.inactive .dialog.middle .content
    transform-origin center center
    transform rotateX( -90deg )

  &.loading
    position relative
    background-color $color-beige
    z-index 10
    width 100%
    height 100%
    visibility visible
    height 100%
    width 100%

    display flex
    box-orient horizontal
    box-direction row
    box-wrap nowrap
    justify-content center
    align-content stretch
    align-items center

    > *
      align-self center
      flex 0 1 auto

    .computer
      color $color-loading-blue
      // display inline
      position relative
      font-size 14px
      text-align center
      text-transform uppercase
      letter-spacing 3px

      &:after
        height 49px
        margin-left 50%
        width 1px
        border-left 1px dotted $color-beige
        absolute top 31px left -2px
        content ' '
        display block

      &:before
        color $color-loading-blue
        display block
        font-size 136px
        margin-bottom 20px

  &.friend-arrived,
  &.friend-waiting,
  &.game-wait,
  &.friend-accept,
  &.friend-left
    h2, h3
      padding 11px 0px 23px 0px

    button
      margin-top 0

  &.state.friend-accept
    h2
      padding 10px 0px 5px 0px

  &.state.game-instructions,
  &.state.game-start
    box-orient horizontal
    box-pack center
    box-align center
    width 100%
    height 100%
    position: absolute
    top 0
    left 0
    z-index 3

  &.friend-invite
    .share-url
      background $color-beige
      color #2aa52a
      min-width 350px
      padding 8px 5px 7px 5px
      border 1px solid #2aa52a
      display inline-block
      overflow hidden
      white-space nowrap
      position relative
      text-transform none
      &:focus
        outline none
      span
        z-index 2
        font-size 17px
        &::selection
          background #2aa52a
          color $color-beige

      span
        position relative
    p
      // max-width 350px
      margin 0 auto 20px
      line-height 1.4em

    button
      font-size 11px

  &.friend-left
    .cpu-wth-eyes
      margin-bottom 0
    .buttons
      padding 0


  &.game-prompt
    pointer-events none
    z-index 1
    height 100%
    .state
      height 100%
      width 100%
      absolute top 0 left 0
      z-index 4

      &.active
        .content
          opacity 1
          transition-delay .3s
          transition-duration .5s
      &.inactive
        .content
          transition-delay 0s
          transition-duration .3s
          opacity 0

      &.game-over-prompt
        h4
          font-size 70px

    .content
      display flex
      box-orient horizontal
      box-direction row
      box-wrap nowrap
      justify-content center
      align-content stretch
      align-items center

      width 100%
      height 100%
      opacity 0
      transition opacity .4s ease-out

    .prompt
      align-self center
      flex 0 1 auto
      width 100%
      text-align center
      padding 40px 0

      h1, h2, h3, h4
        font-size 100px
        margin 0

      div.subtitle
        text-transform uppercase
        color $color-beige

    .background
      height 33%
      width 100%
      background $color-red
      position absolute
      top 33%
      z-index 3
      transition background .5s


    &.active
      .background
        opacity .9
    &.inactive
      .background
        opacity 0

  &.game-pause
    .buttons
      margin-top 5px
      padding-top 0
    button
      display block
      min-width 275px
      margin 0 auto
      &:last-child
        margin-top 20px
    h2
      padding-bottom 20px

  &.webcam-activate
    .dialog
      h1
        font-size 11px
      button, .button
        margin 10px 0px 20px 0px
      .buttons
        absolute top 50% right 30px
        margin-top -18px
        line-height 1em
        padding 0
        button, .button
          margin 0
          font-size 11px
          padding 10px
  &.webcam-information
    .dialog
      text-align center
      height 100%
      .content
        height auto
        bottom 0
        position absolute
    h1, h3
      font-size 14px
      padding 0
      color $color-red
      margin 0
      line-height 1.5em

    h1, h3
      margin-top 30px
      margin-bottom 5px

    h3
      margin 16px 0 0

    p, ol
      font-size 11px
      color $color-red
      letter-spacing 2px
    ol
      list-style inside
      list-style-type decimal
      line-height 1.65em
      margin-bottm 10px
      li
        &:before
          counter-increment item

    button, a.button
      margin 20px 0px 30px 0px
    .alert-info
        padding-right 200px

  &.webcam-waiting
    &.active
     .dialog
      .animate
        transition-delay 1.5s


  &.game-over
    text-align center
    height 100%

    .bitmap
      line-height 1.2em

    .subtitle
      color $color-yellow
      margin 0
      font-size 25px
      text-shadow 0 .06em 0 #876b2a
      line-height 1.2em
      margin-top -23px
      margin-bottom 10px

    #opponent-levels
      &:after
        background $color-blue

    .dialog
      height 33%
      min-height 266px

      .animate
        transition-delay 500ms

    .scoreboard
      color #e83129
      padding 0px 0px 30px 0px
      &.multiplayer
        .levels:last-child
          margin-left 8px
        .social
          margin 42px 0 20px
        h3
          padding 10px 0 19px


      div
        display block
        &:last-child
          margin-right 0px

    button
      width 289px
      padding-left 0
      padding-right 0

      &:last-child
        margin-left 17px

    ul.social
      .icon
        background $color-green
        color $color-beige

        &:hover
          color $color-green
          background $color-beige
          border-color $color-green

    h3
      padding 4px 0 17px

    .levels
      font-size 24px
      height 50px
      display inline-block
      box-sizing border-box
      padding 21px 0 0 0
      color $color-beige
      margin-bottom 20px
      min-width 52px

      position relative
      &:after
        width 50px
        height 50px
        position absolute
        display block
        content ' '
        top 0
        left 50%
        margin-left -25px
        border-radius 25px
        background $color-red


      span
        display block
        font-size 11px
        margin-top 31px
        color $color-blue

    i
      position relative
      z-index 1
      font-style normal
      letter-spacing 0

  &.game-instructions
    z-index 3
    .info-animation
      display inline-block
      // width 210px
      p
        font-size 14px
        white-space nowrap
        width 490px
        margin-left -145px
      &.hidden
        display none

  &.game-cssinfo
    background #08141d
    absolute top 0 left 0
    width 100%
    height 100%
    overflow-y auto
    pointer-events painted
    -webkit-overflow-scrolling touch

    .content
      margin 0 auto
      width 320px
      padding 15px 0 10px
      box-sizing border-box

    img
      width 100%
      height auto
      margin 15px auto

    p
      text-align center
      margin 0

    p, a
      color $color-beige
      font-size 13px
      line-height 1.4em
      letter-spacing 0
      text-transform inherit


    .terms
      display block
      padding 15px
      text-align center


    .buttons
      position fixed!important

    h1, h2
      color $color-beige
      font-size 18px
      line-height 1.4em
      text-transform uppercase
      text-align center
      margin 27px auto 0px
      max-width 220px
      min-height 60px

